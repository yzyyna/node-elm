webpackJsonp([23],{"3umr":function(t,e){},"71lc":function(t,e){},A7UP:function(t,e){},D5hj:function(t,e){},HXdp:function(t,e){},LVEu:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("Xxa5"),i=a.n(n),r=a("exGp"),o=a.n(r),s=a("Dd8w"),l=a.n(s),c=a("NYxO"),m={name:"",data:function(){return{conditions:{},selYear:"",projectDataChart:null,projectDataOption:{title:{text:"执行中项目执行进度",textStyle:{color:"#fff",fontSize:14,fontWeight:"normal"}},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{right:0,itemWidth:20,itemHeight:16,formatter:["{a|{name}}"].join("\n"),textStyle:{color:"#fff",height:16,rich:{a:{verticalAlign:"middle"}}}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"value",boundaryGap:[0,.01],axisLabel:{color:"#fff",fontSize:13}},yAxis:{type:"category",axisLine:{show:!1},axisTick:{show:!1,alignWithLabel:!0},splitLine:{show:!0,interval:4},axisLabel:{color:"#fff",fontSize:13},data:[{key:"1",value:"定期回款"},{key:"2",value:"付全款执行中"},{key:"3",value:"已结算未回款"},{key:"4",value:"完工未结算"},{key:"5",value:"15天内到期"}].map(function(t){return t.value})},series:[{name:"项目数量",type:"bar",data:[]}]},projectStatusChart:null,projectStatusOption:{title:{text:"进行中项目\n200个",textStyle:{color:"#fff",fontSize:18,lineHeight:20},x:"center",y:"center"},tooltip:{trigger:"item"},legend:{orient:"vertical",bottom:"5%",left:"0",textStyle:{color:"#fff"}},color:["#ffcfa8","#8ec9f4","#cdbfe8","#3180c0","#6bc1bd","#6552d5","#53a7be"],series:[{name:"工程项目进行状态",type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,label:{show:!1},emphasis:{label:{show:!0,fontSize:"14",fontWeight:"normal",color:"#fff",formatter:"{b} \n {c}",lineHeight:18},labelLine:{show:!0,lineStyle:{color:"#00ccff"}}},labelLine:{show:!1},data:[{value:1048,name:"备机"},{value:735,name:"发货"},{value:580,name:"安装"},{value:484,name:"调试"},{value:580,name:"维保策略执行"},{value:484,name:"回收"},{value:300,name:"检修存储"}]},{type:"pie",radius:["40%","74%"],center:["50%","50%"],emphasis:{scale:!1},itemStyle:{borderWidth:20,color:"rgba(255, 255, 255, 1)"},label:{show:!1},tooltip:{show:!1},data:[100],z:-1}]}}},computed:l()({},Object(c.c)(["screenDataConditions"])),watch:{screenDataConditions:{handler:function(t,e){this.conditions=t,this.getPageData()},deep:!0},selYear:function(t,e){this.conditions.year=this.$moment(t).format("YYYY"),this.toggleScreenDataConditons(this.conditions)}},mounted:function(){var t=this;this.selYear=(new Date).getFullYear()+"",this.resizefun=function(){t.projectDataChart.resize(),t.projectStatusChart.resize()},window.addEventListener("resize",this.resizefun)},beforeDestroy:function(){window.removeEventListener("resize",this.resizefun),this.resizefun=null},methods:l()({},Object(c.b)(["toggleScreenDataConditons"]),{getPageData:function(){this.echartsInit()},echartsInit:function(){var t=document.getElementById("project-data-echart"),e=this.$echarts.init(t,null,{renderer:"svg"});this.projectDataOption.series[0].data=[18,234,29,104,63],this.projectDataChart=e,e.setOption(this.projectDataOption);var a=document.getElementById("project-status-echart"),n=this.$echarts.init(a,null,{renderer:"svg"});this.projectStatusChart=n,n.setOption(this.projectStatusOption)}})},p={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"left-content"},[a("div",{staticClass:"content-item content-item__top"},[a("el-row",{staticClass:"mb16",attrs:{type:"flex",justify:"space-between",align:"middle"}},[a("el-col",[a("div",{staticClass:"project-title"},[t._v("项目概况")])]),t._v(" "),a("el-col",{staticClass:"year-select-box"},[a("el-date-picker",{staticClass:"year-select-box",attrs:{type:"year",clearable:!1,placeholder:"选择年","prefix-icon":"el-icon-date",placement:"bottom-start"},model:{value:t.selYear,callback:function(e){t.selYear=e},expression:"selYear"}})],1)],1),t._v(" "),a("el-row",{staticClass:"mb16 project-data-box",attrs:{type:"flex",justify:"space-between"}},[a("el-col",{attrs:{span:6}},[a("div",[t._v("120")]),t._v(" "),a("p",[t._v("项目总数")])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("div",[t._v("120")]),t._v(" "),a("p",[t._v("执行中")])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("div",[t._v("120")]),t._v(" "),a("p",[t._v("完工结算中")])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("div",[t._v("120")]),t._v(" "),a("p",[t._v("已完成")])])],1),t._v(" "),a("div",{attrs:{id:"project-data-echart"}}),t._v(" "),a("el-row",{staticClass:"mb16",attrs:{type:"flex"}},[a("el-col",[a("div",{staticClass:"project-title"},[t._v("机组使用状态")])])],1),t._v(" "),a("el-row",{staticClass:"crew-data-box",attrs:{type:"flex",justify:"space-between"}},[a("el-col",{attrs:{span:6}},[a("div",[t._v("120")]),t._v(" "),a("p",[t._v("空闲中")])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("div",[t._v("120")]),t._v(" "),a("p",[t._v("租赁中")])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("div",[t._v("120")]),t._v(" "),a("p",[t._v("检修中")])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("div",[t._v("120")]),t._v(" "),a("p",[t._v("待归还")])])],1),t._v(" "),a("el-row",{staticClass:"carousel-box"},[a("el-col",[a("el-carousel",{ref:"carousel",attrs:{height:"45px",interval:5e3,direction:"vertical",autoplay:!0,"indicator-position":"none"}},t._l(4,function(e){return a("el-carousel-item",{key:e},[a("div",{staticClass:"crew-info"},[a("i",{staticClass:"el-icon-warning"}),t._v(t._s(e)+"\n              即将到期机组：COMM012112010250【3天后到期】\n            ")])])}),1)],1)],1)],1),t._v(" "),a("div",{staticClass:"content-item content-item__bottom"},[a("el-row",{staticClass:"mb16",attrs:{type:"flex"}},[a("el-col",[a("div",{staticClass:"project-title"},[t._v("工程项目进行状态")])])],1),t._v(" "),a("div",{attrs:{id:"project-status-echart"}})],1)])},staticRenderFns:[]};var d=a("VU/8")(m,p,!1,function(t){a("lrkD")},"data-v-07b94b0c",null).exports,h=a("lHA8"),u=a.n(h),v={filterData:{itemType:[{value:0,label:"代运维项目"},{value:1,label:"代租赁项目"},{value:2,label:"自有项目"}],contract:[{contractNum:"A-001",itemName:"A-001项目名",companyId:"A",company:"A企业测试",itemType:0,mchNum:8,mch:{7113:[100.539784611301,36.068703134228,"青海省海南藏族自治州共和县",7113,0,"A-001项目名",1,"FPSS7821110129","A-001","A企业测试"],7145:[110.296758083082,25.2945102743195,"广西壮族自治区桂林市叠彩区翊武路21号-2栋",7145,0,"A-001项目名",0,"KWSS7821110368","A-001","A企业测试"],7186:[119.299966768677,36.698222799045,"山东省潍坊市奎文区",7186,0,"A-001项目名",1,"FPSS7821110136","A-001","A企业测试"],7242:[118.282963580688,35.0544740349299,"山东省临沂市兰山区启阳路",7242,0,"A-001项目名",0,"FPSS8610110002","A-001","A企业测试"],7306:[119.590810485912,32.5044506591801,"江苏省扬州市江都区纣灯路",7306,0,"A-001项目名",0,"FPSS7821120020G","A-001","A企业测试"],7307:[120.065006792601,30.8478687801312,"浙江省湖州市吴兴区港南路",7307,0,"A-001项目名",0,"FPSS7821120021G","A-001","A企业测试"],7354:[119.374486122732,32.3021842573168,"江苏省扬州市邗江区华声路",7354,0,"A-001项目名",0,"FPSS7821120045","A-001","A企业测试"],7360:[120.07258241375,30.8482655039984,"浙江省湖州市吴兴区二环西路",7360,0,"A-001项目名",1,"FPSS7821120051","A-001","A企业测试"]}},{contractNum:"A-002",itemName:"A-002项目名",companyId:"A",company:"A企业测试",itemType:0,mchNum:9,mch:{7061:[121.834925048569,31.8967666721496,"江苏省南通市启东市东海路",7061,0,"A-002项目名",0,"COMM012111010008","A-002","A企业测试"],7117:[119.974196196604,32.4663417892014,"江苏省泰州市海陵区S231(东环快速路)",7117,0,"A-002项目名",0,"FPSS7821110133","A-002","A企业测试"],7128:[115.577791716732,35.2466297538401,"山东省菏泽市牡丹区",7128,0,"A-002项目名",0,"KWSS7821110351","A-002","A企业测试"],7169:[113.444503762799,22.8712060084029,"广东省广州市南沙区市鱼路120",7169,0,"A-002项目名",1,"京东物流1200KW2号机","A-002","A企业测试"],7183:[113.014270709334,28.0790317619882,"湖南省长沙市雨花区黄谷路",7183,0,"A-002项目名",1,"FPSS8621110005","A-002","A企业测试"],7195:[106.774694891796,29.5807699438149,"重庆市南岸区",7195,0,"A-002项目名",0,"FPSS7821110404","A-002","A企业测试"],7206:[102.719070513815,30.0210056484381,"四川省雅安市天全县",7206,0,"A-002项目名",0,"FPSS7821110409","A-002","A企业测试"],7263:[114.126205672441,32.1253963653675,"河南省信阳市平桥区南京大道东段",7263,0,"A-002项目名",0,"FPSS7821110442","A-002","A企业测试"],7626:[105.773506973546,29.5145603576384,"重庆市大足区星湖路",7626,0,"A-002项目名",1,"FPSS7821120098","A-002","A企业测试"]}},{contractNum:"B-001",itemName:"B-001项目名",companyId:"B",company:"B企业",itemType:0,mchNum:7,mch:{7116:[105.938200128788,29.3248709736656,"重庆市永川区凤栖路",7116,0,"B-001项目名",0,"FPSS7821110132","B-001","B企业"],7127:[125.527780952109,44.0291778121449,"吉林省长春市九台区",7127,0,"B-001项目名",0,"KWSS7821110350","B-001","B企业"],7243:[121.590355792514,31.3197736611831,"孚创出厂测试",7243,0,"B-001项目名",0,"FPSS8610110003","B-001","B企业"],7250:[117.701561075808,38.325829779005,"河北省沧州市黄骅市G307(中疏港路)",7250,0,"B-001项目名",0,"FPSS7821110432","B-001","B企业"],7256:[113.913590339179,22.7742317161349,"广东省深圳市光明区双明大道",7256,0,"B-001项目名",1,"FPSS7821110438","B-001","B企业"],7270:[121.456913868281,32.060412874521,"江苏省南通市海门区S335",7270,0,"B-001项目名",1,"FPSS7821110449","B-001","B企业"],7308:[120.072582413924,30.8482675051434,"浙江省湖州市吴兴区二环西路辅路",7308,0,"B-001项目名",0,"FPSS7821120022G","B-001","B企业"]}},{contractNum:"B-002",itemName:"B-002项目名",companyId:"B",company:"B企业",itemType:1,mchNum:9,mch:{7111:[117.410637049804,38.9715801148868,"天津市津南区福鑫路14号",7111,1,"B-002项目名",0,"FPSS7821110127","B-002","B企业"],7129:[115.582386269411,35.2506500432747,"山东省菏泽市牡丹区淮河路",7129,1,"B-002项目名",1,"KWSS7821110352","B-002","B企业"],7171:[106.472289507154,29.7548884833009,"重庆市北碚区嘉德大道",7171,1,"B-002项目名",0,"重庆神驰（FPSS7821109999）","B-002","B企业"],7187:[118.404528336684,34.3492700062725,"江苏省徐州市新沂市琼江路",7187,1,"B-002项目名",1,"FPSS7821110137","B-002","B企业"],7188:[119.386407565254,32.2952734531089,"江苏省扬州市邗江区安桥路",7188,1,"B-002项目名",0,"FPSS7821110138","B-002","B企业"],7189:[117.361998808647,32.7935687876956,"安徽省滁州市凤阳县",7189,1,"B-002项目名",0,"FPSS7821110139","B-002","B企业"],7269:[104.599539650982,36.7086990042039,"甘肃省白银市靖远县",7269,1,"B-002项目名",0,"FPSS7821110448","B-002","B企业"],7290:[104.008642246953,30.71199979115,"四川省成都市金牛区振兴西一路",7290,1,"B-002项目名",0,"FPSS7821120006","B-002","B企业"],7490:[118.41171327321,34.3511749884829,"江苏省徐州市新沂市",7490,1,"B-002项目名",0,"FPSS7821120056","B-002","B企业"]}},{contractNum:"B-003",itemName:"B-003项目名",companyId:"B",company:"B企业",itemType:2,mchNum:10,mch:{6455:[121.838722085204,31.8951748689989,"江苏省南通市启东市滨海大道",6455,2,"B-003项目名",1,"FPSS-1500智能动力装备","B-003","B企业"],7177:[109.42272023164,29.4724339426725,"湖南省湘西土家族苗族自治州龙山县岳麓大道",7177,2,"B-003项目名",0,"KWSS7821110393","B-003","B企业"],7227:[110.127647188292,22.5668764275565,"广西壮族自治区玉林市福绵区",7227,2,"B-003项目名",1,"FPSS7821110422","B-003","B企业"],7230:[112.184314374168,21.9906812407913,"广东省阳江市阳东区G325(广南线)",7230,2,"B-003项目名",0,"阳江监狱300Kw","B-003","B企业"],7232:[93.2492256389313,36.491504599189,"青海省海西蒙古族藏族自治州格尔木市",7232,2,"B-003项目名",1,"FPSS7821110427","B-003","B企业"],7280:[110.733442496669,35.7241401798248,"山西省运城市河津市",7280,2,"B-003项目名",0,"FPSS8621110011","B-003","B企业"],7286:[119.976535185898,32.4890842165978,"江苏省泰州市海陵区永吉路",7286,2,"B-003项目名",1,"海南250千瓦东康+金都来","B-003","B企业"],7301:[119.31699524853,34.7152978532731,"江苏省连云港市连云区",7301,2,"B-003项目名",0,"FPSS7821120015G","B-003","B企业"],7359:[120.067015595985,30.8454536798964,"浙江省湖州市吴兴区敬业路",7359,2,"B-003项目名",0,"FPSS7821120050","B-003","B企业"],7501:[114.01857139718,34.7025036869957,"河南省郑州市中牟县",7501,2,"B-003项目名",0,"FPSS7821120067","B-003","B企业"]}},{contractNum:"C-001",itemName:"C-001项目名",companyId:"C",company:"C企业",itemType:2,mchNum:8,mch:{7054:[121.834742526058,31.8968130066722,"江苏省南通市启东市明珠路",7054,2,"C-001项目名",1,"COMM012111010001","C-001","C企业"],7115:[113.280522091173,22.6468768771579,"广东省中山市仁和南街",7115,2,"C-001项目名",1,"FPSS7821110131","C-001","C企业"],7193:[103.985221372722,30.9538843616335,"四川省成都市彭州市S1(成万高速)",7193,2,"C-001项目名",1,"FPSS7821110402","C-001","C企业"],7214:[117.750987785915,30.8585976615471,"安徽省铜陵市郊区",7214,2,"C-001项目名",0,"FPSS7821110417","C-001","C企业"],7276:[120.340252916649,32.3424880420518,"江苏省泰州市泰兴市星光路",7276,2,"C-001项目名",0,"FPSS7821110454","C-001","C企业"],7288:[114.297736301019,34.8422963563316,"河南省开封市龙亭区G30(连霍高速)",7288,2,"C-001项目名",1,"AMST 120KW康明斯+阳光","C-001","C企业"],7622:[119.541282694768,32.4746459493212,"江苏省扬州市江都区S28(启扬高速)",7622,2,"C-001项目名",0,"FPSS7821120094","C-001","C企业"],7635:[119.638989951706,27.1078937568733,"福建省宁德市福安市G104(京岚线)",7635,2,"C-001项目名",0,"FPSS7821120104","C-001","C企业"]}},{contractNum:"D-001",itemName:"D-001项目名",companyId:"D",company:"D企业",itemType:1,mchNum:10,mch:{7163:[112.22522487385,22.7342426811559,"广东省云浮市新兴县",7163,1,"D-001项目名",1,"KWSS7821110385","D-001","D企业"],7170:[101.686845423476,21.1810962041277,"Namtha, Louang Namtha, Laos",7170,1,"D-001项目名",0,"YNFD-30CG1（刘彦超）","D-001","D企业"],7191:[103.98565695439,30.9547211105921,"四川省成都市彭州市",7191,1,"D-001项目名",0,"FPSS7821110400","D-001","D企业"],7192:[103.977021216848,30.9604358669667,"四川省成都市彭州市独柏路",7192,1,"D-001项目名",1,"FPSS7821110401","D-001","D企业"],7236:[119.290277260797,36.6933995481707,"山东省潍坊市奎文区梨园街",7236,1,"D-001项目名",0,"FPIE-360-WP","D-001","D企业"],7257:[113.914094165006,22.7744189370899,"广东省深圳市光明区公明滨河西路",7257,1,"D-001项目名",1,"FPSS7821110439","D-001","D企业"],7271:[118.452711637223,34.0013978385639,"江苏省宿迁市宿豫区新陈线路",7271,1,"D-001项目名",1,"FPSS7821110450","D-001","D企业"],7297:[103.841111157478,29.3709323472179,"四川省乐山市五通桥区",7297,1,"D-001项目名",1,"FPSS7821120011G","D-001","D企业"],7299:[103.841183593447,30.5862637330616,"四川省成都市双流区致富路",7299,1,"D-001项目名",1,"FPSS7821120013G","D-001","D企业"],7500:[113.445295211179,22.8709436047562,"广东省广州市南沙区市鱼路118",7500,1,"D-001项目名",0,"太和颐康玉柴500KW","D-001","D企业"]}}]},tableAlert:{column:[{prop:"mchName",label:"机组名称",width:2,key:0},{prop:"itemNum",label:"项目编号",width:2,key:1},{prop:"content",label:"报警内容",width:3,key:2},{prop:"time",label:"报警时间",width:2,key:3}],data:[{mchName:"FPSS8610110004",itemNum:1,content:"液位传感器故障报警",time:"/Date(1640847045000)/"},{mchName:"FPSS8610110004",itemNum:1,content:"CAN2多机通讯故障报警",time:"/Date(1640847045000)/"},{mchName:"FPSS7821120067",itemNum:1,content:"充电电压低报警",time:"/Date(1640847133000)/"},{mchName:"FPSS7821110449",itemNum:1,content:"升降速失败停机",time:"/Date(1640847156000)/"},{mchName:"FPSS7821110449",itemNum:1,content:"停机失败",time:"/Date(1640847156000)/"},{mchName:"FPSS7821110449",itemNum:1,content:"充电电压低报警",time:"/Date(1640847156000)/"},{mchName:"FPSS7821120266G",itemNum:1,content:"欠速停机",time:"/Date(1640847137000)/"},{mchName:"FPSS7821120266G",itemNum:1,content:"充电电压低报警",time:"/Date(1640847126000)/"}]},tableKeep:{column:[{prop:"keepBat",label:"维保节拍",width:2,key:0},{prop:"mchName",label:"机组名称",width:2,key:1},{prop:"itemNum",label:"项目编号",width:2,key:2},{prop:"keepTime",label:"维保时间",width:2,key:3}],data:[{keepBat:"1-23-4",mchName:"YNHU-39JJJ",itemNum:"HFJFH-21333",keepTime:"2021-12-12"},{keepBat:"2-23-4",mchName:"YNHU-39JJJ",itemNum:"HFJFH-21333",keepTime:"2021-12-12"},{keepBat:"3-23-4",mchName:"YNHU-39JJJ",itemNum:"HFJFH-21333",keepTime:"2021-12-12"},{keepBat:"4-23-4",mchName:"YNHU-39JJJ",itemNum:"HFJFH-21333",keepTime:"2021-12-12"},{keepBat:"5-23-4",mchName:"YNHU-39JJJ",itemNum:"HFJFH-21333",keepTime:"2021-12-12"},{keepBat:"6-23-4",mchName:"YNHU-39JJJ",itemNum:"HFJFH-21333",keepTime:"2021-12-12"},{keepBat:"7-23-4",mchName:"YNHU-39JJJ",itemNum:"HFJFH-21333",keepTime:"2021-12-12"},{keepBat:"8-23-4",mchName:"YNHU-39JJJ",itemNum:"HFJFH-21333",keepTime:"2021-12-12"},{keepBat:"9-23-4",mchName:"YNHU-39JJJ",itemNum:"HFJFH-21333",keepTime:"2021-12-12"},{keepBat:"10-23-4",mchName:"YNHU-39JJJ",itemNum:"HFJFH-21333",keepTime:"2021-12-12"}]},alertData:[{GeneratorSetId:7244,GensetName:"FPSS8610110004",AlarmType:"0",Type:1,Time:"/Date(1640847045000)/",Content:"液位传感器故障报警",ContentKey:"液位传感器故障报警"},{GeneratorSetId:7244,GensetName:"FPSS8610110004",AlarmType:"0",Type:1,Time:"/Date(1640847045000)/",Content:"CAN2多机通讯故障报警",ContentKey:"CAN2多机通讯故障报警"},{GeneratorSetId:7501,GensetName:"FPSS7821120067",AlarmType:"0",Type:1,Time:"/Date(1640847133000)/",Content:"充电电压低报警",ContentKey:"充电电压低报警"},{GeneratorSetId:7270,GensetName:"FPSS7821110449",AlarmType:"1",Type:1,Time:"/Date(1640847156000)/",Content:"升降速失败停机",ContentKey:"升降速失败停机"},{GeneratorSetId:7270,GensetName:"FPSS7821110449",AlarmType:"1",Type:1,Time:"/Date(1640847156000)/",Content:"停机失败",ContentKey:"停机失败"},{GeneratorSetId:7270,GensetName:"FPSS7821110449",AlarmType:"0",Type:1,Time:"/Date(1640847156000)/",Content:"充电电压低报警",ContentKey:"充电电压低报警"},{GeneratorSetId:7785,GensetName:"FPSS7821120266G",AlarmType:"1",Type:1,Time:"/Date(1640847137000)/",Content:"欠速停机",ContentKey:"欠速停机"},{GeneratorSetId:7785,GensetName:"FPSS7821120266G",AlarmType:"0",Type:1,Time:"/Date(1640847126000)/",Content:"充电电压低报警",ContentKey:"充电电压低报警"}]},f={name:"EChartChinaMap",components:{NumberBox:a("fdvL").a},data:function(){return{bakColorMap:"#193b69",cardData:[0,0,0],totalNum:[0,0,0],totalNumTrue:[0,0,0],type:["代运维项目","代租赁项目","自有项目"],typeDefault:["代运维项目","代租赁项目","自有项目"],typeColor:["#fd2e2d","#20be62","#f6f6f6"],importantFlag:[0,1],switchText:["切换至全部机组","切换至重点机组"],showInfo:!1,itemNum:"",companyName:"",showInfoFlag:[!1,!1],backBtnShow:!1,center:[100,39],zoom:.95,myEChart:null}},mounted:function(){var t=this;this.renderMap(),window.addEventListener("resize",function(e){t._resize()})},props:{mapData:{type:Object,default:function(t){return v.mapData}},cb:{type:Function},contractRes:{type:Array,default:function(t){return[]}}},watch:{mapData:function(t,e){this.renderMap()},importantFlag:function(t,e){this.renderMap()}},methods:{backHandler:function(){this.myEChart.setOption({geo:{zoom:this.zoom,center:this.center}}),this.backBtnShow=!1},_switch:function(){this.backBtnShow=!1,1===this.importantFlag.length?this.importantFlag=[0,1]:this.importantFlag=[1]},renderMap:function(){var t=this;this.myEChart||(this.myEChart=this.$echarts.init(this.$refs.myEChart,null,{renderer:"svg"}));var e=this.dealWithData(),a=1===this.importantFlag.length?12:7,n={tooltip:{trigger:"item"},geo:{map:"china",roam:!0,zoom:this.zoom,center:this.center,aspectScale:.9,scaleLimit:{min:1},label:{show:!1,fontSize:"10",color:"rgba(0,0,0,0.7)"},itemStyle:{areaColor:this.bakColorMap,borderColor:"#389dff",borderWidth:1,shadowBlur:5,shadowOffsetY:8,shadowOffsetX:0,shadowColor:"rgba(0,0,0,0)"},emphasis:{itemStyle:{areaColor:"#184cff",shadowOffsetX:0,shadowOffsetY:0,shadowBlur:5,borderWidth:0,shadowColor:"rgba(0, 0, 0, 1)"},label:{show:!1}}},series:[{name:"",type:"effectScatter",coordinateSystem:"geo",data:e,symbolSize:a,tooltip:{position:"top",show:!0,formatter:function(t,e,a){var n=t.data,i=n.value;return'\n                <div style="color:#b4e4ff">\n                  <div>'+n.name+"</div>\n                  <div>经度："+i[0]+"</div>\n                  <div>纬度："+i[1]+"</div>\n                  <div>"+i[2]+"</div>\n                  <div>所属项目："+i[5]+"</div>\n                </div>\n                "},backgroundColor:"rgba(2,20,4,1)"},encode:{value:4},showEffectOn:"emphasis",rippleEffect:{brushType:"stroke",color:"#0efacc",period:9,scale:5},label:{formatter:"{b}",position:"right",show:!1},itemStyle:{color:function(e){var a="#f6f6f6";try{var n=e.data.value[4];a=t.typeColor[n]}catch(t){console.error("FPSS ERROR : in src/components/EChartChinaMap/index.vue\n",t)}return a},shadowBlur:2,shadowColor:"#333"},zlevel:1}]};this.myEChart.setOption(n),this.myEChart.on("georoam",function(e){try{var a=t.myEChart.getOption().geo[0].zoom;1===Number(a)?t.backBtnShow=!1:t.backBtnShow=!0}catch(t){console.error("error in [FPSS] screenData/employeeMonitoringScreen/components/ScreenMainCenter/components/EChartChinaMap：",t)}})},dealWithData:function(){var t=this.mapData,e=[],a=[0,0,0],n=[0,0,0],i=[],r=new u.a,o=new u.a;for(var s in this.type=this.typeDefault,t){var l=t[s][6];if(this.importantFlag.includes(l)){var c=t[s][4],m=t[s][3],p=t[s][7],d=t[s][5],h=t[s][8],v=t[s][9];o.add(v),e.push({name:p,value:t[s]}),r.has(h)||(a[c]++,r.add(h)),i.includes(m)||(n[0]++,i.push(m)),i.includes(d)||(n[1]++,i.push(d))}}n[2]=o.size,this.totalNumTrue=[].concat(n),n[0]>99999&&(n[0]=99999),n[1]>9999&&(n[1]=9999),n[2]>999&&(n[2]=999),this.cardData=a,this.totalNum=n;var f=[],y=[],S="",C="";this.showInfo=!1;var _=[!0,!0],g=!0,b=this.mapData;for(var w in b){var D=b[w];f.push(D[8]),y.push(D[9]),g&&(S=D[8],C=D[9],g=!1),D[8]!==S&&(_[0]=!1),D[9]!==C&&(_[1]=!1)}if(_[0]){this.itemNum=S,this.companyName=C,this.showInfo=!0,this.showInfoFlag=[!0,!0],this.type=["服务类型","机组数量","重点监控"];var N=[0,0,0],F=this.mapData;for(var x in F){var B=F[x];N[0]=this.typeDefault[B[4]].replace("项目",""),N[1]++,1===B[6]&&N[2]++}this.cardData=N}if(_[1]&&!_[0]){this.companyName=C,this.showInfo=!0,this.showInfoFlag=[!1,!0],this.type=["项目数量","机组数量","重点监控"];var A=[0,0,0],T=new u.a,k=this.mapData;for(var P in k){var I=k[P];T.add(I[5]),A[1]++,1===I[6]&&A[2]++}A[0]=T.size,this.cardData=A}return e},_resize:function(){}}},y={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"map-component"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!t.showInfo,expression:"!showInfo"}],staticClass:"map-component-total-num"},[a("div",[a("div",{staticClass:"title"},[t._v("机组数量")]),t._v(" "),a("div",t._l(t.totalNum[0].toString().split(""),function(e,n){return a("number-box",{key:n,attrs:{number:e,totalNum:t.totalNum[0],title:"机组数量："+t.totalNumTrue[0]}})}),1)]),t._v(" "),a("div",[a("div",{staticClass:"title"},[t._v("项目数量")]),t._v(" "),a("div",t._l(t.totalNum[1].toString().split(""),function(e,n){return a("number-box",{key:n,attrs:{number:e,totalNum:t.totalNum[1],title:"项目数量："+t.totalNumTrue[1]}})}),1)]),t._v(" "),a("div",[a("div",{staticClass:"title"},[t._v("合作伙伴")]),t._v(" "),a("div",t._l(t.totalNum[2].toString().split(""),function(e,n){return a("number-box",{key:n,attrs:{number:e,totalNum:t.totalNum[2],title:"合作伙伴："+t.totalNumTrue[0]}})}),1)])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showInfo,expression:"showInfo"}],staticClass:"map-component-detail-info"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.showInfoFlag[0],expression:"showInfoFlag[0]"}],staticClass:"text"},[t._v("项目编号："+t._s(t.itemNum))]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showInfoFlag[1],expression:"showInfoFlag[1]"}],staticClass:"text"},[t._v("服务企业："+t._s(t.companyName))])]),t._v(" "),a("div",{ref:"myEChart",staticClass:"map-component-map"}),t._v(" "),a("el-card",{staticClass:"map-component-card box-card"},t._l(t.cardData,function(e,n){return a("div",{key:n,staticClass:"text item"},[t._v("\n      "+t._s(t.type[n])+"："+t._s(["代租赁","代运维","自有"].includes(e)?e:e+"个")+"\n    ")])}),0),t._v(" "),a("div",{staticClass:"map-component-switch",on:{click:t._switch}},[t._v("\n    "+t._s(t.switchText[t.importantFlag.length-1])+"\n  ")]),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.backBtnShow,expression:"backBtnShow"}],staticClass:"map-component-reset",attrs:{title:"恢复地图原始状态",icon:"el-icon-refresh-left"},on:{click:t.backHandler}})],1)},staticRenderFns:[]};var S={name:"ScreenMainCenterTop",components:{EChartChinaMap:a("VU/8")(f,y,!1,function(t){a("m+VR")},"data-v-e5fa0356",null).exports},data:function(){return{itemType:"",company:"",companyInput:"",contract:"",contractInput:"",companyOpt:[],contractOpt:[],itemTypeOpt:[],contractAll:[],contractRes:[],mapData:{},year:0}},mounted:function(){this.getAllContract()},computed:l()({},Object(c.c)(["screenDataConditions","selectCrew"])),watch:{screenDataConditions:{handler:function(t,e){},deep:!0},itemType:function(t,e){this.companyInput="",this.company="",this.contractInput="",this.contract="",this.getContractRes()},company:function(t,e){this.contractInput="",this.contract="",this.getContractRes()},contract:function(t,e){this.getContractRes()},contractRes:function(t,e){var a={itemType:this.itemType,companyId:this.company,contract:this.contract,year:this.screenDataConditions.year},n={};t.forEach(function(t){var e=t.mch,i=t.contractNum,r=t.companyId;for(var o in""!==a.companyId.toString()&&(a.companyId=r),e)e[o].push(i),e[o].push(r),n[o]=e[o]}),this.toggleScreenDataConditons(a),this.mapData=n}},methods:l()({},Object(c.b)(["toggleScreenDataConditons","toggleSelectCrew"]),{companyDataHandler:function(t){var e=new u.a;return t.filter(function(t){return!e.has(t.companyId)&&(e.add(t.companyId),!0)})},createFilter:function(t){return function(e){return-1!==e.value.toLowerCase().indexOf(t.toLowerCase())}},getAllContract:function(){var t=this;if(this.contractAll=v.filterData.contract,this.itemTypeOpt=v.filterData.itemType,this.companyOpt=this.companyDataHandler(v.filterData.contract),this.contractOpt=this.contractAll,this.contractRes=this.contractAll,this.contractAll.length>0&&this.contractAll[0].mchNum>0){var e=this.contractAll[0].mch,a=0;for(var n in e)a=n;this.$api.screenData.getsingleMchInfo({id:a}).then(function(e){var a=e.Data;t.toggleSelectCrew(a)})}},getContractRes:function(){var t=this;this.contractRes=this.contractAll.filter(function(e){var a=t.itemType,n=t.company,i=t.contract,r=!0;return 0!==a&&!a||e.itemType.toString()===a.toString()||(r=!1),n&&e.company.toString()!==n.toString()&&(r=!1),i&&e.contractNum.toString()!==i.toString()&&(r=!1),r})},resetQuery:function(){this.itemType="",this.company="",this.companyInput="",this.contractInput="",this.contract="",this.getAllContract()},querySearchCompany:function(t,e){var a=this,n=this.contractAll.map(function(t){return t.value=t.company,t});t&&(n=n.filter(this.createFilter(t))),(0===this.itemType||this.itemType)&&(n=n.filter(function(t){return t.itemType.toString()===a.itemType.toString()})),setTimeout(function(){e(a.companyDataHandler(n))},0)},handleSelectCompany:function(t){this.company=t.value},querySearchContract:function(t,e){var a=this,n=this.contractAll.map(function(t){return t.value=t.contractNum,t});t&&(n=n.filter(this.createFilter(t))),(0===this.itemType||this.itemType)&&(n=n.filter(function(t){return t.itemType.toString()===a.itemType.toString()})),this.company&&(n=n.filter(function(t){return t.company.toString()===a.company.toString()})),e(n)},handleSelectContract:function(t){this.contract=t.value}})},C={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"screen-main-center-top"},[a("el-row",{staticClass:"top-box",attrs:{type:"flex",align:"middle"}},[a("el-col",{attrs:{span:12}},[a("el-row",{attrs:{gutter:5,type:"flex",align:"middle"}},[a("el-col",{attrs:{span:8}},[a("el-select",{attrs:{placeholder:"请选择项目类型"},model:{value:t.itemType,callback:function(e){t.itemType=e},expression:"itemType"}},t._l(t.itemTypeOpt,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-autocomplete",{staticClass:"inline-input",attrs:{"fetch-suggestions":t.querySearchCompany,"popper-append-to-body":!1,debounce:0,placeholder:"服务企业(可搜索)"},on:{select:t.handleSelectCompany},model:{value:t.companyInput,callback:function(e){t.companyInput=e},expression:"companyInput"}})],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-autocomplete",{staticClass:"inline-input",attrs:{"fetch-suggestions":t.querySearchContract,"popper-append-to-body":!1,debounce:0,placeholder:"合同编号(可搜索)"},on:{select:t.handleSelectContract},model:{value:t.contractInput,callback:function(e){t.contractInput=e},expression:"contractInput"}})],1)],1)],1),t._v(" "),a("el-col",{style:{display:"flex",height:"100%"},attrs:{span:12}},[a("div",{staticClass:"reset-box",on:{click:t.resetQuery}},[t._v("重置筛选")])])],1),t._v(" "),a("div",{style:{height:"calc(100% - 40px)"}},[a("e-chart-china-map",{attrs:{mapData:t.mapData}})],1)],1)},staticRenderFns:[]};var _=a("VU/8")(S,C,!1,function(t){a("HXdp")},"data-v-5137ad40",null).exports,g=a("mvHQ"),b=a.n(g),w=a("l2LV"),D=a("X2Oc"),N={name:"ScreenMainCenterBottom",components:{ScrollTable:w.a},data:function(){return{tableColumn:v.tableAlert.column,tableData:v.tableAlert.data,tableColumnKeep:v.tableKeep.column,tableDataKeep:v.tableKeep.data}},mounted:function(){this.renderData()},computed:l()({},Object(c.c)(["screenDataConditions"])),watch:{screenDataConditions:{handler:function(t,e){this.renderData()},deep:!0}},methods:{renderData:function(){this.getAlertData(),this.getKeepStrategy()},diagnoseHandler:function(t){t&&t.classList.contains("diagnosis")&&this.$router.push("/crewrecord/data-record/alarm-curve-record")},getAlertData:function(){this.tableData=JSON.parse(b()(v.tableAlert.data)),this.tableData.map(function(t){return t.time=Object(D.c)(t.time).format("yyyy-MM-DD HH:mm:ss"),t.itemNum="T-"+(10*Math.random()).toFixed(0)+t.mchName.substring(10,14),t})},getKeepStrategy:function(){this.tableDataKeep=v.tableKeep.data}}},F={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{style:{height:"100%"},attrs:{type:"flex"}},[a("el-col",{staticClass:"content-item content-item__left"},[a("div",[t._v("机组报警监控")]),t._v(" "),a("div",[a("scroll-table",{attrs:{column:t.tableColumn,tableData:t.tableData},on:{diagnoseHandler:t.diagnoseHandler},scopedSlots:t._u([{key:"operation",fn:function(){return[a("div",{style:{flex:1}},[t._v("操作")])]},proxy:!0},{key:"operationItem",fn:function(e){var n=e.idx;return[a("div",{staticClass:"diagnosis",style:{flex:1,cursor:"pointer"}},[a("span",{style:{display:"none"}},[t._v("\n              "+t._s(n)+"\n            ")]),t._v("\n            故障诊断\n          ")])]}}])})],1)]),t._v(" "),a("el-col",{staticClass:"content-item content-item__right"},[a("div",[t._v("维保策略提醒")]),t._v(" "),a("div",[a("scroll-table",{attrs:{canStopFlag:!0,column:t.tableColumnKeep,tableData:t.tableDataKeep}})],1)])],1)},staticRenderFns:[]};var x={components:{ScreenMainCenterTop:_,ScreenMainCenterBottom:a("VU/8")(N,F,!1,function(t){a("3umr")},"data-v-b42a9c2a",null).exports},data:function(){return{}}},B={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"center-content"},[e("screen-main-center-top",{staticClass:"content-item content-item__top",style:{height:"52%"}}),this._v(" "),e("screen-main-center-bottom",{style:{height:"48%"}})],1)},staticRenderFns:[]};var A=a("VU/8")(x,B,!1,function(t){a("fS4w")},"data-v-1488738e",null).exports,T={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"line-height":"normal"}},[a("table",[a("tr",[a("td",{class:{parentLevel:t.treeData.children,extend:t.treeData.children},attrs:{colspan:t.treeData.children?2*t.treeData.children.length:1}},[a("div",{class:{node:!0}},[a("div",{staticClass:"person"},[a("div",{staticClass:"name",class:0==t.treeData.level?"level":""},[a("p",[t._v(t._s(t.treeData.name))]),t._v(" "),t.treeData.type?a("p",{staticClass:"type"},[t._v(t._s(t.treeData.type))]):t._e()])])])])]),t._v(" "),t.treeData.children&&t.treeData.children.length?a("tr",t._l(t.treeData.children,function(t,e){return a("td",{key:e,staticClass:"childLevel",attrs:{colspan:"2"}},[a("TreeChart",{attrs:{json:t}})],1)}),0):t._e()])])},staticRenderFns:[]};var k={name:"TreeChart",inject:["reload"],props:["json"],data:function(){return{treeData:{}}},watch:{json:{handler:function(t){this.treeData=t},immediate:!0,deep:!0}},computed:{crewStatus:function(){return function(t){return[4,2,3,5,6,0][Math.floor(6*Math.random())]}}},created:function(){},methods:{getdata:function(t){this.$emit("func",t)}}},P={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"line-height":"normal"}},[a("table",[a("tr",[a("td",{class:{parentLevel:t.treeData.children,extend:t.treeData.children},attrs:{colspan:t.treeData.children?2*t.treeData.children.length:1}},[a("div",{class:{node:!0}},[a("div",{staticClass:"person"},[a("div",{staticClass:"name",class:0==t.treeData.level?"level":""},[a("p",[t._v(t._s(t.treeData.name))]),t._v(" "),t.treeData.type?a("p",{staticClass:"type"},[t._v(t._s(t.treeData.type))]):t._e()])])])])]),t._v(" "),t.treeData.data?a("tr",[a("td",[a("div",{staticClass:"node crew-detail"},[a("el-row",{staticClass:"crew-num",attrs:{type:"flex"}},[a("el-col",{staticClass:"color_type_4",attrs:{span:4}},[a("span"),a("em",[t._v("0")])]),t._v(" "),a("el-col",{staticClass:"color_type_2",attrs:{span:4}},[a("span"),a("em",[t._v("0")])]),t._v(" "),a("el-col",{staticClass:"color_type_3",attrs:{span:4}},[a("span"),a("em",[t._v("0")])]),t._v(" "),a("el-col",{staticClass:"color_type_5",attrs:{span:4}},[a("span"),a("em",[t._v("0")])]),t._v(" "),a("el-col",{staticClass:"color_type_6",attrs:{span:4}},[a("span"),a("em",[t._v("0")])]),t._v(" "),a("el-col",{staticClass:"color_type_0",attrs:{span:4}},[a("span"),a("em",[t._v("0")])])],1),t._v(" "),a("div",{staticClass:"crewinfo-items"},t._l(Math.ceil(10*Math.random()),function(e){return a("el-row",{key:e,staticClass:"crewinfo-item",attrs:{type:"flex"}},[a("el-col",{class:"color_type_"+t.crewStatus(e),attrs:{span:4}},[a("span"),a("em",[t._v("运行")])]),t._v(" "),a("el-col",{attrs:{span:20}},[a("p",[t._v("FPSS8610110004")]),t._v(" "),a("p",[t._v("单机组")]),t._v(" "),a("p",{staticClass:"overText"},[t._v("山东省潍坊市奎文区梨园街fasdadasdwqdddddd")])])],1)}),1)],1)])]):t._e(),t._v(" "),t.treeData.children&&t.treeData.children.length?a("tr",t._l(t.treeData.children,function(t,e){return a("td",{key:e,staticClass:"childLevel",attrs:{colspan:"2"}},[a("TreeChart",{attrs:{json:t}})],1)}),0):t._e()])])},staticRenderFns:[]};var I={name:"",components:{frameworkTree:a("VU/8")({name:"TreeChart",inject:["reload"],props:["json"],data:function(){return{treeData:{}}},watch:{json:{handler:function(t){this.treeData=t},immediate:!0,deep:!0}},created:function(){},methods:{getdata:function(t){this.$emit("func",t)}}},T,!1,function(t){a("Ux4q")},"data-v-0c645067",null).exports,frameworkDetailTree:a("VU/8")(k,P,!1,function(t){a("A7UP")},"data-v-177d8a2e",null).exports},data:function(){return{conditions:{},crewTypeChart:null,crewTypeOption:{title:{text:"机组总数\n200个",textStyle:{color:"#fff",fontSize:16,lineHeight:20},x:"center",y:"center"},tooltip:{trigger:"item"},legend:{show:!1},color:["#ffcfa8","#8ec9f4","#cdbfe8"],series:[{name:"机组类型",type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,emphasis:{label:{show:!0,fontSize:"14",fontWeight:"normal",color:"#fff",formatter:"{b} \n {c}"}},label:{color:"#fff",formatter:"{b} \n {c}",lineHeight:18},labelLine:{lineStyle:{color:"#00ccff"}},data:[{value:1048,name:"自有项目"},{value:580,name:"代运维机组"},{value:735,name:"代租赁机组"}]},{type:"pie",radius:["40%","75%"],center:["50%","50%"],emphasis:{scale:!1},itemStyle:{borderWidth:20,color:"rgba(255, 255, 255, 1)"},label:{show:!1},tooltip:{show:!1},data:[100],z:-1}]},repairChannelChart:null,repairChannelOption:{title:{text:"总报修单数 200",textStyle:{color:"#1acdfd",fontSize:16},top:"5px",x:"center"},tooltip:{trigger:"item"},legend:{show:!1},color:["#ffcfa8","#8ec9f4","#caf982","#cdbfe8"],series:[{name:"报修渠道",type:"pie",radius:["30%","50%"],top:"10%",avoidLabelOverlap:!1,emphasis:{label:{show:!0,fontSize:"14",fontWeight:"normal",color:"#fff",formatter:"{b} \n {c}"}},label:{color:"#fff",formatter:"{b} \n {c}",lineHeight:18},labelLine:{lineStyle:{color:"#00ccff"}},data:[{value:1048,name:"电话报修"},{value:735,name:"一键报修"},{value:580,name:"智能装备报警"},{value:484,name:"扫码报修"}]},{type:"pie",radius:["30%","55%"],top:"10%",emphasis:{scale:!1},itemStyle:{borderWidth:20,color:"rgba(255, 255, 255, 1)"},label:{show:!1},tooltip:{show:!1},data:[100],z:-1}]},satisfactionEvaluationChart:null,satisfactionEvaluationOption:{title:{text:"评价总数 200",textStyle:{color:"#1acdfd",fontSize:16},top:"5px",x:"center"},tooltip:{trigger:"item"},legend:{show:!1},color:["#ec808d","#ffcfa8"],series:[{name:"满意度评价",type:"pie",radius:["30%","50%"],top:"10%",avoidLabelOverlap:!1,emphasis:{label:{show:!0,fontSize:"14",fontWeight:"normal",color:"#fff",formatter:"{b} \n {c}"}},label:{color:"#fff",formatter:"{b} \n {c}",lineHeight:18},labelLine:{lineStyle:{color:"#00ccff"}},data:[{value:300,name:"满意"},{value:90,name:"不满意"}]},{type:"pie",radius:["30%","55%"],top:"10%",emphasis:{scale:!1},itemStyle:{borderWidth:20,color:"rgba(255, 255, 255, 1)"},label:{show:!1},tooltip:{show:!1},data:[100],z:-1}]},treeData:{id:0,name:"智能装备动力服务租赁平台",level:0,children:[{id:1,name:"中国农业银行项目",level:1,children:[{id:1001,name:"23121台机组",type:"单机项目",level:2,data:[]}]},{id:2,name:"fuchuang-2",level:1,children:[{id:2001,name:"2台机组",type:"单机项目",level:2,data:[]}]},{id:3,name:"fuchuang-3",level:1,children:[{id:3001,name:"fuchuang-3-1",level:2,data:[]}]},{id:4,name:"fuchuang-4",level:1,children:[{id:4001,name:"fuchuang-4-1",level:2,data:[]}]},{id:5,name:"fuchuang-5",level:1,children:[{id:5001,name:"fuchuang-5-1",level:2,data:[]}]}]},dialogVisible:!1,resizefun:null}},computed:l()({},Object(c.c)(["screenDataConditions"])),watch:{screenDataConditions:{handler:function(t,e){this.conditions=t,this.getPageData()},deep:!0}},mounted:function(){var t=this;this.resizefun=function(){t.crewTypeChart.resize(),t.repairChannelChart.resize(),t.satisfactionEvaluationChart.resize()},window.addEventListener("resize",this.resizefun)},beforeDestroy:function(){window.removeEventListener("resize",this.resizefun),this.resizefun=null},methods:{getPageData:function(){this.echartsInit()},echartsInit:function(){var t=document.getElementById("crew-type-echart"),e=this.$echarts.init(t,null,{renderer:"svg"});this.crewTypeChart=e,e.setOption(this.crewTypeOption);var a=document.getElementById("repair-channel-echart"),n=this.$echarts.init(a,null,{renderer:"svg"});this.repairChannelChart=n,n.setOption(this.repairChannelOption);var i=document.getElementById("satisfaction-evaluation-echart"),r=this.$echarts.init(i,null,{renderer:"svg"});this.satisfactionEvaluationChart=r,r.setOption(this.satisfactionEvaluationOption)},showFrameworkDetail:function(){this.dialogVisible=!0}}},H={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"right-content"},[a("div",{staticClass:"content-item content-item__top"},[a("el-row",{staticClass:"mb16",attrs:{type:"flex",justify:"space-between"}},[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"project-title"},[t._v("项目架构")])]),t._v(" "),a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:12}},[a("div",{staticClass:"framework-detail-btn",on:{click:t.showFrameworkDetail}},[t._v("架构详情>>")])])],1),t._v(" "),a("div",{staticClass:"project-framework-box"},[a("frameworkTree",{attrs:{json:t.treeData}})],1),t._v(" "),a("el-row",{staticClass:"mb16",attrs:{type:"flex"}},[a("el-col",[a("div",{staticClass:"project-title"},[t._v("机组类型")])])],1),t._v(" "),a("div",{attrs:{id:"crew-type-echart"}})],1),t._v(" "),a("div",{staticClass:"content-item content-item__bottom"},[a("el-row",{staticClass:"mb8",attrs:{type:"flex"}},[a("el-col",[a("div",{staticClass:"project-title"},[t._v("工单概况")])])],1),t._v(" "),a("el-row",{staticClass:"mb16 workorder-overview-box",attrs:{type:"flex",justify:"space-between"}},[a("el-col",{attrs:{span:8}},[a("div",[t._v("120")]),t._v(" "),a("p",[t._v("未受理工单数")])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("div",[t._v("120")]),t._v(" "),a("p",[t._v("进行中已受理工单")])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("div",[t._v("120")]),t._v(" "),a("p",[t._v("线上/线下完成")])])],1),t._v(" "),a("el-row",{staticClass:"mb8",attrs:{type:"flex"}},[a("el-col",[a("div",{staticClass:"project-title"},[t._v("进行中工单处理进度")])])],1),t._v(" "),a("el-row",{staticClass:"mb16 workorder-progress-box",attrs:{type:"flex",justify:"space-between"}},[a("el-col",{attrs:{span:8}},[a("div",[t._v("120")]),t._v(" "),a("p",[t._v("未受理工单数")])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("div",[t._v("120")]),t._v(" "),a("p",[t._v("进行中已受理工单")])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("div",[t._v("120")]),t._v(" "),a("p",[t._v("线上/线下完成")])])],1),t._v(" "),a("el-row",{staticClass:"workorder-data-box",attrs:{type:"flex",justify:"space-between"}},[a("el-col",{staticClass:"flexbox",attrs:{span:12}},[a("el-row",{staticClass:"mb8",attrs:{type:"flex"}},[a("el-col",[a("div",{staticClass:"project-title"},[t._v("报修渠道")])])],1),t._v(" "),a("div",{attrs:{id:"repair-channel-echart"}})],1),t._v(" "),a("el-col",{staticClass:"flexbox",attrs:{span:12}},[a("el-row",{staticClass:"mb8",attrs:{type:"flex"}},[a("el-col",[a("div",{staticClass:"project-title"},[t._v("满意度评价")])])],1),t._v(" "),a("div",{attrs:{id:"satisfaction-evaluation-echart"}})],1)],1)],1),t._v(" "),a("el-dialog",{staticClass:"framework-detail-dialog",attrs:{title:"架构详情",center:!0,visible:t.dialogVisible,"modal-append-to-body":!1,"close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(e){t.dialogVisible=e},close:function(e){t.dialogVisible=!1}}},[a("div",{staticClass:"framework-detail-box"},[t.dialogVisible?a("frameworkDetailTree",{attrs:{json:t.treeData}}):t._e()],1)])],1)},staticRenderFns:[]};var j=a("VU/8")(I,H,!1,function(t){a("71lc")},"data-v-1c2cef29",null).exports,O=a("M4fF"),z={name:"EmployeeMonitoringScreen",components:{ScreenMainLeft:d,ScreenMainCenter:A,ScreenMainRight:j},data:function(){return{width:1920,height:1080,scale:1,HeadImgUrl:"",dateStr:"",timeStr:""}},created:function(){this.setScale()},beforeMount:function(){window.addEventListener("resize",this.setScale)},beforeDestroy:function(){window.removeEventListener("resize",this.setScale)},mounted:function(){this.getAccount(),this.renderTime()},methods:{getScale:function(){var t=this.$data,e=t.width,a=void 0===e?1920:e,n=t.height,i=void 0===n?1080:n,r=window.innerWidth/a,o=window.innerHeight/i;return r<o?r:o},setScale:a.n(O).a.debounce(function(){this.scale=this.getScale()},300),getAccount:function(){var t=this;this.$api.account.findAccount().then(function(e){if(e.IsSuccess){var a=e.Data;t.HeadImgUrl=a.HeadImgUrl}})},pushManage:function(){this.$router.push("/syshomePage/home")},logout:function(){var t=this;return o()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$api.login.logout();case 2:e.sent.IsSuccess&&(t.$wsCache.delete("loginFlag"),t.$wsCache.delete("userInfo"),t.$wsCache.delete("selectCrew"),t.$router.push("/login"));case 4:case"end":return e.stop()}},e,t)}))()},renderTime:function(){var t=this,e=Object(D.e)("YYYY年M月D日 星期 HH:mm");this.dateStr=e.split(" ")[0],this.timeStr=e.split(" ")[1]+" "+e.split(" ")[2],setTimeout(function(){t.renderTime()},6e4)}}},E={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"employee-monitoring-screen monitoring-full-screen"},[a("div",{staticClass:"ee-screen-content",style:{transform:"scale("+t.scale+") translate(-50%, 0%)",width:t.width+"px",height:t.height+"px"}},[a("el-header",{staticClass:"ee-screen-header"},[a("div",{staticClass:"screen-header-left"},[a("svg-icon",{attrs:{"icon-class":"Icon-ee-header-left1"}}),t._v(" "),a("el-row",{attrs:{type:"flex"}},[a("el-col",[a("el-button",{staticClass:"city-button"},[a("i",{staticClass:"el-icon-location-information"}),t._v("\n              成都市\n            ")])],1),t._v(" "),a("el-col",[a("div",{staticClass:"nowTime"},[a("p",[t._v(t._s(t.dateStr))]),t._v(" "),a("p",[t._v(t._s(t.timeStr))])])])],1)],1),t._v(" "),a("div",{staticClass:"screen-header-center"},[a("el-row",{attrs:{type:"flex"}},[a("el-col",[a("h2",[t._v("智能装备动力服务租赁平台")])])],1)],1),t._v(" "),a("div",{staticClass:"screen-header-right"},[a("svg-icon",{attrs:{"icon-class":"Icon-ee-header-right1"}}),t._v(" "),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{staticStyle:{"margin-left":"16px"}},[a("el-row",{attrs:{type:"flex",align:"middle"}},[a("el-avatar",{attrs:{src:t.HeadImgUrl}}),t._v("\n                "+t._s(this.$wsCache.get("userInfo").displayName)+"，您好！\n            ")],1)],1),t._v(" "),a("el-col",[a("el-row",{staticClass:"btns"},[a("el-col",[a("el-button",{staticClass:"goto-system-btn enter",on:{click:t.pushManage}},[t._v("\n                  管理系统\n                ")])],1),t._v(" "),a("el-col",[a("el-button",{staticClass:"goto-system-btn logout",on:{click:t.logout}},[t._v(" 退出登录 ")])],1)],1)],1)],1)],1)]),t._v(" "),a("el-main",{staticClass:"ee-screen-main"},[a("ScreenMainLeft",{staticClass:"screen-main-left"}),t._v(" "),a("ScreenMainCenter",{staticClass:"screen-main-center"}),t._v(" "),a("ScreenMainRight",{staticClass:"screen-main-right"})],1)],1)])},staticRenderFns:[]};var M=a("VU/8")(z,E,!1,function(t){a("D5hj")},"data-v-1e094051",null);e.default=M.exports},Ux4q:function(t,e){},fS4w:function(t,e){},lrkD:function(t,e){},"m+VR":function(t,e){}});
//# sourceMappingURL=23.22e70b3d5c72892b1199.js.map