{"version":3,"sources":["webpack:///./src/views/operation/leaseGenset/data.js","webpack:///src/views/operation/leaseGenset/add.vue","webpack:///./src/views/operation/leaseGenset/add.vue?98ff","webpack:///./src/views/operation/leaseGenset/add.vue","webpack:///src/views/operation/leaseGenset/index.vue","webpack:///./src/views/operation/leaseGenset/index.vue?614d","webpack:///./src/views/operation/leaseGenset/index.vue"],"names":["GensetRunStatusEnum","value","label","GensetLeaseStatusEnum","disabled","GensetLeaseTypeEnum","leaseGenset_data","leaseGensetColumns","that","prop","minWidth","unit","formatter","row","column","index","find","item","IsPlatform","Status","RunStatus","render","h","parmas","class","attrs","title","InstallationSite","FileDetail","selectCrewColumns","selectedCrewColumns","props","on","change","v","selectOptions","map","add","name","mixins","paginationConfigMixin","components","PositionCascader","data","loading","dialigVisible","searchForm","DisplayName","CollectorToken","columns","this","selectedColumns","dataSource","selectData","selectDataSource","options","height","labelIndex","width","paginationCfg","currentPage","pageSize","layout","pageSizes","small","dataTotalSelect","paginationCfgSelect","mounted","queryTableData","methods","_this","query","Page","PageSize","params","extends_default","DisplayMode","IsCanBind","$api","common","getCrewList","then","res","Code","dataTotal","Data","TotalItemCount","console","log","$set","catch","reset","setSelectPageData","type","arr","slice","length","newPageTotal","Math","ceil","handleSelect","push","splice","indexOf","isSelect","handleRemove","findIndex","GeneratorSetId","val","submitForm","_this2","GensetInfoList","ID","equipment","AddGensetProjectGensetInfo","$message","message","$emit","refresh","close","positionChange","crewPosition","handleChangePageSelect","handleChangeSizeSelect","leaseGenset_add","_vm","_h","$createElement","_c","_self","staticClass","visible","close-on-click-modal","close-on-press-escape","update:visible","$event","_v","placeholder","maxlength","model","callback","$$v","expression","defaultPosition","click","resetCurrentParams","directives","rawName","pagination","border","handleChangePage","handleChangeSize","_b","slot","align","scopedSlots","_u","key","fn","scope","staticStyle","text-align","staticRenderFns","operation_leaseGenset_add","__webpack_require__","normalizeComponent","ssrContext","leaseGenset_GensetRunStatusEnum","leaseGenset_GensetLeaseStatusEnum","leaseGenset_GensetLeaseTypeEnum","leaseGenset","AddLeaseGensetDialog","crewManageVisible","recordInfo","formLabelWidth","form","GetGensetInfoManage","GeneratorSet","CreateUserId","IsCanEdit","handleAddLeaseGenset","handleEdit","id","EditGensetProjectGensetInfo","closeDialog","handleDelete","_this3","$confirm","confirmButtonText","cancelButtonText","DeleteGensetProjectGensetInfo","operation_leaseGenset","clearable","popper-append-to-body","_l","styleList","_e","ref","label-width","leaseGenset_Component","leaseGenset_normalizeComponent","__webpack_exports__"],"mappings":"iMAQMA,IACFC,MAAO,EAAGC,MAAO,OACjBD,MAAO,EAAGC,MAAO,OACjBD,MAAO,EAAGC,MAAO,OACjBD,MAAO,EAAGC,MAAO,OACjBD,MAAO,EAAGC,MAAO,OAGfC,IACFF,MAAO,EAAGC,MAAO,QACjBD,MAAO,EAAGC,MAAO,MAAOE,UAAU,IAClCH,MAAO,EAAGC,MAAO,OACjBD,MAAO,EAAGC,MAAO,OACjBD,MAAO,EAAGC,MAAO,OAIfG,IACFJ,MAAO,EAAGC,MAAO,OACjBD,MAAO,EAAGC,MAAO,QAENI,GACbN,sBACAG,wBACAE,sBAEAE,mBAAoB,SAACC,GAAD,QAEhBN,MAAO,OACPO,KAAM,cACNC,SAAU,QAGVR,MAAO,KACPO,KAAM,iBACNC,SAAU,QAGVR,MAAO,QACPO,KAAM,cACNC,SAAU,QAGVR,MAAO,KACPO,KAAM,aACNC,SAAU,MACVC,KAAM,OAGNT,MAAO,OACPO,KAAM,eACNC,SAAU,MACVC,KAAM,MAGNT,MAAO,OACPO,KAAM,aACNC,SAAU,MACVE,UAAW,SAACC,EAAKC,EAAQC,GACvB,OAAOV,EAAoBW,KAAK,SAACC,GAAD,OAAUA,EAAKhB,OAASY,EAAIK,aAAYhB,SAI1EA,MAAO,OACPO,KAAM,SACNC,SAAU,MACVE,UAAW,SAACC,EAAKC,EAAQC,GACvB,OAAOZ,EAAsBa,KAAK,SAACC,GAAD,OAAUA,EAAKhB,OAASY,EAAIM,SAAQjB,SAIxEA,MAAO,OACPO,KAAM,YACNC,SAAU,MACVE,UAAW,SAACC,EAAKC,EAAQC,GACvB,OAAOf,EAAoBgB,KAAK,SAACC,GAAD,OAAUA,EAAKhB,OAASY,EAAIO,YAAWlB,SAIzEA,MAAO,OACPO,KAAM,mBACNC,SAAU,MACVW,OAAQ,SAACC,EAAGC,GACV,OAAOD,EACL,QAEEE,MAAO,uCACPC,OACEC,MAAOH,EAAOV,IAAIc,kBAAoB,KAG1CJ,EAAOV,IAAIc,qBAKfzB,MAAO,OACPO,KAAM,aACNC,SAAU,MACVE,UAAW,SAACC,EAAKC,EAAQC,GACvB,OAAOF,EAAIe,YAAc,MAM/BC,kBAAmB,SAACrB,GAAD,QAEfN,MAAO,OACPO,KAAM,cACNC,SAAU,QAGVR,MAAO,KACPO,KAAM,iBACNC,SAAU,QAGVR,MAAO,OACPO,KAAM,mBACNC,SAAU,MACVW,OAAQ,SAACC,EAAGC,GACV,OAAOD,EACL,QAEEE,MAAO,uCACPC,OACEC,MAAOH,EAAOV,IAAIc,kBAAoB,KAG1CJ,EAAOV,IAAIc,sBAMnBG,oBAAqB,SAACtB,GAAD,QAEjBN,MAAO,OACPO,KAAM,cACNC,SAAU,QAGVR,MAAO,KACPO,KAAM,iBACNC,SAAU,QAGVR,MAAO,OACPO,KAAM,mBACNC,SAAU,MACVW,OAAQ,SAACC,EAAGC,GACV,OAAOD,EACL,QAEEE,MAAO,uCACPC,OACEC,MAAOH,EAAOV,IAAIc,kBAAoB,KAG1CJ,EAAOV,IAAIc,qBAKfzB,MAAO,OACPO,KAAM,aACNC,SAAU,MACVW,OAAQ,SAACC,EAAGC,GACV,OAAOD,EACL,aAEES,OACE9B,MAAOsB,EAAOV,IAAIK,YAEpBc,IACEC,OAAQ,SAACC,GACP1B,EAAK2B,cAAcZ,EAAOV,IAAKqB,MAIrC7B,EAAoB+B,IAAI,SAACnB,GACvB,OAAOK,EAAE,aACPS,OACE9B,MAAOgB,EAAKhB,MACZC,MAAOe,EAAKf,iBC3D5BmC,cACAC,KAAA,gBACAC,QAAAC,EAAA,GACAC,YACAC,mBAAA,GAEAX,SACAY,KAPA,WAQA,OACAC,SAAA,EACAC,eAAA,EAEAC,YACAC,YAAA,GACAC,eAAA,GACArB,iBAAA,IAMAsB,QAAA3C,EAAAuB,kBAAAqB,MACAC,gBAAA7C,EAAAwB,oBAAAoB,MACAE,cACAC,cACAC,oBACAC,SACAC,OAAA,OACAzC,OAAA,EACA0C,WAAA,KACA1B,OACA2B,MAAA,KAGAC,eACAC,YAAA,EACAC,SAAA,GACAC,OAAA,kCACAC,WAAA,aACAC,OAAA,GAGAC,gBAAA,EACAC,qBACAN,YAAA,EACAC,SAAA,GACAC,OAAA,kCACAC,WAAA,aACAC,OAAA,KAIAG,QApDA,WAqDAjB,KAAAkB,kBAEAC,SAEAD,eAFA,WAEA,IAAAE,EAAApB,KACAA,KAAAN,SAAA,EAEA,IAAA2B,GACAC,KAAAtB,KAAAS,cAAAC,YACAa,SAAAvB,KAAAS,cAAAE,UAGAa,EAAAC,KACAC,YAAA,EACAC,WAAA,GACA3B,KAAAJ,YAEAI,KAAA4B,KAAAC,OACAC,YAAAN,EAAAH,GACAU,KAAA,SAAAC,GACA,OAAAA,EAAAC,KAAA,CACAb,EAAAc,UAAAF,EAAAG,KAAAC,eACA,IAAA3C,EAAAuC,EAAAG,UAAAjD,IAAA,SAAAnB,GACA,OAAA0D,OACA1D,GACAC,WAAA,MAGAqE,QAAAC,IAAA7C,GACA2B,EAAAmB,KAAAnB,EAAA,aAAA3B,GAEA2B,EAAA1B,SAAA,IAEA8C,MAAA,WACApB,EAAA1B,SAAA,KAGA+C,MAnCA,WAoCAzC,KAAAuC,KAAAvC,KAAA,cACAH,YAAA,GACAC,eAAA,GACArB,iBAAA,MAIAiE,kBA3CA,SA2CAC,GACA,IAAAC,EAAA5C,KAAAG,WAAA0C,OACA7C,KAAAgB,oBAAAN,YAAA,GAAAV,KAAAgB,oBAAAL,SACAX,KAAAgB,oBAAAN,YAAAV,KAAAgB,oBAAAL,UAEAX,KAAAuC,KAAAvC,KAAA,mBAAA4C,GACA5C,KAAAe,gBAAAf,KAAAG,WAAA2C,OACA,IAAAC,EAAAC,KAAAC,KAAAjD,KAAAe,gBAAAf,KAAAgB,oBAAAL,UACAgC,GAAA3C,KAAAgB,oBAAAN,cAAAqC,IACA/C,KAAAgB,oBAAAN,YAAAqC,EACA/C,KAAA0C,sBAIAQ,aAzDA,SAyDAvF,GACAqC,KAAAG,WAAAgD,KAAAxF,GACAqC,KAAAE,WAAAkD,OAAApD,KAAAE,WAAAmD,QAAA1F,GAAA,EAAA8D,OAAA9D,GAAA2F,UAAA,KACAtD,KAAAuC,KAAAvC,KAAA,aAAAA,KAAAE,YACAF,KAAA0C,mBAAA,IAGAa,aAhEA,SAgEA5F,GACAqC,KAAAG,WAAAiD,OAAApD,KAAAG,WAAAkD,QAAA1F,GAAA,GACAqC,KAAAE,WAAAkD,OACApD,KAAAE,WAAAsD,UAAA,SAAAzF,GAAA,OAAAA,EAAA0F,gBAAA9F,EAAA8F,iBACA,EAFAhC,OAGA9D,GAAA2F,UAAA,EAAAtF,WAAA,KAEAgC,KAAA0C,mBAAA,IAEAzD,cAzEA,SAyEAtB,EAAA+F,GACArB,QAAAC,IAAA,gBAAA3E,EAAA+F,GACA/F,EAAAK,WAAA0F,GAGAC,WA9EA,WA8EA,IAAAC,EAAA5D,KACAqC,QAAAC,IAAAtC,KAAAG,YACA,IAAAqB,GACAqC,eAAA7D,KAAAG,WAAAjB,IAAA,SAAAnB,GACA,OAAA0F,eAAA1F,EAAA+F,GAAA9F,aAAAD,EAAAC,eAIAgC,KAAA4B,KAAAmC,UAAAC,2BAAAxC,GAAAO,KAAA,SAAAC,GACA,IAAAA,EAAAC,KACA2B,EAAAK,UACAtB,KAAA,UACAuB,QAAA,YAGAN,EAAAK,UACAtB,KAAA,QACAuB,QAAA,kBAGAN,EAAAO,MAAA,eAAAC,SAAA,OAGAC,MArGA,WAsGArE,KAAAmE,MAAA,gBAIAG,eA1GA,SA0GA7E,GACAO,KAAAuC,KAAAvC,KAAAJ,WAAA,mBAAAH,EAAA8E,eAIAC,uBA/GA,SA+GAd,GACA1D,KAAAgB,oBAAAN,YAAAgD,EACA1D,KAAA0C,qBAGA+B,uBApHA,SAoHAf,GACA1D,KAAAgB,oBAAAN,YAAA,EACAV,KAAAgB,oBAAAL,SAAA+C,EACA1D,KAAA0C,wBCjTegC,GADEvG,OAFjB,WAA0B,IAAAwG,EAAA3E,KAAa4E,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,aAAuBE,YAAA,kBAAAzG,OAAqCC,MAAA,OAAAgC,MAAA,MAAAyE,QAAAN,EAAAhF,cAAAuF,wBAAA,EAAAC,yBAAA,GAAoHrG,IAAKsG,iBAAA,SAAAC,GAAkCV,EAAAhF,cAAA0F,GAAyBhB,MAAA,SAAAgB,GAA0B,OAAAV,EAAAN,YAAqBS,EAAA,OAAYE,YAAA,mBAA6BF,EAAA,OAAYE,YAAA,aAAuBF,EAAA,KAAUE,YAAA,UAAoBL,EAAAW,GAAA,aAAAX,EAAAW,GAAA,KAAAR,EAAA,OAA4CE,YAAA,eAAyBF,EAAA,OAAYE,YAAA,gBAA0BF,EAAA,QAAAH,EAAAW,GAAA,WAAAX,EAAAW,GAAA,KAAAR,EAAA,YAA0DvG,OAAOgH,YAAA,UAAAC,UAAA,MAAyCC,OAAQ1I,MAAA4H,EAAA/E,WAAA,YAAA8F,SAAA,SAAAC,GAA4DhB,EAAApC,KAAAoC,EAAA/E,WAAA,cAAA+F,IAA6CC,WAAA,6BAAsC,GAAAjB,EAAAW,GAAA,KAAAR,EAAA,OAA4BE,YAAA,gBAA0BF,EAAA,QAAAH,EAAAW,GAAA,SAAAX,EAAAW,GAAA,KAAAR,EAAA,YAAwDvG,OAAOgH,YAAA,QAAAC,UAAA,MAAuCC,OAAQ1I,MAAA4H,EAAA/E,WAAA,eAAA8F,SAAA,SAAAC,GAA+DhB,EAAApC,KAAAoC,EAAA/E,WAAA,iBAAA+F,IAAgDC,WAAA,gCAAyC,GAAAjB,EAAAW,GAAA,KAAAR,EAAA,OAA4BE,YAAA,gBAA0BF,EAAA,QAAAH,EAAAW,GAAA,WAAAX,EAAAW,GAAA,KAAAR,EAAA,qBAAmEvG,OAAOgH,YAAA,UAAAM,gBAAAlB,EAAA/E,WAAAnB,kBAA0EK,IAAKwF,eAAAK,EAAAL,mBAAqC,GAAAK,EAAAW,GAAA,KAAAR,EAAA,OAA4BE,YAAA,mBAA6BF,EAAA,aAAkBE,YAAA,YAAAzG,OAA+BoE,KAAA,QAAc7D,IAAKgH,MAAA,SAAAT,GAAyB,OAAAV,EAAAlC,YAAqBkC,EAAAW,GAAA,UAAAX,EAAAW,GAAA,KAAAR,EAAA,aAA+CE,YAAA,YAAAzG,OAA+BoE,KAAA,WAAiB7D,IAAKgH,MAAA,SAAAT,GAAyB,OAAAV,EAAAoB,yBAAkCpB,EAAAW,GAAA,yCAAAX,EAAAW,GAAA,KAAAR,EAAA,aAA8EkB,aAAa5G,KAAA,UAAA6G,QAAA,YAAAlJ,MAAA4H,EAAA,QAAAiB,WAAA,YAA4EZ,YAAA,eAAAzG,OAAoC8B,QAAAsE,EAAAtE,QAAAN,QAAA4E,EAAA5E,QAAAG,WAAAyE,EAAAzE,WAAAgC,UAAAyC,EAAAzC,UAAAgE,WAAAvB,EAAAlE,cAAA0F,OAAA,IAA6IrH,IAAKsH,iBAAAzB,EAAAyB,iBAAAC,iBAAA1B,EAAA0B,oBAAiFvB,EAAA,kBAAAH,EAAA2B,IAA+B/H,OAAOgI,KAAA,YAAAvJ,MAAA,KAAAwJ,MAAA,UAAiDD,KAAA,YAAAE,YAAA9B,EAAA+B,KAAuCC,IAAA,UAAAC,GAAA,SAAAC,GAAiC,OAAA/B,EAAA,OAAkBE,YAAA,gBAAA8B,aAAyCC,aAAA,YAAuBjC,EAAA,aAAkBvG,OAAOrB,SAAA2J,EAAAlJ,IAAA2F,SAAAX,KAAA,QAA4C7D,IAAKgH,MAAA,SAAAT,GAAyB,OAAAV,EAAAzB,aAAA2D,EAAAlJ,SAAqCgH,EAAAW,GAAA,oDAA4D,kBAAAX,EAAAtE,SAAAsE,EAAAtE,QAAAxB,OAAA,YAAA8F,EAAAW,GAAA,KAAAR,EAAA,OAA0FE,YAAA,cAAwBF,EAAA,KAAUE,YAAA,UAAoBL,EAAAW,GAAA,WAAAX,EAAAW,GAAA,KAAAR,EAAA,aAAgDE,YAAA,eAAAzG,OAAkC8B,QAAAsE,EAAAtE,QAAAN,QAAA4E,EAAA1E,gBAAAC,WAAAyE,EAAAvE,iBAAA8B,UAAAyC,EAAA5D,gBAAAmF,WAAAvB,EAAA3D,oBAAAmF,OAAA,IAAuKrH,IAAKsH,iBAAAzB,EAAAH,uBAAA6B,iBAAA1B,EAAAF,0BAA6FK,EAAA,kBAAAH,EAAA2B,IAA+B/H,OAAOgI,KAAA,YAAAvJ,MAAA,KAAAwJ,MAAA,UAAiDD,KAAA,YAAAE,YAAA9B,EAAA+B,KAAuCC,IAAA,UAAAC,GAAA,SAAAC,GAAiC,OAAA/B,EAAA,OAAkBE,YAAA,gBAAA8B,aAAyCC,aAAA,YAAuBjC,EAAA,aAAkBvG,OAAOoE,KAAA,QAAc7D,IAAKgH,MAAA,SAAAT,GAAyB,OAAAV,EAAApB,aAAAsD,EAAAlJ,SAAqCgH,EAAAW,GAAA,oBAA4B,kBAAAX,EAAAtE,SAAAsE,EAAAtE,QAAAxB,OAAA,cAAA8F,EAAAW,GAAA,KAAAR,EAAA,OAA4FE,YAAA,gBAAAzG,OAAmCgI,KAAA,UAAgBA,KAAA,WAAezB,EAAA,aAAkBhG,IAAIgH,MAAA,SAAAT,GAAyB,OAAAV,EAAAN,YAAqBM,EAAAW,GAAA,SAAAX,EAAAW,GAAA,KAAAR,EAAA,aAA8CvG,OAAOoE,KAAA,WAAiB7D,IAAKgH,MAAA,SAAAT,GAAyB,OAAAV,EAAAhB,iBAA0BgB,EAAAW,GAAA,gBAE5tH0B,oBCCjB,IAuBeC,EAvBUC,EAAQ,OAcjCC,CACEhI,EACAuF,GATF,EAVA,SAAA0C,GACEF,EAAQ,SAaV,kBAEA,MAUgC,QCgIhCG,EAAAjK,EAAAN,oBAAAwK,EAAAlK,EAAAH,sBAAAsK,EAAAnK,EAAAD,oBAEAqK,GACApI,KAAA,cACAC,QAAAC,EAAA,GACAC,YACAC,mBAAA,EACAiI,qBAAAR,GAEAxH,KAPA,WAQA,OACAC,SAAA,EAEAE,YACAE,eAAA,GACA5B,UAAA,KACAD,OAAA,KACAQ,iBAAA,IAEA3B,oBAAAuK,EACApK,sBAAAqK,EACAnK,oBAAAoK,EAEAxH,QAAA3C,EAAAC,mBAAA2C,MACAE,cACAG,SAEAxC,OAAA,EACA0C,WAAA,KACA1B,OACA2B,MAAA,MAGAf,QAEAiI,mBAAA,EACAC,WAAA,KACAhI,eAAA,EACAiI,eAAA,QACAC,MACA5J,OAAA,KACAD,WAAA,QAIAiD,QA3CA,WA4CAjB,KAAAkB,kBAEAC,SAEAmD,eAFA,SAEA7E,GACAO,KAAAuC,KAAAvC,KAAAJ,WAAA,mBAAAH,EAAAhB,mBAEAyC,eALA,WAKA,IAAAE,EAAApB,KACAA,KAAAN,SAAA,EACA,IAAA2B,GACAC,KAAAtB,KAAAS,cAAAC,YACAa,SAAAvB,KAAAS,cAAAE,UAEAa,EAAAC,OAAAzB,KAAAJ,YACAI,KAAA4B,KAAAmC,UACA+D,oBAAAtG,EAAAH,GACAU,KAAA,SAAAC,GACA,OAAAA,EAAAC,KAAA,CACAI,QAAAC,IAAAN,GACAZ,EAAAc,UAAAF,EAAAG,KAAAC,eACA,IAAA3C,EAAAuC,EAAAG,UAAAjD,IAAA,SAAAnB,GACA,OAAA0D,OACA1D,EAAAgK,cACAC,aAAAjK,EAAAiK,aACA/J,OAAAF,EAAAE,OACAD,WAAAD,EAAAC,WACAiK,UAAAlK,EAAAkK,UACA/J,UAAAH,EAAAgK,aAAA9J,WAGAmD,EAAAmB,KAAAnB,EAAA,aAAA3B,GAEA2B,EAAA1B,SAAA,IAEA8C,MAAA,WACApB,EAAA1B,SAAA,KAKA+C,MAtCA,WAuCAzC,KAAAuC,KAAAvC,KAAA,cACAF,eAAA,GACA5B,UAAA,KACAD,OAAA,KACAQ,iBAAA,MAIAyJ,qBA/CA,WAgDAlI,KAAA0H,mBAAA,GAIAS,WApDA,SAoDAxK,GACA0E,QAAAC,IAAA3E,EAAAqC,KAAA7C,qBACA6C,KAAAuC,KAAAvC,KAAA,aAAArC,GACAqC,KAAAuC,KAAAvC,KAAA6H,KAAA,SAAAlK,EAAAM,QACA+B,KAAAuC,KACAvC,KAAA6H,KACA,aACA7H,KAAA7C,oBAAAW,KAAA,SAAAC,GAAA,OAAAA,EAAAhB,OAAAY,EAAAK,aAAAjB,OAEAiD,KAAAL,eAAA,GAGAgE,WAhEA,WAgEA,IAAAC,EAAA5D,KACAqC,QAAAC,IAAAtC,KAAA6H,MACA,IAAAxG,GACA+G,GAAApI,KAAA2H,WAAAlE,gBAEAjC,EAAAC,OACAzB,KAAA6H,MACA7J,aAAAgC,KAAA6H,KAAA7J,aAEAgC,KAAA4B,KAAAmC,UAAAsE,4BAAA7G,EAAAH,GAAAU,KAAA,SAAAC,GACA,IAAAA,EAAAC,KACA2B,EAAAK,UACAtB,KAAA,UACAuB,QAAA,YAGAN,EAAAK,UACAtB,KAAA,QACAuB,QAAA,kBAGAN,EAAA0E,YAAA,iBAAAlE,SAAA,OAGAC,MAxFA,WAyFArE,KAAAsI,YAAA,kBAGAC,aA5FA,SA4FA5K,GAAA,IAAA6K,EAAAxI,KACAqC,QAAAC,IAAA3E,GACA,IAAAS,EAAA4B,KAAA6E,eACA7E,KAAAyI,SAAA,QACAjK,MAAA,OACA0F,QAAA9F,EAAA,OAAAA,EAAA,KAAAA,EAAA,yBACAsK,kBAAA,KACAC,iBAAA,KACAhG,KAAA,YAEAZ,KAAA,WACA,IAAAV,GAAA+G,GAAAzK,EAAA8F,gBACA+E,EAAA5G,KAAAmC,UAAA6E,8BAAAvH,GAAAU,KAAA,SAAAC,GACA,IAAAA,EAAAC,MACAuG,EAAAvE,UACAtB,KAAA,UACAuB,QAAA,YAEAsE,EAAAtH,kBAEAsH,EAAAvE,UACAtB,KAAA,QACAuB,QAAA,sBAKA1B,MAAA,WACAgG,EAAAvE,UACAtB,KAAA,OACAuB,QAAA,WAMAoE,YAhIA,SAgIA3B,EAAAjD,GACA1D,KAAA2G,IAAA,EACAjD,KAAAU,SACApE,KAAAkB,oBC1Ue2H,GADE1K,OAFP,WAAgB,IAAAwG,EAAA3E,KAAa4E,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,qBAAAH,EAAAW,GAAA,KAAAR,EAAA,OAA+DE,YAAA,wBAAkCF,EAAA,OAAYE,YAAA,eAAyBF,EAAA,OAAYE,YAAA,gBAA0BF,EAAA,QAAAH,EAAAW,GAAA,WAAAX,EAAAW,GAAA,KAAAR,EAAA,YAA0DvG,OAAOgH,YAAA,UAAAuD,UAAA,IAAuCrD,OAAQ1I,MAAA4H,EAAA/E,WAAA,eAAA8F,SAAA,SAAAC,GAA+DhB,EAAApC,KAAAoC,EAAA/E,WAAA,iBAAA+F,IAAgDC,WAAA,gCAAyC,GAAAjB,EAAAW,GAAA,KAAAR,EAAA,OAA4BE,YAAA,gBAA0BF,EAAA,QAAAH,EAAAW,GAAA,WAAAX,EAAAW,GAAA,KAAAR,EAAA,aAA2DvG,OAAOwK,yBAAA,EAAAxD,YAAA,WAAsDE,OAAQ1I,MAAA4H,EAAA/E,WAAA,UAAA8F,SAAA,SAAAC,GAA0DhB,EAAApC,KAAAoC,EAAA/E,WAAA,YAAA+F,IAA2CC,WAAA,0BAAoCd,EAAA,aAAkBvG,OAAOvB,MAAA,KAAAD,MAAA,QAA2B4H,EAAAW,GAAA,KAAAX,EAAAqE,GAAArE,EAAA,6BAAA5G,GAA8D,OAAA+G,EAAA,aAAuB6B,IAAA5I,EAAAhB,MAAAwB,OAAsBvB,MAAAe,EAAAf,MAAAD,MAAAgB,EAAAhB,YAAyC,OAAA4H,EAAAW,GAAA,KAAAR,EAAA,OAAgCE,YAAA,gBAA0BF,EAAA,QAAAH,EAAAW,GAAA,WAAAX,EAAAW,GAAA,KAAAR,EAAA,aAA2DvG,OAAOwK,yBAAA,EAAAxD,YAAA,WAAsDE,OAAQ1I,MAAA4H,EAAA/E,WAAA,OAAA8F,SAAA,SAAAC,GAAuDhB,EAAApC,KAAAoC,EAAA/E,WAAA,SAAA+F,IAAwCC,WAAA,uBAAiCd,EAAA,aAAkBvG,OAAOvB,MAAA,KAAAD,MAAA,QAA2B4H,EAAAW,GAAA,KAAAX,EAAAqE,GAAArE,EAAA,+BAAA5G,GAAgE,OAAA+G,EAAA,aAAuB6B,IAAA5I,EAAAhB,MAAAwB,OAAsBvB,MAAAe,EAAAf,MAAAD,MAAAgB,EAAAhB,YAAyC,OAAA4H,EAAAW,GAAA,KAAAR,EAAA,OAAgCE,YAAA,gBAA0BF,EAAA,QAAAH,EAAAW,GAAA,aAAAX,EAAAW,GAAA,KAAAR,EAAA,qBAAqEvG,OAAOgH,YAAA,aAA0BzG,IAAKwF,eAAAK,EAAAL,mBAAqC,GAAAK,EAAAW,GAAA,KAAAR,EAAA,OAA4BE,YAAA,mBAA6BF,EAAA,aAAkBE,YAAA,YAAAzG,OAA+BoE,KAAA,QAAc7D,IAAKgH,MAAA,SAAAT,GAAyB,OAAAV,EAAAlC,YAAqBkC,EAAAW,GAAA,UAAAX,EAAAW,GAAA,KAAAR,EAAA,aAA+CE,YAAA,YAAAzG,OAA+BoE,KAAA,WAAiB7D,IAAKgH,MAAA,SAAAT,GAAyB,OAAAV,EAAAoB,yBAAkCpB,EAAAW,GAAA,eAAAX,EAAAW,GAAA,KAAAR,EAAA,OAA8CE,YAAA,kBAA4BF,EAAA,aAAkBvG,OAAOoE,KAAA,WAAiB7D,IAAKgH,MAAA,SAAAT,GAAyB,OAAAV,EAAAuD,2BAAoCvD,EAAAW,GAAA,gBAAAX,EAAAW,GAAA,KAAAR,EAAA,aAAqDkB,aAAa5G,KAAA,UAAA6G,QAAA,YAAAlJ,MAAA4H,EAAA,QAAAiB,WAAA,YAA4ErH,OAAS0K,WAAa3I,OAAA,QAAiBD,QAAAsE,EAAAtE,QAAAN,QAAA4E,EAAA5E,QAAAG,WAAAyE,EAAAzE,WAAAgC,UAAAyC,EAAAzC,UAAAgE,WAAAvB,EAAAlE,cAAA0F,OAAA,IAA8IrH,IAAKsH,iBAAAzB,EAAAyB,iBAAAC,iBAAA1B,EAAA0B,oBAAiFvB,EAAA,kBAAAH,EAAA2B,IAA+B/H,OAAOgI,KAAA,YAAAvJ,MAAA,KAAAwJ,MAAA,UAAiDD,KAAA,YAAAE,YAAA9B,EAAA+B,KAAuCC,IAAA,UAAAC,GAAA,SAAAC,GAAiC,OAAA/B,EAAA,OAAkBE,YAAA,kBAA4BF,EAAA,aAAkBvG,OAAOoE,KAAA,QAAc7D,IAAKgH,MAAA,SAAAT,GAAyB,OAAAV,EAAAwD,WAAAtB,EAAAlJ,SAAmCgH,EAAAW,GAAA,UAAAX,EAAAW,GAAA,KAAAR,EAAA,aAA+CvG,OAAOoE,KAAA,QAAc7D,IAAKgH,MAAA,SAAAT,GAAyB,OAAAV,EAAA4D,aAAA1B,EAAAlJ,SAAqCgH,EAAAW,GAAA,oBAA4B,kBAAAX,EAAAtE,SAAAsE,EAAAtE,QAAAxB,OAAA,YAAA8F,EAAAW,GAAA,KAAAX,EAAA,kBAAAG,EAAA,wBAAmIhG,IAAIwJ,YAAA,SAAA5E,GAA8B,OAAAiB,EAAA2D,YAAA,oBAAA5E,OAAsDiB,EAAAuE,KAAAvE,EAAAW,GAAA,KAAAX,EAAA,cAAAG,EAAA,aAA2DE,YAAA,mBAAAzG,OAAsCC,MAAA,OAAAgC,MAAA,QAAAyE,QAAAN,EAAAhF,cAAAuF,wBAAA,EAAAC,yBAAA,GAAsHrG,IAAKsG,iBAAA,SAAAC,GAAkCV,EAAAhF,cAAA0F,GAAyBhB,MAAA,SAAAgB,GAA0B,OAAAV,EAAAN,YAAqBS,EAAA,OAAYE,YAAA,mBAA6BF,EAAA,WAAgBqE,IAAA,cAAA5K,OAAyBkH,MAAAd,EAAAkD,KAAAuB,cAAAzE,EAAAiD,kBAAmD9C,EAAA,gBAAqBvG,OAAOvB,MAAA,OAAAO,KAAA,mBAAuCuH,EAAA,aAAkBvG,OAAOgH,YAAA,WAAwBE,OAAQ1I,MAAA4H,EAAAkD,KAAA,WAAAnC,SAAA,SAAAC,GAAqDhB,EAAApC,KAAAoC,EAAAkD,KAAA,aAAAlC,IAAsCC,WAAA,oBAA+BjB,EAAAqE,GAAArE,EAAA,6BAAA5G,GAAiD,OAAA+G,EAAA,aAAuB6B,IAAA5I,EAAAhB,MAAAwB,OAAsBvB,MAAAe,EAAAf,MAAAD,MAAAgB,EAAAhB,WAAyC,OAAA4H,EAAAW,GAAA,KAAAR,EAAA,gBAAwCvG,OAAOvB,MAAA,OAAAO,KAAA,iBAAqCuH,EAAA,aAAkBvG,OAAOgH,YAAA,UAAArI,WAAAyH,EAAAgD,YAAAhD,EAAAgD,WAAAM,YAAiFxC,OAAQ1I,MAAA4H,EAAAkD,KAAA,OAAAnC,SAAA,SAAAC,GAAiDhB,EAAApC,KAAAoC,EAAAkD,KAAA,SAAAlC,IAAkCC,WAAA,gBAA2BjB,EAAAqE,GAAArE,EAAA,+BAAA5G,GAAmD,OAAA+G,EAAA,aAAuB6B,IAAA5I,EAAAhB,MAAAwB,OAAsBvB,MAAAe,EAAAf,MAAAD,MAAAgB,EAAAhB,MAAAG,SAAAa,EAAAb,cAAkE,eAAAyH,EAAAW,GAAA,KAAAR,EAAA,OAAuCE,YAAA,gBAAAzG,OAAmCgI,KAAA,UAAgBA,KAAA,WAAezB,EAAA,aAAkBhG,IAAIgH,MAAA,SAAAT,GAAyB,OAAAV,EAAAN,YAAqBM,EAAAW,GAAA,SAAAX,EAAAW,GAAA,KAAAR,EAAA,aAA8CvG,OAAOoE,KAAA,WAAiB7D,IAAKgH,MAAA,SAAAT,GAAyB,OAAAV,EAAAhB,iBAA0BgB,EAAAW,GAAA,eAAAX,EAAAuE,MAAA,IAEv1JlC,oBCChC,IAcIqC,EAdqBnC,EAAQ,OAcjBoC,CACd9B,EACAqB,GAT6B,EAV/B,SAAoBzB,GAClBF,EAAQ,SAaS,kBAEU,MAUdqC,EAAA,QAAAF,EAAiB","file":"static/js/34.4bd3c15c903538cc4c5d.js","sourcesContent":["/*\r\n * @Autor: linxu\r\n * @Date: 2022-04-11 15:31:22\r\n * @LastEditors: linxu\r\n * @LastEditTime: 2022-04-14 16:32:56\r\n * @Description: 租赁机组数据\r\n */\r\n// 机组状态枚举 // 0离线 1停机 2警告 3报警 4运行\r\nconst GensetRunStatusEnum = [\r\n  { value: 0, label: '离线' },\r\n  { value: 1, label: '停机' },\r\n  { value: 2, label: '风险' },\r\n  { value: 3, label: '故障' },\r\n  { value: 4, label: '运行' }\r\n]\r\n// 机组租赁状态枚举  // 0待租 1租赁中 2维修 3施工 4检修\r\nconst GensetLeaseStatusEnum = [\r\n  { value: 0, label: '待租赁' },\r\n  { value: 1, label: '租赁中', disabled: true },\r\n  { value: 2, label: '维修' },\r\n  { value: 3, label: '施工' },\r\n  { value: 4, label: '检修' }\r\n]\r\n\r\n// 租赁类型枚举 // 1运维 2代运维\r\nconst GensetLeaseTypeEnum = [\r\n  { value: 1, label: '运维' },\r\n  { value: 0, label: '代运维' }\r\n]\r\nexport default {\r\n  GensetRunStatusEnum,\r\n  GensetLeaseStatusEnum,\r\n  GensetLeaseTypeEnum,\r\n  // 租赁机组列表\r\n  leaseGensetColumns: (that) => [\r\n    {\r\n      label: '设备名称',\r\n      prop: 'DisplayName',\r\n      minWidth: '30%'\r\n    },\r\n    {\r\n      label: '标识',\r\n      prop: 'CollectorToken',\r\n      minWidth: '20%'\r\n    },\r\n    {\r\n      label: '发动机型号',\r\n      prop: 'EngineModel',\r\n      minWidth: '25%'\r\n    },\r\n    {\r\n      label: '功率',\r\n      prop: 'RatedPower',\r\n      minWidth: '15%',\r\n      unit: 'Kw'\r\n    },\r\n    {\r\n      label: '运行时间',\r\n      prop: 'RunHourTotal',\r\n      minWidth: '15%',\r\n      unit: 'h'\r\n    },\r\n    {\r\n      label: '租赁类型',\r\n      prop: 'IsPlatform',\r\n      minWidth: '15%',\r\n      formatter: (row, column, index) => {\r\n        return GensetLeaseTypeEnum.find((item) => item.value == row.IsPlatform).label\r\n      }\r\n    },\r\n    {\r\n      label: '租赁状态',\r\n      prop: 'Status',\r\n      minWidth: '15%',\r\n      formatter: (row, column, index) => {\r\n        return GensetLeaseStatusEnum.find((item) => item.value == row.Status).label\r\n      }\r\n    },\r\n    {\r\n      label: '运行状态',\r\n      prop: 'RunStatus',\r\n      minWidth: '15%',\r\n      formatter: (row, column, index) => {\r\n        return GensetRunStatusEnum.find((item) => item.value == row.RunStatus).label\r\n      }\r\n    },\r\n    {\r\n      label: '机组位置',\r\n      prop: 'InstallationSite',\r\n      minWidth: '35%',\r\n      render: (h, parmas) => {\r\n        return h(\r\n          'span',\r\n          {\r\n            class: 'text-overflow-ellipsis MulLineHiding', //用类名控制文字溢出显示省略号\r\n            attrs: {\r\n              title: parmas.row.InstallationSite || ''\r\n            }\r\n          },\r\n          parmas.row.InstallationSite\r\n        )\r\n      }\r\n    },\r\n    {\r\n      label: '租赁次数',\r\n      prop: 'FileDetail',\r\n      minWidth: '15%',\r\n      formatter: (row, column, index) => {\r\n        return row.FileDetail || 0\r\n      }\r\n    }\r\n  ],\r\n\r\n  /* 可选择机组 表头数据 */\r\n  selectCrewColumns: (that) => [\r\n    {\r\n      label: '设备名称',\r\n      prop: 'DisplayName',\r\n      minWidth: '30%'\r\n    },\r\n    {\r\n      label: '标识',\r\n      prop: 'CollectorToken',\r\n      minWidth: '30%'\r\n    },\r\n    {\r\n      label: '机组位置',\r\n      prop: 'InstallationSite',\r\n      minWidth: '40%',\r\n      render: (h, parmas) => {\r\n        return h(\r\n          'span',\r\n          {\r\n            class: 'text-overflow-ellipsis MulLineHiding', //用类名控制文字溢出显示省略号\r\n            attrs: {\r\n              title: parmas.row.InstallationSite || ''\r\n            }\r\n          },\r\n          parmas.row.InstallationSite\r\n        )\r\n      }\r\n    }\r\n  ],\r\n  /* 已选择机组 表头数据 */\r\n  selectedCrewColumns: (that) => [\r\n    {\r\n      label: '设备名称',\r\n      prop: 'DisplayName',\r\n      minWidth: '25%'\r\n    },\r\n    {\r\n      label: '标识',\r\n      prop: 'CollectorToken',\r\n      minWidth: '20%'\r\n    },\r\n    {\r\n      label: '机组位置',\r\n      prop: 'InstallationSite',\r\n      minWidth: '30%',\r\n      render: (h, parmas) => {\r\n        return h(\r\n          'span',\r\n          {\r\n            class: 'text-overflow-ellipsis MulLineHiding', //用类名控制文字溢出显示省略号\r\n            attrs: {\r\n              title: parmas.row.InstallationSite || ''\r\n            }\r\n          },\r\n          parmas.row.InstallationSite\r\n        )\r\n      }\r\n    },\r\n    {\r\n      label: '租赁类型',\r\n      prop: 'IsPlatform',\r\n      minWidth: '25%',\r\n      render: (h, parmas) => {\r\n        return h(\r\n          'el-select',\r\n          {\r\n            props: {\r\n              value: parmas.row.IsPlatform\r\n            },\r\n            on: {\r\n              change: (v) => {\r\n                that.selectOptions(parmas.row, v)\r\n              }\r\n            }\r\n          },\r\n          GensetLeaseTypeEnum.map((item) => {\r\n            return h('el-option', {\r\n              props: {\r\n                value: item.value,\r\n                label: item.label\r\n              }\r\n            })\r\n          })\r\n        )\r\n      }\r\n    }\r\n  ]\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/operation/leaseGenset/data.js","<!--\r\n * @Autor: linxu\r\n * @Date: 2022-04-11 15:30:04\r\n * @LastEditors: linxu\r\n * @LastEditTime: 2022-06-10 09:52:58\r\n * @Description: 添加租赁机组弹窗\r\n-->\r\n<template>\r\n  <el-dialog\r\n    title=\"添加机组\"\r\n    class=\"add-crew-dialog\"\r\n    width=\"90%\"\r\n    :visible.sync=\"dialigVisible\"\r\n    :close-on-click-modal=\"false\"\r\n    :close-on-press-escape=\"false\"\r\n    @close=\"close()\"\r\n  >\r\n    <div class=\"dialog-content\">\r\n      <div class=\"left-box\">\r\n        <p class=\"title\">公有云可选机组</p>\r\n        <div class=\"search-box\">\r\n          <div class=\"search-item\">\r\n            <span>设备名称:</span>\r\n            <el-input placeholder=\"请输入设备名称\" maxlength=\"20\" v-model=\"searchForm.DisplayName\">\r\n            </el-input>\r\n          </div>\r\n          <div class=\"search-item\">\r\n            <span>标识:</span>\r\n            <el-input placeholder=\"请输入标识\" maxlength=\"20\" v-model=\"searchForm.CollectorToken\">\r\n            </el-input>\r\n          </div>\r\n          <div class=\"search-item\">\r\n            <span>机组位置:</span>\r\n            <!-- 省市县级联选择器 -->\r\n            <position-cascader\r\n              placeholder=\"请选择机组位置\"\r\n              :defaultPosition=\"searchForm.InstallationSite\"\r\n              @positionChange=\"positionChange\"\r\n            />\r\n          </div>\r\n          <!-- <div class=\"search-item power-item\">\r\n            <span>功率:</span>\r\n            <el-input type=\"number\" placeholder=\"最低功率\" v-model=\"searchForm.RatedPowerMin\">\r\n            </el-input>\r\n            <span>-</span>\r\n            <el-input type=\"number\" placeholder=\"最高功率\" v-model=\"searchForm.RatedPowerMax\">\r\n            </el-input>\r\n          </div> -->\r\n          <div class=\"search-btn-box\">\r\n            <el-button type=\"text\" class=\"reset-btn\" @click=\"reset()\">清空筛选</el-button>\r\n            <el-button type=\"primary\" class=\"query-btn\" @click=\"resetCurrentParams()\">\r\n              查 询\r\n            </el-button>\r\n          </div>\r\n        </div>\r\n        <!-- 可选表格 -->\r\n        <TableList\r\n          class=\"genset-table\"\r\n          :options=\"options\"\r\n          :columns=\"columns\"\r\n          :dataSource=\"dataSource\"\r\n          :dataTotal=\"dataTotal\"\r\n          :pagination=\"paginationCfg\"\r\n          @handleChangePage=\"handleChangePage\"\r\n          @handleChangeSize=\"handleChangeSize\"\r\n          border\r\n          v-loading=\"loading\"\r\n        >\r\n          <!-- :pagination=\"paginationCfg\"\r\n          @handleChangePage=\"handleChangePage\"\r\n          @handleChangeSize=\"handleChangeSize\" -->\r\n          <el-table-column\r\n            slot=\"operation\"\r\n            label=\"操作\"\r\n            align=\"center\"\r\n            v-bind=\"options && options.props\"\r\n          >\r\n            <template slot-scope=\"scope\">\r\n              <div class=\"operate-group\" style=\"text-align: center\">\r\n                <el-button\r\n                  :disabled=\"scope.row.isSelect\"\r\n                  type=\"text\"\r\n                  @click=\"handleSelect(scope.row)\"\r\n                >\r\n                  选中\r\n                </el-button>\r\n              </div>\r\n            </template>\r\n          </el-table-column>\r\n        </TableList>\r\n      </div>\r\n      <div class=\"right-box\">\r\n        <p class=\"title\">已选择机组</p>\r\n        <!-- 已选表格 -->\r\n        <TableList\r\n          class=\"genset-table\"\r\n          :options=\"options\"\r\n          :columns=\"selectedColumns\"\r\n          :dataSource=\"selectDataSource\"\r\n          :dataTotal=\"dataTotalSelect\"\r\n          :pagination=\"paginationCfgSelect\"\r\n          @handleChangePage=\"handleChangePageSelect\"\r\n          @handleChangeSize=\"handleChangeSizeSelect\"\r\n          border\r\n        >\r\n          <el-table-column\r\n            slot=\"operation\"\r\n            label=\"操作\"\r\n            align=\"center\"\r\n            v-bind=\"options && options.props\"\r\n          >\r\n            <template slot-scope=\"scope\">\r\n              <div class=\"operate-group\" style=\"text-align: center\">\r\n                <el-button type=\"text\" @click=\"handleRemove(scope.row)\"> 移除 </el-button>\r\n              </div>\r\n            </template>\r\n          </el-table-column>\r\n        </TableList>\r\n      </div>\r\n    </div>\r\n\r\n    <div slot=\"footer\" class=\"dialog-footer\">\r\n      <el-button @click=\"close()\">取 消</el-button>\r\n      <el-button type=\"primary\" @click=\"submitForm()\">确 定</el-button>\r\n    </div>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport { paginationConfigMixin } from '@/mixins/paginationConfigMixin'\r\nimport PositionCascader from '@/components/PositionCascader'\r\nimport _data from './data.js'\r\nimport moment from 'moment'\r\n\r\nexport default {\r\n  name: 'AddCrewDialog',\r\n  mixins: [paginationConfigMixin],\r\n  components: {\r\n    PositionCascader\r\n  },\r\n  props: {},\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      dialigVisible: true,\r\n      // 筛选条件\r\n      searchForm: {\r\n        DisplayName: '',\r\n        CollectorToken: '',\r\n        InstallationSite: ''\r\n        // RatedPowerMin: '',\r\n        // RatedPowerMax: ''\r\n      },\r\n\r\n      // 表格\r\n      columns: _data.selectCrewColumns(this),\r\n      selectedColumns: _data.selectedCrewColumns(this),\r\n      dataSource: [], // 全部可选 数据源\r\n      selectData: [], // 选中 数据源\r\n      selectDataSource: [],\r\n      options: {\r\n        height: '100%',\r\n        index: true, // 序号列\r\n        labelIndex: '序号',\r\n        props: {\r\n          width: 60 // 操作列宽度\r\n        }\r\n      },\r\n      paginationCfg: {\r\n        currentPage: 1,\r\n        pageSize: 10,\r\n        layout: 'total, sizes, prev, pager, next',\r\n        pageSizes: [10, 20, 30, 40],\r\n        small: true\r\n      },\r\n      // 已选中机组分页\r\n      dataTotalSelect: 0,\r\n      paginationCfgSelect: {\r\n        currentPage: 1,\r\n        pageSize: 10,\r\n        layout: 'total, sizes, prev, pager, next',\r\n        pageSizes: [10, 20, 30, 40],\r\n        small: true\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.queryTableData()\r\n  },\r\n  methods: {\r\n    // 查询全部机组\r\n    queryTableData() {\r\n      this.loading = true\r\n      // console.log('searchForm------', this.searchForm)\r\n      const query = {\r\n        Page: this.paginationCfg.currentPage,\r\n        PageSize: this.paginationCfg.pageSize\r\n        // IsWeb: true\r\n      }\r\n      const params = {\r\n        DisplayMode: 1, // 1为所有启用，0为所有机组 2为所有禁用\r\n        IsCanBind: true,\r\n        ...this.searchForm\r\n      }\r\n      this.$api.common\r\n        .getCrewList(params, query)\r\n        .then((res) => {\r\n          if (res.Code === 1) {\r\n            this.dataTotal = res.Data.TotalItemCount\r\n            const data = res.Data.Data.map((item) => {\r\n              return {\r\n                ...item,\r\n                IsPlatform: 1 // 默认租赁类型为 '运维'\r\n              }\r\n            })\r\n            console.log(data)\r\n            this.$set(this, 'dataSource', data)\r\n          }\r\n          this.loading = false\r\n        })\r\n        .catch(() => {\r\n          this.loading = false\r\n        })\r\n    },\r\n    reset() {\r\n      this.$set(this, 'searchForm', {\r\n        DisplayName: '',\r\n        CollectorToken: '',\r\n        InstallationSite: ''\r\n      })\r\n    },\r\n    // 设置已选中分页显示数据\r\n    setSelectPageData(type) {\r\n      const arr = this.selectData.slice(\r\n        (this.paginationCfgSelect.currentPage - 1) * this.paginationCfgSelect.pageSize,\r\n        this.paginationCfgSelect.currentPage * this.paginationCfgSelect.pageSize\r\n      )\r\n      this.$set(this, 'selectDataSource', arr)\r\n      this.dataTotalSelect = this.selectData.length\r\n      const newPageTotal = Math.ceil(this.dataTotalSelect / this.paginationCfgSelect.pageSize)\r\n      if (type && this.paginationCfgSelect.currentPage !== newPageTotal) {\r\n        this.paginationCfgSelect.currentPage = newPageTotal\r\n        this.setSelectPageData()\r\n      }\r\n    },\r\n    // 选中\r\n    handleSelect(row) {\r\n      this.selectData.push(row)\r\n      this.dataSource.splice(this.dataSource.indexOf(row), 1, { ...row, isSelect: true })\r\n      this.$set(this, 'dataSource', this.dataSource)\r\n      this.setSelectPageData(true)\r\n    },\r\n    // 移除\r\n    handleRemove(row) {\r\n      this.selectData.splice(this.selectData.indexOf(row), 1)\r\n      this.dataSource.splice(\r\n        this.dataSource.findIndex((item) => item.GeneratorSetId == row.GeneratorSetId),\r\n        1,\r\n        { ...row, isSelect: false, IsPlatform: 1 }\r\n      )\r\n      this.setSelectPageData(true)\r\n    },\r\n    selectOptions(row, val) {\r\n      console.log('selectOptions', row, val)\r\n      row.IsPlatform = val\r\n    },\r\n    // 表单提交\r\n    submitForm() {\r\n      console.log(this.selectData)\r\n      const params = {\r\n        GensetInfoList: this.selectData.map((item) => {\r\n          return { GeneratorSetId: item.ID, IsPlatform: !!item.IsPlatform }\r\n        })\r\n      }\r\n\r\n      this.$api.equipment.AddGensetProjectGensetInfo(params).then((res) => {\r\n        if (res.Code === 1) {\r\n          this.$message({\r\n            type: 'success',\r\n            message: '添加机组成功!'\r\n          })\r\n        } else {\r\n          this.$message({\r\n            type: 'error',\r\n            message: '添加机组失败，请重新提交!'\r\n          })\r\n        }\r\n        this.$emit('closeDialog', { refresh: true })\r\n      })\r\n    },\r\n    close() {\r\n      this.$emit('closeDialog')\r\n    },\r\n\r\n    // 筛选条件--级联选择器change事件\r\n    positionChange(data) {\r\n      this.$set(this.searchForm, 'InstallationSite', data.crewPosition)\r\n    },\r\n\r\n    // 分页 当前页改变\r\n    handleChangePageSelect(val) {\r\n      this.paginationCfgSelect.currentPage = val\r\n      this.setSelectPageData()\r\n    },\r\n    // 分页 每页条数改变\r\n    handleChangeSizeSelect(val) {\r\n      this.paginationCfgSelect.currentPage = 1\r\n      this.paginationCfgSelect.pageSize = val\r\n      this.setSelectPageData()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.dialog-content {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  .left-box,\r\n  .right-box {\r\n    width: calc(50% - 8px);\r\n    border: 1px solid #e4e4e4;\r\n    > div {\r\n      margin: 8px 16px;\r\n    }\r\n    .title {\r\n      line-height: 40px;\r\n      font-weight: 700;\r\n      border-bottom: 1px solid #e4e4e4;\r\n      text-indent: 8px;\r\n    }\r\n  }\r\n\r\n  .search-box .search-item {\r\n    width: 50%;\r\n    &.power-item {\r\n      width: 60%;\r\n    }\r\n  }\r\n  .genset-table {\r\n    height: 500px;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/operation/leaseGenset/add.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{staticClass:\"add-crew-dialog\",attrs:{\"title\":\"添加机组\",\"width\":\"90%\",\"visible\":_vm.dialigVisible,\"close-on-click-modal\":false,\"close-on-press-escape\":false},on:{\"update:visible\":function($event){_vm.dialigVisible=$event},\"close\":function($event){return _vm.close()}}},[_c('div',{staticClass:\"dialog-content\"},[_c('div',{staticClass:\"left-box\"},[_c('p',{staticClass:\"title\"},[_vm._v(\"公有云可选机组\")]),_vm._v(\" \"),_c('div',{staticClass:\"search-box\"},[_c('div',{staticClass:\"search-item\"},[_c('span',[_vm._v(\"设备名称:\")]),_vm._v(\" \"),_c('el-input',{attrs:{\"placeholder\":\"请输入设备名称\",\"maxlength\":\"20\"},model:{value:(_vm.searchForm.DisplayName),callback:function ($$v) {_vm.$set(_vm.searchForm, \"DisplayName\", $$v)},expression:\"searchForm.DisplayName\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"search-item\"},[_c('span',[_vm._v(\"标识:\")]),_vm._v(\" \"),_c('el-input',{attrs:{\"placeholder\":\"请输入标识\",\"maxlength\":\"20\"},model:{value:(_vm.searchForm.CollectorToken),callback:function ($$v) {_vm.$set(_vm.searchForm, \"CollectorToken\", $$v)},expression:\"searchForm.CollectorToken\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"search-item\"},[_c('span',[_vm._v(\"机组位置:\")]),_vm._v(\" \"),_c('position-cascader',{attrs:{\"placeholder\":\"请选择机组位置\",\"defaultPosition\":_vm.searchForm.InstallationSite},on:{\"positionChange\":_vm.positionChange}})],1),_vm._v(\" \"),_c('div',{staticClass:\"search-btn-box\"},[_c('el-button',{staticClass:\"reset-btn\",attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.reset()}}},[_vm._v(\"清空筛选\")]),_vm._v(\" \"),_c('el-button',{staticClass:\"query-btn\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.resetCurrentParams()}}},[_vm._v(\"\\n            查 询\\n          \")])],1)]),_vm._v(\" \"),_c('TableList',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"genset-table\",attrs:{\"options\":_vm.options,\"columns\":_vm.columns,\"dataSource\":_vm.dataSource,\"dataTotal\":_vm.dataTotal,\"pagination\":_vm.paginationCfg,\"border\":\"\"},on:{\"handleChangePage\":_vm.handleChangePage,\"handleChangeSize\":_vm.handleChangeSize}},[_c('el-table-column',_vm._b({attrs:{\"slot\":\"operation\",\"label\":\"操作\",\"align\":\"center\"},slot:\"operation\",scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"operate-group\",staticStyle:{\"text-align\":\"center\"}},[_c('el-button',{attrs:{\"disabled\":scope.row.isSelect,\"type\":\"text\"},on:{\"click\":function($event){return _vm.handleSelect(scope.row)}}},[_vm._v(\"\\n                选中\\n              \")])],1)]}}])},'el-table-column',_vm.options && _vm.options.props,false))],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"right-box\"},[_c('p',{staticClass:\"title\"},[_vm._v(\"已选择机组\")]),_vm._v(\" \"),_c('TableList',{staticClass:\"genset-table\",attrs:{\"options\":_vm.options,\"columns\":_vm.selectedColumns,\"dataSource\":_vm.selectDataSource,\"dataTotal\":_vm.dataTotalSelect,\"pagination\":_vm.paginationCfgSelect,\"border\":\"\"},on:{\"handleChangePage\":_vm.handleChangePageSelect,\"handleChangeSize\":_vm.handleChangeSizeSelect}},[_c('el-table-column',_vm._b({attrs:{\"slot\":\"operation\",\"label\":\"操作\",\"align\":\"center\"},slot:\"operation\",scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"operate-group\",staticStyle:{\"text-align\":\"center\"}},[_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.handleRemove(scope.row)}}},[_vm._v(\" 移除 \")])],1)]}}])},'el-table-column',_vm.options && _vm.options.props,false))],1)],1)]),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){return _vm.close()}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm()}}},[_vm._v(\"确 定\")])],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-c1145c92\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/operation/leaseGenset/add.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-c1145c92\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./add.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./add.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./add.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c1145c92\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./add.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-c1145c92\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/operation/leaseGenset/add.vue\n// module id = null\n// module chunks = ","<!--\r\n * @Autor: linxu\r\n * @Date: 2022-04-11 14:06:05\r\n * @LastEditors: linxu\r\n * @LastEditTime: 2022-08-25 15:07:08\r\n * @Description: 租赁机组管理\r\n-->\r\n<template>\r\n  <div>\r\n    <BMainTopComponent />\r\n    <div class=\"lease-genset-manage\">\r\n      <!-- 筛选 -->\r\n      <div class=\"search-box\">\r\n        <div class=\"search-item\">\r\n          <span>机组编号:</span>\r\n          <el-input placeholder=\"请输入机组编号\" v-model=\"searchForm.CollectorToken\" clearable>\r\n          </el-input>\r\n        </div>\r\n        <div class=\"search-item\">\r\n          <span>运行状态:</span>\r\n          <el-select\r\n            v-model=\"searchForm.RunStatus\"\r\n            :popper-append-to-body=\"false\"\r\n            placeholder=\"请选择运行状态\"\r\n          >\r\n            <el-option label=\"全部\" value=\"-1\"></el-option>\r\n            <el-option\r\n              v-for=\"item in GensetRunStatusEnum\"\r\n              :key=\"item.value\"\r\n              :label=\"item.label\"\r\n              :value=\"item.value\"\r\n            ></el-option>\r\n          </el-select>\r\n        </div>\r\n        <div class=\"search-item\">\r\n          <span>租赁状态:</span>\r\n          <el-select\r\n            v-model=\"searchForm.Status\"\r\n            :popper-append-to-body=\"false\"\r\n            placeholder=\"请选择租赁状态\"\r\n          >\r\n            <el-option label=\"全部\" value=\"-1\"></el-option>\r\n            <el-option\r\n              v-for=\"item in GensetLeaseStatusEnum\"\r\n              :key=\"item.value\"\r\n              :label=\"item.label\"\r\n              :value=\"item.value\"\r\n            ></el-option>\r\n          </el-select>\r\n        </div>\r\n        <div class=\"search-item\">\r\n          <span>机组位置筛选:</span>\r\n          <position-cascader placeholder=\"请选择机组所在位置\" @positionChange=\"positionChange\" />\r\n        </div>\r\n        <div class=\"search-btn-box\">\r\n          <el-button type=\"text\" class=\"reset-btn\" @click=\"reset()\">清空筛选</el-button>\r\n          <el-button type=\"primary\" class=\"query-btn\" @click=\"resetCurrentParams()\"\r\n            >查 询</el-button\r\n          >\r\n        </div>\r\n      </div>\r\n      <!-- 操作按钮 -->\r\n      <div class=\"operation-box\">\r\n        <el-button type=\"primary\" @click=\"handleAddLeaseGenset()\"> 添加机组 </el-button>\r\n      </div>\r\n      <!-- 表格 -->\r\n      <TableList\r\n        :styleList=\"{ height: '100%' }\"\r\n        :options=\"options\"\r\n        :columns=\"columns\"\r\n        :dataSource=\"dataSource\"\r\n        :dataTotal=\"dataTotal\"\r\n        :pagination=\"paginationCfg\"\r\n        @handleChangePage=\"handleChangePage\"\r\n        @handleChangeSize=\"handleChangeSize\"\r\n        border\r\n        v-loading=\"loading\"\r\n      >\r\n        <el-table-column\r\n          slot=\"operation\"\r\n          label=\"操作\"\r\n          align=\"center\"\r\n          v-bind=\"options && options.props\"\r\n        >\r\n          <template slot-scope=\"scope\">\r\n            <div class=\"operate-group\">\r\n              <el-button type=\"text\" @click=\"handleEdit(scope.row)\"> 编辑 </el-button>\r\n              <el-button type=\"text\" @click=\"handleDelete(scope.row)\"> 移除 </el-button>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n      </TableList>\r\n    </div>\r\n\r\n    <!-- 添加机组弹窗 -->\r\n    <AddLeaseGensetDialog\r\n      v-if=\"crewManageVisible\"\r\n      @closeDialog=\"(val) => closeDialog('crewManageVisible', val)\"\r\n    />\r\n\r\n    <!-- 编辑弹窗 -->\r\n    <el-dialog\r\n      title=\"编辑机组\"\r\n      class=\"edit-crew-dialog\"\r\n      width=\"400px\"\r\n      v-if=\"dialigVisible\"\r\n      :visible.sync=\"dialigVisible\"\r\n      :close-on-click-modal=\"false\"\r\n      :close-on-press-escape=\"false\"\r\n      @close=\"close()\"\r\n    >\r\n      <div class=\"dialog-content\">\r\n        <el-form :model=\"form\" ref=\"projectForm\" :label-width=\"formLabelWidth\">\r\n          <el-form-item label=\"租赁类型\" prop=\"ProjectNumber\">\r\n            <el-select v-model=\"form.IsPlatform\" placeholder=\"请选择租赁类型\">\r\n              <el-option\r\n                v-for=\"item in GensetLeaseTypeEnum\"\r\n                :key=\"item.value\"\r\n                :label=\"item.label\"\r\n                :value=\"item.value\"\r\n              ></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n\r\n          <el-form-item label=\"租赁状态\" prop=\"ProjectName\">\r\n            <el-select\r\n              v-model=\"form.Status\"\r\n              placeholder=\"请选择租赁状态\"\r\n              :disabled=\"!(recordInfo && recordInfo.IsCanEdit)\"\r\n            >\r\n              <el-option\r\n                v-for=\"item in GensetLeaseStatusEnum\"\r\n                :key=\"item.value\"\r\n                :label=\"item.label\"\r\n                :value=\"item.value\"\r\n                :disabled=\"item.disabled\"\r\n              ></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-form>\r\n      </div>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"close()\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"submitForm()\">确 定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { paginationConfigMixin } from '@/mixins/paginationConfigMixin'\r\nimport PositionCascader from '@/components/PositionCascader'\r\nimport AddLeaseGensetDialog from './add'\r\nimport _data from './data.js'\r\nconst { GensetRunStatusEnum, GensetLeaseStatusEnum, GensetLeaseTypeEnum } = _data\r\n\r\nexport default {\r\n  name: 'LeaseGenset',\r\n  mixins: [paginationConfigMixin],\r\n  components: {\r\n    PositionCascader,\r\n    AddLeaseGensetDialog\r\n  },\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      // 筛选条件\r\n      searchForm: {\r\n        CollectorToken: '',\r\n        RunStatus: '-1',\r\n        Status: '-1',\r\n        InstallationSite: ''\r\n      },\r\n      GensetRunStatusEnum,\r\n      GensetLeaseStatusEnum,\r\n      GensetLeaseTypeEnum,\r\n      // 表格\r\n      columns: _data.leaseGensetColumns(this),\r\n      dataSource: [],\r\n      options: {\r\n        // height: '100%',\r\n        index: true, //序号列\r\n        labelIndex: '序号',\r\n        props: {\r\n          width: 126 // 操作列宽度\r\n        }\r\n      },\r\n      data: [],\r\n\r\n      crewManageVisible: false, // 添加机组弹窗\r\n      recordInfo: null,\r\n      dialigVisible: false, // 编辑弹窗\r\n      formLabelWidth: '100px',\r\n      form: {\r\n        Status: null,\r\n        IsPlatform: null\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.queryTableData()\r\n  },\r\n  methods: {\r\n    // 机组位置\r\n    positionChange(data) {\r\n      this.$set(this.searchForm, 'InstallationSite', data.InstallationSite)\r\n    },\r\n    queryTableData() {\r\n      this.loading = true\r\n      const query = {\r\n        Page: this.paginationCfg.currentPage,\r\n        PageSize: this.paginationCfg.pageSize\r\n      }\r\n      const params = { ...this.searchForm }\r\n      this.$api.equipment\r\n        .GetGensetInfoManage(params, query)\r\n        .then((res) => {\r\n          if (res.Code === 1) {\r\n            console.log(res)\r\n            this.dataTotal = res.Data.TotalItemCount\r\n            const data = res.Data.Data.map((item) => {\r\n              return {\r\n                ...item.GeneratorSet,\r\n                CreateUserId: item.CreateUserId,\r\n                Status: item.Status,\r\n                IsPlatform: item.IsPlatform,\r\n                IsCanEdit: item.IsCanEdit,\r\n                RunStatus: item.GeneratorSet.Status\r\n              }\r\n            })\r\n            this.$set(this, 'dataSource', data)\r\n          }\r\n          this.loading = false\r\n        })\r\n        .catch(() => {\r\n          this.loading = false\r\n        })\r\n    },\r\n\r\n    // 重置筛选条件\r\n    reset() {\r\n      this.$set(this, 'searchForm', {\r\n        CollectorToken: '',\r\n        RunStatus: '-1',\r\n        Status: '-1',\r\n        InstallationSite: ''\r\n      })\r\n    },\r\n    // 添加机组\r\n    handleAddLeaseGenset() {\r\n      this.crewManageVisible = true\r\n    },\r\n\r\n    // 编辑机组\r\n    handleEdit(row) {\r\n      console.log(row, this.GensetLeaseTypeEnum)\r\n      this.$set(this, 'recordInfo', row)\r\n      this.$set(this.form, 'Status', row.Status)\r\n      this.$set(\r\n        this.form,\r\n        'IsPlatform',\r\n        this.GensetLeaseTypeEnum.find((item) => item.value == row.IsPlatform).value\r\n      )\r\n      this.dialigVisible = true\r\n    },\r\n    // 表单提交\r\n    submitForm() {\r\n      console.log(this.form)\r\n      const query = {\r\n        id: this.recordInfo.GeneratorSetId\r\n      }\r\n      const params = {\r\n        ...this.form,\r\n        IsPlatform: !!this.form.IsPlatform\r\n      }\r\n      this.$api.equipment.EditGensetProjectGensetInfo(params, query).then((res) => {\r\n        if (res.Code === 1) {\r\n          this.$message({\r\n            type: 'success',\r\n            message: '编辑机组成功!'\r\n          })\r\n        } else {\r\n          this.$message({\r\n            type: 'error',\r\n            message: '编辑机组失败，请重新提交!'\r\n          })\r\n        }\r\n        this.closeDialog('dialigVisible', { refresh: true })\r\n      })\r\n    },\r\n    close() {\r\n      this.closeDialog('dialigVisible')\r\n    },\r\n    // 删除\r\n    handleDelete(row) {\r\n      console.log(row)\r\n      const h = this.$createElement\r\n      this.$confirm('操作提示', {\r\n        title: '移除机组',\r\n        message: h('div', [h('p', [h('span', '确定移除当前机组吗？')])]),\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      })\r\n        .then(() => {\r\n          const query = { id: row.GeneratorSetId }\r\n          this.$api.equipment.DeleteGensetProjectGensetInfo(query).then((res) => {\r\n            if (res.Code === 1) {\r\n              this.$message({\r\n                type: 'success',\r\n                message: '移除机组成功!'\r\n              })\r\n              this.queryTableData()\r\n            } else {\r\n              this.$message({\r\n                type: 'error',\r\n                message: '移除机组失败，请重新尝试!'\r\n              })\r\n            }\r\n          })\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            type: 'info',\r\n            message: '已取消'\r\n          })\r\n        })\r\n    },\r\n\r\n    // 弹框组件关闭\r\n    closeDialog(key, val) {\r\n      this[key] = false\r\n      if (val && val.refresh) {\r\n        this.queryTableData()\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.lease-genset-manage {\r\n  display: initial !important;\r\n  .search-box {\r\n    .search-item {\r\n      width: 20%;\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/operation/leaseGenset/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('BMainTopComponent'),_vm._v(\" \"),_c('div',{staticClass:\"lease-genset-manage\"},[_c('div',{staticClass:\"search-box\"},[_c('div',{staticClass:\"search-item\"},[_c('span',[_vm._v(\"机组编号:\")]),_vm._v(\" \"),_c('el-input',{attrs:{\"placeholder\":\"请输入机组编号\",\"clearable\":\"\"},model:{value:(_vm.searchForm.CollectorToken),callback:function ($$v) {_vm.$set(_vm.searchForm, \"CollectorToken\", $$v)},expression:\"searchForm.CollectorToken\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"search-item\"},[_c('span',[_vm._v(\"运行状态:\")]),_vm._v(\" \"),_c('el-select',{attrs:{\"popper-append-to-body\":false,\"placeholder\":\"请选择运行状态\"},model:{value:(_vm.searchForm.RunStatus),callback:function ($$v) {_vm.$set(_vm.searchForm, \"RunStatus\", $$v)},expression:\"searchForm.RunStatus\"}},[_c('el-option',{attrs:{\"label\":\"全部\",\"value\":\"-1\"}}),_vm._v(\" \"),_vm._l((_vm.GensetRunStatusEnum),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})})],2)],1),_vm._v(\" \"),_c('div',{staticClass:\"search-item\"},[_c('span',[_vm._v(\"租赁状态:\")]),_vm._v(\" \"),_c('el-select',{attrs:{\"popper-append-to-body\":false,\"placeholder\":\"请选择租赁状态\"},model:{value:(_vm.searchForm.Status),callback:function ($$v) {_vm.$set(_vm.searchForm, \"Status\", $$v)},expression:\"searchForm.Status\"}},[_c('el-option',{attrs:{\"label\":\"全部\",\"value\":\"-1\"}}),_vm._v(\" \"),_vm._l((_vm.GensetLeaseStatusEnum),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})})],2)],1),_vm._v(\" \"),_c('div',{staticClass:\"search-item\"},[_c('span',[_vm._v(\"机组位置筛选:\")]),_vm._v(\" \"),_c('position-cascader',{attrs:{\"placeholder\":\"请选择机组所在位置\"},on:{\"positionChange\":_vm.positionChange}})],1),_vm._v(\" \"),_c('div',{staticClass:\"search-btn-box\"},[_c('el-button',{staticClass:\"reset-btn\",attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.reset()}}},[_vm._v(\"清空筛选\")]),_vm._v(\" \"),_c('el-button',{staticClass:\"query-btn\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.resetCurrentParams()}}},[_vm._v(\"查 询\")])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"operation-box\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleAddLeaseGenset()}}},[_vm._v(\" 添加机组 \")])],1),_vm._v(\" \"),_c('TableList',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"styleList\":{ height: '100%' },\"options\":_vm.options,\"columns\":_vm.columns,\"dataSource\":_vm.dataSource,\"dataTotal\":_vm.dataTotal,\"pagination\":_vm.paginationCfg,\"border\":\"\"},on:{\"handleChangePage\":_vm.handleChangePage,\"handleChangeSize\":_vm.handleChangeSize}},[_c('el-table-column',_vm._b({attrs:{\"slot\":\"operation\",\"label\":\"操作\",\"align\":\"center\"},slot:\"operation\",scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"operate-group\"},[_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.handleEdit(scope.row)}}},[_vm._v(\" 编辑 \")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.handleDelete(scope.row)}}},[_vm._v(\" 移除 \")])],1)]}}])},'el-table-column',_vm.options && _vm.options.props,false))],1)],1),_vm._v(\" \"),(_vm.crewManageVisible)?_c('AddLeaseGensetDialog',{on:{\"closeDialog\":function (val) { return _vm.closeDialog('crewManageVisible', val); }}}):_vm._e(),_vm._v(\" \"),(_vm.dialigVisible)?_c('el-dialog',{staticClass:\"edit-crew-dialog\",attrs:{\"title\":\"编辑机组\",\"width\":\"400px\",\"visible\":_vm.dialigVisible,\"close-on-click-modal\":false,\"close-on-press-escape\":false},on:{\"update:visible\":function($event){_vm.dialigVisible=$event},\"close\":function($event){return _vm.close()}}},[_c('div',{staticClass:\"dialog-content\"},[_c('el-form',{ref:\"projectForm\",attrs:{\"model\":_vm.form,\"label-width\":_vm.formLabelWidth}},[_c('el-form-item',{attrs:{\"label\":\"租赁类型\",\"prop\":\"ProjectNumber\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择租赁类型\"},model:{value:(_vm.form.IsPlatform),callback:function ($$v) {_vm.$set(_vm.form, \"IsPlatform\", $$v)},expression:\"form.IsPlatform\"}},_vm._l((_vm.GensetLeaseTypeEnum),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"租赁状态\",\"prop\":\"ProjectName\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择租赁状态\",\"disabled\":!(_vm.recordInfo && _vm.recordInfo.IsCanEdit)},model:{value:(_vm.form.Status),callback:function ($$v) {_vm.$set(_vm.form, \"Status\", $$v)},expression:\"form.Status\"}},_vm._l((_vm.GensetLeaseStatusEnum),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value,\"disabled\":item.disabled}})}),1)],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){return _vm.close()}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm()}}},[_vm._v(\"确 定\")])],1)]):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-51295ce8\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/operation/leaseGenset/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-51295ce8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-51295ce8\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-51295ce8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/operation/leaseGenset/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}