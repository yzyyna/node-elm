webpackJsonp([21],{"+jLu":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("M4fF"),i=a.n(n),r=a("//Fk"),l=a.n(r),s=a("ifoU"),o=a.n(s),c=a("Gu7T"),d=a.n(c),p=a("Dd8w"),m=a.n(p),f=a("oqQY"),u=a.n(f),h=a("NYxO"),v=a("bOdI"),y=a.n(v),b={watch:{numArr:function(){this.renderChart()},numArrOperation:function(){this.renderChart()}},name:"ECharts",data:function(){return{chart:null,option:{}}},inject:["colorOperation"],props:{total:{type:Number,default:0},numArr:{type:Array,default:function(e){return[]}},numArrOperation:{type:Array,default:function(e){return[]}}},methods:{renderChart:function(){this.chart||(this.chart=this.$echarts.init(document.getElementById("echarts"),null,{renderer:"svg"}));var e=this;this.option={cursor:"default",title:{text:"机组总数\n"+this.total,textAlign:"center",textStyle:{color:"#fff"},left:"50%",top:"27%"},graphic:{elements:[{type:"group",top:"77%",left:"71%",children:[{type:"text",z:5,style:{fill:"#fff",textAlign:"center",text:"租赁中\n"+this.numArr[1].value,font:"bold 14px sans-serif"}}]}]},tooltip:{trigger:"item"},legend:{top:"5%",left:"center",show:!1},series:[{name:"",left:"2%",top:0,bottom:"35%",type:"pie",radius:["58%","70%"],avoidLabelOverlap:!0,itemStyle:{borderColor:"#0f2142",borderWidth:2},label:{alignTo:"edge",formatter:"{name|{b}}\n{value|{c} }",minMargin:5,edgeDistance:10,lineHeight:15,rich:{value:{fontSize:12,color:"#fff",lineHeight:23},name:{fontSize:15,color:"#fff",lineHeight:23}}},labelLine:{length:15,length2:5,maxSurfaceAngle:90,lineStyle:{width:2,cap:"butt"}},labelLayout:function(t){var a=t.labelRect.x<e.chart.getWidth()/2,n=t.labelLinePoints;return n[2][0]=a?t.labelRect.x:t.labelRect.x+t.labelRect.width,n[1][0]=a?n[1][0]-5:n[1][0]+10,{labelLinePoints:n}},data:this.numArr,emptyCircleStyle:{},emphasis:{scale:!1}},y()({name:"",left:"50%",top:"62%",right:0,bottom:0,type:"pie",radius:["0","70%"],avoidLabelOverlap:!0,itemStyle:{color:function(t){return e.colorOperation[t.dataIndex]}},label:{alignTo:"edge",formatter:"{name|{b}}\n{value|{c} 个}",minMargin:1,edgeDistance:10,lineHeight:12,rich:{value:{fontSize:11,color:"#fff"},name:{fontSize:12,color:"#fff"}}},emphasis:{label:{show:!0}},labelLine:{show:!0,showAbove:!0},data:this.numArrOperation,z:3},"emphasis",{scale:!1}),y()({name:"operating state backPie",left:"50%",top:"62%",right:0,bottom:0,type:"pie",radius:["0","70%"],avoidLabelOverlap:!0,itemStyle:{borderColor:"#fff",borderWidth:10},label:{show:!1},tooltip:{show:!1},emphasis:{label:{show:!1},scale:!1},labelLine:{show:!1},data:this.numArrOperation},"emphasis",{scale:!1})]},this.chart.setOption(this.option)}}},g={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{attrs:{id:"echarts"}})},staticRenderFns:[]};var S=a("VU/8")(b,g,!1,function(e){a("r7wG")},"data-v-1c8492dd",null).exports,_=a("lHA8"),D=a.n(_),C={treeData:{id:0,name:"智能装备动力服务租赁平台",level:0,children:[{id:1,name:"中国农业银行项目",level:1,children:[{id:1001,name:"23121台机组",type:"单机项目",level:2,data:[]}]},{id:2,name:"fuchuang-2",level:1,children:[{id:2001,name:"2台机组",type:"单机项目",level:2,data:[]}]},{id:3,name:"fuchuang-3",level:1,children:[{id:3001,name:"fuchuang-3-1",level:2,data:[]}]},{id:4,name:"fuchuang-4",level:1,children:[{id:4001,name:"fuchuang-4-1",level:2,data:[]}]},{id:5,name:"fuchuang-5",level:1,children:[{id:5001,name:"fuchuang-5-1",level:2,data:[]}]}]},mapData:{6455:[121.838722085204,31.8951748689989,"江苏省南通市启东市滨海大道",6455,2,"B-003项目名",1,"FPSS-1500智能动力装备","B-003","B企业","B-003","B"],7054:[121.834742526058,31.8968130066722,"江苏省南通市启东市明珠路",7054,2,"C-001项目名",1,"COMM012111010001","C-001","C企业","C-001","C"],7061:[121.834925048569,31.8967666721496,"江苏省南通市启东市东海路",7061,0,"A-002项目名",0,"COMM012111010008","A-002","A企业测试","A-002","A"],7111:[117.410637049804,38.9715801148868,"天津市津南区福鑫路14号",7111,1,"B-002项目名",0,"FPSS7821110127","B-002","B企业","B-002","B"],7113:[100.539784611301,36.068703134228,"青海省海南藏族自治州共和县",7113,0,"A-001项目名",1,"FPSS7821110129","A-001","A企业测试","A-001","A"],7115:[113.280522091173,22.6468768771579,"广东省中山市仁和南街",7115,2,"C-001项目名",1,"FPSS7821110131","C-001","C企业","C-001","C"],7116:[105.938200128788,29.3248709736656,"重庆市永川区凤栖路",7116,0,"B-001项目名",0,"FPSS7821110132","B-001","B企业","B-001","B"],7117:[119.974196196604,32.4663417892014,"江苏省泰州市海陵区S231(东环快速路)",7117,0,"A-002项目名",0,"FPSS7821110133","A-002","A企业测试","A-002","A"],7127:[125.527780952109,44.0291778121449,"吉林省长春市九台区",7127,0,"B-001项目名",0,"KWSS7821110350","B-001","B企业","B-001","B"],7128:[115.577791716732,35.2466297538401,"山东省菏泽市牡丹区",7128,0,"A-002项目名",0,"KWSS7821110351","A-002","A企业测试","A-002","A"],7129:[115.582386269411,35.2506500432747,"山东省菏泽市牡丹区淮河路",7129,1,"B-002项目名",1,"KWSS7821110352","B-002","B企业","B-002","B"],7145:[110.296758083082,25.2945102743195,"广西壮族自治区桂林市叠彩区翊武路21号-2栋",7145,0,"A-001项目名",0,"KWSS7821110368","A-001","A企业测试","A-001","A"],7163:[112.22522487385,22.7342426811559,"广东省云浮市新兴县",7163,1,"D-001项目名",1,"KWSS7821110385","D-001","D企业","D-001","D"],7169:[113.444503762799,22.8712060084029,"广东省广州市南沙区市鱼路120",7169,0,"A-002项目名",1,"京东物流1200KW2号机","A-002","A企业测试","A-002","A"],7170:[101.686845423476,21.1810962041277,"Namtha, Louang Namtha, Laos",7170,1,"D-001项目名",0,"YNFD-30CG1（刘彦超）","D-001","D企业","D-001","D"],7171:[106.472289507154,29.7548884833009,"重庆市北碚区嘉德大道",7171,1,"B-002项目名",0,"重庆神驰（FPSS7821109999）","B-002","B企业","B-002","B"],7177:[109.42272023164,29.4724339426725,"湖南省湘西土家族苗族自治州龙山县岳麓大道",7177,2,"B-003项目名",0,"KWSS7821110393","B-003","B企业","B-003","B"],7183:[113.014270709334,28.0790317619882,"湖南省长沙市雨花区黄谷路",7183,0,"A-002项目名",1,"FPSS8621110005","A-002","A企业测试","A-002","A"],7186:[119.299966768677,36.698222799045,"山东省潍坊市奎文区",7186,0,"A-001项目名",1,"FPSS7821110136","A-001","A企业测试","A-001","A"],7187:[118.404528336684,34.3492700062725,"江苏省徐州市新沂市琼江路",7187,1,"B-002项目名",1,"FPSS7821110137","B-002","B企业","B-002","B"],7188:[119.386407565254,32.2952734531089,"江苏省扬州市邗江区安桥路",7188,1,"B-002项目名",0,"FPSS7821110138","B-002","B企业","B-002","B"],7189:[117.361998808647,32.7935687876956,"安徽省滁州市凤阳县",7189,1,"B-002项目名",0,"FPSS7821110139","B-002","B企业","B-002","B"],7191:[103.98565695439,30.9547211105921,"四川省成都市彭州市",7191,1,"D-001项目名",0,"FPSS7821110400","D-001","D企业","D-001","D"],7192:[103.977021216848,30.9604358669667,"四川省成都市彭州市独柏路",7192,1,"D-001项目名",1,"FPSS7821110401","D-001","D企业","D-001","D"],7193:[103.985221372722,30.9538843616335,"四川省成都市彭州市S1(成万高速)",7193,2,"C-001项目名",1,"FPSS7821110402","C-001","C企业","C-001","C"],7195:[106.774694891796,29.5807699438149,"重庆市南岸区",7195,0,"A-002项目名",0,"FPSS7821110404","A-002","A企业测试","A-002","A"],7206:[102.719070513815,30.0210056484381,"四川省雅安市天全县",7206,0,"A-002项目名",0,"FPSS7821110409","A-002","A企业测试","A-002","A"],7214:[117.750987785915,30.8585976615471,"安徽省铜陵市郊区",7214,2,"C-001项目名",0,"FPSS7821110417","C-001","C企业","C-001","C"],7227:[110.127647188292,22.5668764275565,"广西壮族自治区玉林市福绵区",7227,2,"B-003项目名",1,"FPSS7821110422","B-003","B企业","B-003","B"],7230:[112.184314374168,21.9906812407913,"广东省阳江市阳东区G325(广南线)",7230,2,"B-003项目名",0,"阳江监狱300Kw","B-003","B企业","B-003","B"],7232:[93.2492256389313,36.491504599189,"青海省海西蒙古族藏族自治州格尔木市",7232,2,"B-003项目名",1,"FPSS7821110427","B-003","B企业","B-003","B"],7236:[119.290277260797,36.6933995481707,"山东省潍坊市奎文区梨园街",7236,1,"D-001项目名",0,"FPIE-360-WP","D-001","D企业","D-001","D"],7242:[118.282963580688,35.0544740349299,"山东省临沂市兰山区启阳路",7242,0,"A-001项目名",0,"FPSS8610110002","A-001","A企业测试","A-001","A"],7243:[121.590355792514,31.3197736611831,"孚创出厂测试",7243,0,"B-001项目名",0,"FPSS8610110003","B-001","B企业","B-001","B"],7250:[117.701561075808,38.325829779005,"河北省沧州市黄骅市G307(中疏港路)",7250,0,"B-001项目名",0,"FPSS7821110432","B-001","B企业","B-001","B"],7256:[113.913590339179,22.7742317161349,"广东省深圳市光明区双明大道",7256,0,"B-001项目名",1,"FPSS7821110438","B-001","B企业","B-001","B"],7257:[113.914094165006,22.7744189370899,"广东省深圳市光明区公明滨河西路",7257,1,"D-001项目名",1,"FPSS7821110439","D-001","D企业","D-001","D"],7263:[114.126205672441,32.1253963653675,"河南省信阳市平桥区南京大道东段",7263,0,"A-002项目名",0,"FPSS7821110442","A-002","A企业测试","A-002","A"],7269:[104.599539650982,36.7086990042039,"甘肃省白银市靖远县",7269,1,"B-002项目名",0,"FPSS7821110448","B-002","B企业","B-002","B"],7270:[121.456913868281,32.060412874521,"江苏省南通市海门区S335",7270,0,"B-001项目名",1,"FPSS7821110449","B-001","B企业","B-001","B"],7271:[118.452711637223,34.0013978385639,"江苏省宿迁市宿豫区新陈线路",7271,1,"D-001项目名",1,"FPSS7821110450","D-001","D企业","D-001","D"],7276:[120.340252916649,32.3424880420518,"江苏省泰州市泰兴市星光路",7276,2,"C-001项目名",0,"FPSS7821110454","C-001","C企业","C-001","C"],7280:[110.733442496669,35.7241401798248,"山西省运城市河津市",7280,2,"B-003项目名",0,"FPSS8621110011","B-003","B企业","B-003","B"],7286:[119.976535185898,32.4890842165978,"江苏省泰州市海陵区永吉路",7286,2,"B-003项目名",1,"海南250千瓦东康+金都来","B-003","B企业","B-003","B"],7288:[114.297736301019,34.8422963563316,"河南省开封市龙亭区G30(连霍高速)",7288,2,"C-001项目名",1,"AMST 120KW康明斯+阳光","C-001","C企业","C-001","C"],7290:[104.008642246953,30.71199979115,"四川省成都市金牛区振兴西一路",7290,1,"B-002项目名",0,"FPSS7821120006","B-002","B企业","B-002","B"],7297:[103.841111157478,29.3709323472179,"四川省乐山市五通桥区",7297,1,"D-001项目名",1,"FPSS7821120011G","D-001","D企业","D-001","D"],7299:[103.841183593447,30.5862637330616,"四川省成都市双流区致富路",7299,1,"D-001项目名",1,"FPSS7821120013G","D-001","D企业","D-001","D"],7301:[119.31699524853,34.7152978532731,"江苏省连云港市连云区",7301,2,"B-003项目名",0,"FPSS7821120015G","B-003","B企业","B-003","B"],7306:[119.590810485912,32.5044506591801,"江苏省扬州市江都区纣灯路",7306,0,"A-001项目名",0,"FPSS7821120020G","A-001","A企业测试","A-001","A"],7307:[120.065006792601,30.8478687801312,"浙江省湖州市吴兴区港南路",7307,0,"A-001项目名",0,"FPSS7821120021G","A-001","A企业测试","A-001","A"],7308:[120.072582413924,30.8482675051434,"浙江省湖州市吴兴区二环西路辅路",7308,0,"B-001项目名",0,"FPSS7821120022G","B-001","B企业","B-001","B"],7354:[119.374486122732,32.3021842573168,"江苏省扬州市邗江区华声路",7354,0,"A-001项目名",0,"FPSS7821120045","A-001","A企业测试","A-001","A"],7359:[120.067015595985,30.8454536798964,"浙江省湖州市吴兴区敬业路",7359,2,"B-003项目名",0,"FPSS7821120050","B-003","B企业","B-003","B"],7360:[120.07258241375,30.8482655039984,"浙江省湖州市吴兴区二环西路",7360,0,"A-001项目名",1,"FPSS7821120051","A-001","A企业测试","A-001","A"],7490:[118.41171327321,34.3511749884829,"江苏省徐州市新沂市",7490,1,"B-002项目名",0,"FPSS7821120056","B-002","B企业","B-002","B"],7500:[113.445295211179,22.8709436047562,"广东省广州市南沙区市鱼路118",7500,1,"D-001项目名",0,"太和颐康玉柴500KW","D-001","D企业","D-001","D"],7501:[114.01857139718,34.7025036869957,"河南省郑州市中牟县",7501,2,"B-003项目名",0,"FPSS7821120067","B-003","B企业","B-003","B"],7622:[119.541282694768,32.4746459493212,"江苏省扬州市江都区S28(启扬高速)",7622,2,"C-001项目名",0,"FPSS7821120094","C-001","C企业","C-001","C"],7626:[105.773506973546,29.5145603576384,"重庆市大足区星湖路",7626,0,"A-002项目名",1,"FPSS7821120098","A-002","A企业测试","A-002","A"],7635:[119.638989951706,27.1078937568733,"福建省宁德市福安市G104(京岚线)",7635,2,"C-001项目名",0,"FPSS7821120104","C-001","C企业","C-001","C"]},mchStateData:{total:7890,numArr:[39,40,18,15,41],numArrOperation:[5,15,6,7,8]},projectOverviewData:[100,20,30,66],feedback:{total:5,itemType:["项目建议","投诉","投诉类型"],items:[{avatarUrl:"",itemType:0,title:"投诉标题1",dateTime:"2022-3-2 16:59:23",content:"对于发布来讲，只需要将最终生成的静态文件，也就是通常情况下 dist 文件夹的静态文件发布到你的 cdn 或者静态服务器即可，需要注意的是其中的 index.html 通常会是你后台服务的入口页面，在确定了 js 和 css 的静态之后可能需要改变页面的引入路径。对于发布来讲，只需要将最终生成的静态文件，也就是通常情况下 dist 文件夹的静态文件发布到你的 cdn 或者静态服务器即可，需要注意的是其中的 index.html 通常会是你后台服务的入口页面，在确定了 js 和 css 的静态之后可能需要改变页面的引入路径。"},{avatarUrl:"",itemType:2,title:"投诉标题2",dateTime:"2022-3-1 16:59:23",content:"对于发布来讲，只需要将最终生成的静态文件，也就是通常情况下 dist 文件夹的静态文件发布到你的 cdn 或者静态服务器即可，需要注意的是其中的 index.html 通常会是你后台服务的入口页面，在确定了 js 和 css 的静态之后可能需要改变页面的引入路径。"},{avatarUrl:"",itemType:1,title:"投诉标题",dateTime:"2022-3-3 16:59:23",content:"对于发布来讲，只需要将最终生成的静态文件，也就是通常情况下 dist 文件夹的静态文件发布到你的 cdn 或者静态服务器即可，需要注意的是其中的 index.html 通常会是你后台服务的入口页面，在确定了 js 和 css 的静态之后可能需要改变页面的引入路径。"},{avatarUrl:"",itemType:1,title:"投诉标题",dateTime:"2022-2-28 16:59:23",content:"对于发布来讲，只需要将最终生成的静态文件，也就是通常情况下 dist 文件夹的静态文件发布到你的 cdn 或者静态服务器即可，需要注意的是其中的 index.html 通常会是你后台服务的入口页面，在确定了 js 和 css 的静态之后可能需要改变页面的引入路径。"},{avatarUrl:"",itemType:1,title:"投诉标题",dateTime:"2022-2-27 16:59:23",content:"对于发布来讲，只需要将最终生成的静态文件，也就是通常情况下 dist 文件夹的静态文件发布到你的 cdn 或者静态服务器即可，需要注意的是其中的 index.html 通常会是你后台服务的入口页面，在确定了 js 和 css 的静态之后可能需要改变页面的引入路径。"}]},alert:{tableKeep:{stateMap:["待受理","处理中","处理中/投诉","延期"],column:[{prop:"projectName",label:"项目名称",width:3,key:0},{prop:"mchModel",label:"机组名称",width:3,key:1},{prop:"content",label:"内容",width:3,key:2},{prop:"time",label:"时间",width:2,key:3},{prop:"state",label:"处理状态",width:0,key:4},{prop:"id",label:"id",width:0,key:5},{prop:"projectId",label:"projectId",width:0,key:6}],data:[{projectName:"1-23-4",mchModel:"YNHU-39JJJ",content:"HFJFH-21333",time:"2021-12-12",state:0,id:"6578"},{projectName:"2-23-4",mchModel:"YNHU-39JJJ",content:"HFJFH-21333",time:"2021-12-12",state:1,id:"6578"},{projectName:"3-23-4",mchModel:"YNHU-39JJJ",content:"HFJFH-21333",time:"2021-12-12",state:3,id:"6578"},{projectName:"4-23-4",mchModel:"YNHU-39JJJ",content:"HFJFH-21333",time:"2021-12-12",state:2,id:"6578"},{projectName:"5-23-4",mchModel:"YNHU-39JJJ",content:"HFJFH-21333",time:"2021-12-12",state:1,id:"6578"},{projectName:"6-23-4",mchModel:"YNHU-39JJJ",content:"HFJFH-21333",time:"2021-12-12",state:1,id:"6578"},{projectName:"7-23-4",mchModel:"YNHU-39JJJ",content:"HFJFH-21333",time:"2021-12-12",state:2,id:"6578"},{projectName:"8-23-4",mchModel:"YNHU-39JJJ",content:"HFJFH-21333",time:"2021-12-12",state:1,id:"6578"},{projectName:"9-23-4",mchModel:"YNHU-39JJJ",content:"HFJFH-21333",time:"2021-12-12",state:1,id:"6578"},{projectName:"10-23-4",mchModel:"YNHU-39JJJ",content:"HFJFH-21333",time:"2021-12-12",state:1,id:"6578"}]}}},w={construction:"M504.251733 255.010133a70.929067 70.929067 0 1 0-71.099733-70.929066 71.202133 71.202133 0 0 0 71.099733 70.929066z m98.304 402.5344c18.261333-0.648533 17.6128-17.066667 3.925334-24.746666l-125.678934-67.9936-1.365333-268.151467a63.863467 63.863467 0 0 0-52.189867-55.330133 309.316267 309.316267 0 0 0-138.308266 13.653333c-52.189867 17.578667-78.9504 70.280533-123.2896 136.533333l-13.038934 18.875734 36.522667 21.469866 0.648533-1.092266 47.786667 26.692266-1.297067 1.9456L85.333333 914.363733h54.135467l155.3408-326.7584 86.1184 98.986667 11.093333 225.860267h48.913067l9.147733-252.586667-58.709333-117.794133zM248.490667 435.950933l-45.021867-25.3952L281.770667 307.2l38.5024 0.546133z m124.6208 68.983467l52.189866-71.68 7.816534 105.437867zM909.994667 878.318933a7187.797333 7187.797333 0 0 0-88.337067-160.426666c-98.747733-173.2608-111.4112-173.2608-127.453867-173.2608-43.4176 0-59.8016 52.9408-74.24 99.7376a305.152 305.152 0 0 1-25.6 65.774933 37.546667 37.546667 0 0 1-8.362666 0.4096 43.144533 43.144533 0 0 0-47.2064 35.089067c-20.036267 73.386667-44.373333 135.2704-44.373334 135.8848l-19.694933 49.9712 463.940267 0.7168z m-350.0032-15.2576c7.509333-21.879467 17.066667-51.2 26.2144-83.831466a51.677867 51.677867 0 0 0 48.878933-24.302934l6.280533-10.820266a418.6112 418.6112 0 0 0 28.125867-74.001067 246.920533 246.920533 0 0 1 20.7872-53.794133 2488.32 2488.32 0 0 1 146.773333 247.125333z",waitingForRent:"M655.36 368.64a71.68 71.68 0 0 1 71.68 71.68v286.72A235.52 235.52 0 0 1 491.52 962.56H286.72A235.52 235.52 0 0 1 51.2 726.4256v-286.72A71.68 71.68 0 0 1 122.88 368.64h532.48m0-51.2H122.88a122.88 122.88 0 0 0-122.88 122.88v286.72a286.72 286.72 0 0 0 286.72 286.72h204.8a286.72 286.72 0 0 0 286.72-286.72v-286.72a122.88 122.88 0 0 0-122.88-122.88z M875.7248 738.304a25.6 25.6 0 1 1 0-51.2A97.28 97.28 0 1 0 778.24 590.0288a25.6 25.6 0 0 1-51.2 0 148.2752 148.2752 0 1 1 148.2752 148.2752zM159.744 282.2144a25.6 25.6 0 0 1-12.4928-47.9232c8.6016-4.9152 33.1776-23.1424 32.1536-40.96a61.44 61.44 0 0 0-19.0464-36.0448 94.6176 94.6176 0 0 1-28.2624-62.8736A93.184 93.184 0 0 1 184.32 13.7216a25.6 25.6 0 0 1 22.528 45.8752A43.4176 43.4176 0 0 0 184.32 94.4128c0 9.8304 5.5296 16.9984 16.384 29.696a108.1344 108.1344 0 0 1 30.9248 65.7408c3.072 53.4528-52.0192 85.6064-58.368 89.088a25.6 25.6 0 0 1-13.5168 3.2768zM367.2064 282.2144a25.6 25.6 0 0 1-12.4928-47.9232c8.6016-4.9152 33.1776-23.1424 32.1536-40.96A61.44 61.44 0 0 0 368.64 156.8768a94.8224 94.8224 0 0 1-28.2624-62.464 93.184 93.184 0 0 1 51.2-80.6912 25.6 25.6 0 0 1 22.528 45.8752 43.4176 43.4176 0 0 0-23.552 34.816c0 9.6256 5.5296 16.9984 16.384 29.696a108.1344 108.1344 0 0 1 30.9248 65.7408c3.072 53.4528-52.0192 85.6064-58.368 89.088a25.6 25.6 0 0 1-12.288 3.2768zM574.6688 282.2144a25.6 25.6 0 0 1-12.4928-47.9232c8.6016-4.9152 33.1776-23.1424 31.9488-40.96a61.44 61.44 0 0 0-19.0464-36.0448 94.6176 94.6176 0 0 1-28.2624-62.464A93.184 93.184 0 0 1 599.04 13.7216a25.6 25.6 0 0 1 22.528 45.8752 43.4176 43.4176 0 0 0-23.552 34.816c0 9.8304 5.5296 16.9984 16.384 29.696a108.1344 108.1344 0 0 1 30.9248 65.7408c3.072 53.4528-52.0192 85.6064-58.1632 89.088a25.6 25.6 0 0 1-12.4928 3.2768z",renting:"M511.913993 63.989249c-247.012263 0-447.924744 200.912481-447.924744 447.924744s200.912481 447.924744 447.924744 447.924744 447.924744-200.912481 447.924744-447.924744S758.926256 63.989249 511.913993 63.989249zM511.913993 895.677474c-211.577356 0-383.763481-172.186125-383.763481-383.763481 0-211.577356 172.014111-383.763481 383.763481-383.763481s383.763481 172.014111 383.763481 383.763481S723.491349 895.677474 511.913993 895.677474z M672.05913 511.913993l-159.973123 0L512.086007 288.123635c0-17.717453-14.277171-32.166639-31.994625-32.166639-17.717453 0-31.994625 14.449185-31.994625 32.166639l0 255.956996c0 17.717453 14.277171 31.994625 31.994625 31.994625l191.967747 0c17.717453 0 32.166639-14.277171 32.166639-31.994625C704.053754 526.191164 689.604569 511.913993 672.05913 511.913993z",maintenance:"M711.35232 269.84448l-21.13536-15.11424q-9.05216-9.05216-18.10432 0l-54.35392 42.27072c-3.03104 3.03104-9.05216 3.03104-15.11424 3.03104l-18.10432-6.02112a8.192 8.192 0 0 1-9.05216-9.05216l-30.18752-72.45824c0-6.02112-9.05216-9.05216-15.11424-9.05216l-27.15648-3.03104c-6.02112 0-12.0832 6.02112-15.11424 9.05216l-18.10432 72.41728a8.192 8.192 0 0 1-9.05216 8.92928l-18.10432 6.02112c-6.02112 0-9.05216 3.03104-15.11424-3.03104L361.14432 251.6992q-9.05216-9.05216-18.10432 0l-21.13536 15.11424a22.20032 22.20032 0 0 0-6.02112 18.10432L343.04 360.448c0 6.02112 0 12.0832-3.03104 15.11424l-12.0832 18.10432a15.68768 15.68768 0 0 1-12.0832 6.02112L237.568 393.58464c-6.02112 0-15.11424 3.03104-15.11424 9.05216l-9.05216 27.15648c0 6.02112 0 12.0832 3.03104 15.11424l63.40608 51.32288a15.68768 15.68768 0 0 1 6.02112 12.0832v24.1664s-3.03104 9.05216-9.05216 9.05216l-57.344 39.23968c-6.02112 6.02112-9.05216 9.05216-6.02112 18.10432l9.05216 21.13536c0 6.02112 9.05216 9.05216 12.0832 12.0832l72.45824 6.02112a15.68768 15.68768 0 0 1 12.0832 6.02112l12.0832 18.10432c3.03104 3.03104 3.03104 9.05216 3.03104 15.11424l-21.13536 63.40608a22.20032 22.20032 0 0 0 6.02112 18.10432L339.968 774.144q9.05216 9.05216 18.10432 0l54.35392-42.27072c3.03104-3.03104 9.05216-3.03104 15.11424-3.03104l18.10432 6.02112a8.192 8.192 0 0 1 9.05216 9.05216l30.18752 72.45824c0 6.02112 9.05216 9.05216 15.11424 9.05216H524.288c6.02112 0 12.0832-6.02112 15.11424-9.05216l18.10432-72.45824a8.192 8.192 0 0 1 9.05216-9.05216l18.10432-6.02112c6.02112 0 9.05216-3.03104 15.11424 3.03104l78.47936 54.35392 39.23968-27.15648L684.032 671.3344c0-6.02112 0-12.0832 3.03104-15.11424l12.0832-18.10432a15.68768 15.68768 0 0 1 12.0832-6.02112l78.47936 6.02112c6.02112 0 15.11424-3.03104 15.11424-9.05216l9.05216-27.15648a22.20032 22.20032 0 0 0-6.02112-18.10432L744.52992 532.48a15.68768 15.68768 0 0 1-6.02112-12.288v-18.10432a15.68768 15.68768 0 0 1 6.02112-12.0832l60.37504-36.20864c6.02112-6.02112 9.05216-9.05216 6.02112-18.10432l-9.05216-27.15648c0-6.02112-9.05216-9.05216-12.0832-12.0832l-72.45824-6.02112a15.68768 15.68768 0 0 1-12.0832-6.02112l-12.0832-18.10432c-3.03104-3.03104-3.03104-9.05216-3.03104-15.11424l18.10432-66.39616c9.05216-3.03104 9.05216-9.05216 3.03104-15.11424z m-105.6768 335.09376a128.08192 128.08192 0 0 1-181.12512-181.12512c48.29184-48.29184 132.83328-48.29184 181.12512 0 51.32288 51.32288 51.32288 129.80224 0 181.08416z",repair:"M179.52 986.88a169.6 169.6 0 0 1-118.08-48 155.2 155.2 0 0 1-51.2-116.16 164.8 164.8 0 0 1 51.2-115.84l202.56-190.4a360.32 360.32 0 0 1 92.8-380.8A384 384 0 0 1 628.48 28.8a420.48 420.48 0 0 1 147.52 28.48L864 91.52l-208 198.4a50.88 50.88 0 0 0-17.6 39.36 58.56 58.56 0 0 0 17.6 42.88 67.2 67.2 0 0 0 91.52 0l205.12-196.16L986.56 256a360.64 360.64 0 0 1-82.24 403.52A384 384 0 0 1 632 768a429.76 429.76 0 0 1-124.48-19.52l-206.08 192a173.76 173.76 0 0 1-119.68 47.68zM623.68 76.48a336.96 336.96 0 0 0-234.24 94.08 312 312 0 0 0-75.2 343.36l6.08 15.36-225.92 212.48a116.48 116.48 0 0 0-35.84 81.6 107.52 107.52 0 0 0 35.52 80.32 124.48 124.48 0 0 0 87.04 34.88 128 128 0 0 0 87.36-34.56l227.2-211.2 13.76 4.8a381.44 381.44 0 0 0 123.2 21.12h4.16a337.28 337.28 0 0 0 234.56-94.08A312.64 312.64 0 0 0 942.4 275.2l-7.36-17.28-155.2 148.8a115.2 115.2 0 0 1-157.44 0 106.56 106.56 0 0 1-32-77.44 97.6 97.6 0 0 1 32-75.2l153.28-145.92-16.96-6.72a373.44 373.44 0 0 0-130.56-24.96z"},k={mu:0,du:2},A={name:"EChartChinaMap",components:{NumberBox:a("fdvL").a},data:function(){return m()({},k,{bakColorMap:"#193b69",cardData:[0,0,0],totalNum:[0,0,0],totalNumTrue:[0,0,0],type:["代运维项目","代租赁项目","自有项目"],typeDefault:["代运维项目","代租赁项目","自有项目"],typeColor:["#fd2e2d","#20be62","#f6f6f6"],importantFlag:[0,1],switchText:["切换至全部机组","切换至重点机组"],showInfo:!1,itemNum:"",companyName:"",showInfoFlag:[!1,!1],backBtnShow:!1,center:[105,39],zoom:1.2,myEChart:null,svgPath:w,legend:{rentState:[{icon:"mso-renting",name:"租赁中"},{icon:"mso-waitingForRent",name:"待租赁"},{icon:"mso-construction",name:"施工"},{icon:"mso-maintenance",name:"检修"},{icon:"mso-repair",name:"维修"}],operatingState:[{name:"运行",color:"#20be62"},{name:"报警",color:"#fd2e2d"},{name:"停机",color:"#f6f6f6"},{name:"离线",color:"#808080"}]}})},props:{mapData:{type:Object,default:function(e){},required:!0},cb:{type:Function},contractRes:{type:Array,default:function(e){return[]}}},watch:{mapData:function(e,t){this.renderMap()},importantFlag:function(e,t){this.renderMap()}},methods:{backHandler:function(){this.myEChart.setOption({geo:{zoom:this.zoom,center:this.center}}),this.backBtnShow=!1},_switch:function(){this.backBtnShow=!1,1===this.importantFlag.length?this.importantFlag=[0,1]:this.importantFlag=[1]},renderMap:function(){var e=this;this.myEChart||(this.myEChart=this.$echarts.init(this.$refs.myEChart,null,{renderer:"svg"}));var t=this.dealWithData(),a=this.svgPath,n=this,i={tooltip:{trigger:"item"},geo:{map:"china",roam:!0,zoom:this.zoom,center:this.center,aspectScale:.9,scaleLimit:{min:this.zoom},label:{show:!1,fontSize:"10",color:"rgba(0,0,0,0.7)"},itemStyle:{areaColor:this.bakColorMap,borderColor:"#389dff",borderWidth:1,shadowBlur:5,shadowOffsetY:8,shadowOffsetX:0,shadowColor:"rgba(0,0,0,0)"},emphasis:{itemStyle:{areaColor:"#184cff",shadowOffsetX:0,shadowOffsetY:0,shadowBlur:5,borderWidth:0,shadowColor:"rgba(0, 0, 0, 1)"},label:{show:!1}}},series:[{name:"",type:"scatter",coordinateSystem:"geo",data:t,symbol:function(e,t){var i=e[13];return"path://"+a[n.legend.rentState[i].icon.slice(4)]},symbolSize:13,tooltip:{position:"top",show:!0,formatter:function(e,t,a){var i=e.data,r=i.value;return'\n                <div style="color:#b4e4ff">\n                  <div>'+i.name+"</div>\n                  <div>"+n.legend.operatingState[r[12]].name+"\n                  ,"+n.legend.rentState[r[13]].name+"</div>\n                  <div>经度："+r[0]+"</div>\n                  <div>纬度："+r[1]+"</div>\n                  <div>"+r[2]+"</div>\n                  <div>所属项目："+r[5]+"</div>\n                </div>\n                "},backgroundColor:"rgba(2,20,4,1)"},encode:{value:4},showEffectOn:"emphasis",rippleEffect:{brushType:"stroke",color:"#0efacc",period:9,scale:5},label:{formatter:"{b}",position:"right",show:!1},itemStyle:{color:function(e){var t="#f6f6f6";try{var a=e.data.value[12];t=n.legend.operatingState[a].color}catch(e){console.error(e)}return t},borderWidth:10,shadowBlur:2,shadowColor:"#333"},zlevel:1}]};this.myEChart.setOption(i),this.myEChart.on("georoam",function(t){try{var a=e.myEChart.getOption().geo[0].zoom;1===Number(a)?e.backBtnShow=!1:e.backBtnShow=!0}catch(e){}})},dealWithData:function(){var e=this.mapData,t=[],a=[0,0,0],n=[0,0,0],i=[],r=new D.a,l=new D.a;for(var s in this.type=this.typeDefault,e){var o=e[s][6];if(this.importantFlag.includes(o)){var c=e[s][4],d=e[s][3],p=e[s][7],m=e[s][5],f=e[s][8],u=e[s][9];l.add(u),t.push({name:p,value:e[s]}),r.has(f)||(a[c]++,r.add(f)),i.includes(d)||(n[0]++,i.push(d)),i.includes(m)||(n[1]++,i.push(m))}}n[2]=l.size,this.totalNumTrue=[].concat(n),n[0]>99999&&(n[0]=99999),n[1]>9999&&(n[1]=9999),n[2]>999&&(n[2]=999),this.cardData=a,this.totalNum=n;var h=[],v=[],y="",b="";this.showInfo=!1;var g=[!0,!0],S=!0,_=this.mapData;for(var C in _){var w=_[C];h.push(w[8]),v.push(w[9]),S&&(y=w[8],b=w[9],S=!1),w[8]!==y&&(g[0]=!1),w[9]!==b&&(g[1]=!1)}if(g[0]){this.itemNum=y,this.companyName=b,this.showInfo=!0,this.showInfoFlag=[!0,!0],this.type=["服务类型","机组数量","重点监控"];var k=[0,0,0],A=this.mapData;for(var F in A){var B=A[F];k[0]=this.typeDefault[B[4]].replace("项目",""),k[1]++,1===B[6]&&k[2]++}this.cardData=k}if(g[1]&&!g[0]){this.companyName=b,this.showInfo=!0,this.showInfoFlag=[!1,!0],this.type=["项目数量","机组数量","重点监控"];var T=[0,0,0],j=new D.a,O=this.mapData;for(var P in O){var M=O[P];j.add(M[5]),T[1]++,1===M[6]&&T[2]++}T[0]=j.size,this.cardData=T}return t},_resize:function(){}},mounted:function(){var e=this;this.renderMap(),window.addEventListener("resize",function(t){e._resize()})}},F={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"map-component"},[a("div",{ref:"myEChart",staticClass:"map-component-map"}),e._v(" "),a("el-card",{staticClass:"map-component-card box-card"},[a("el-row",{staticClass:"title"},[e._v("机组租赁状态：")]),e._v(" "),a("el-row",e._l(e.legend.rentState,function(t,n){return a("el-col",{key:n,attrs:{span:8}},[a("svg-icon",{attrs:{"icon-class":t.icon}}),e._v(e._s(t.name)+"\n      ")],1)}),1)],1),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.backBtnShow,expression:"backBtnShow"}],staticClass:"map-component-reset",attrs:{title:"恢复地图原始状态",icon:"el-icon-refresh-left"},on:{click:e.backHandler}})],1)},staticRenderFns:[]};var B=a("VU/8")(A,F,!1,function(e){a("RVDA")},"data-v-13e9aee7",null).exports,T=a("0Yr5"),j={data:function(){return{svgPath:w,backBtnShow:!0,zoom:5,center:[103.114129,36.750339],myEChart:null,bmap:null,BMap:null,legend:{rentState:[{icon:"mso-waitingForRent",name:"待租赁"},{icon:"mso-renting",name:"租赁中"},{icon:"mso-repair",name:"维修"},{icon:"mso-construction",name:"施工"},{icon:"mso-maintenance",name:"检修"}],operatingState:[{name:"离线",color:"#808080"},{name:"停机",color:"#f6f6f6"},{name:"风险",color:"#8ec9f4"},{name:"故障",color:"#fd2e2d"},{name:"运行",color:"#20be62"}]}}},inject:["colorOperation"],created:function(){},mounted:function(){},props:{mapdata:{type:Object,default:function(e){}},documentWidth:{type:Number}},watch:{mapdata:function(e,t){this.renderMap()},documentWidth:function(e,t){this.renderMap()}},methods:{backHandler:function(){this.bmap.reset()},renderMap:function(){var e=this,t=this.mapdata;Object(T.a)("o7gALXwtch6SNk9jjH4DmFffcFt1PhFL").then(function(a){e.BMap=a;var n=[103.98703545360101,30.627640494477983];if(navigator.geolocation){navigator.geolocation.getCurrentPosition(function(e){var t=!!e.coords&&e.coords;t&&(n=[t.longitude,t.latitude])},function(e){console.error(e)});var i=new a.Point(n[0],n[1]);(new a.Geocoder).getLocation(i,function(e){var t=e.addressComponents.city;document.querySelector(".city-span").innerHTML=t})}e.myEChart||(e.myEChart=e.$echarts.init(e.$refs.myEChart,null,{renderer:"svg"}));var r=w,l=e.legend,s={backgroundColor:"transparent",tooltip:{trigger:"item"},bmap:{center:e.center,zoom:e.zoom,roam:!0,mapOptions:{enableMapClick:!1},mapStyle:{styleJson:[{featureType:"water",elementType:"all",stylers:{color:"#044161"}},{featureType:"land",elementType:"all",stylers:{color:"#011455"}},{featureType:"boundary",elementType:"geometry",stylers:{color:"#064f85"}},{featureType:"railway",elementType:"all",stylers:{visibility:"off"}},{featureType:"highway",elementType:"geometry",stylers:{color:"#011455"}},{featureType:"highway",elementType:"geometry.fill",stylers:{color:"#005b96",lightness:1}},{featureType:"highway",elementType:"labels",stylers:{visibility:"off"}},{featureType:"arterial",elementType:"geometry",stylers:{color:"#011455"}},{featureType:"arterial",elementType:"geometry.fill",stylers:{color:"#00508b"}},{featureType:"poi",elementType:"all",stylers:{visibility:"off"}},{featureType:"green",elementType:"all",stylers:{color:"#056197",visibility:"off"}},{featureType:"subway",elementType:"all",stylers:{visibility:"off"}},{featureType:"manmade",elementType:"all",stylers:{visibility:"off"}},{featureType:"local",elementType:"all",stylers:{visibility:"off"}},{featureType:"arterial",elementType:"labels",stylers:{visibility:"off"}},{featureType:"boundary",elementType:"geometry.fill",stylers:{color:"#029fd4"}},{featureType:"building",elementType:"all",stylers:{color:"#1a5787"}},{featureType:"label",elementType:"labels.text.fill",stylers:{visibility:"on",color:"#2dc4bbff",weight:"0"}},{featureType:"label",elementType:"labels.text.stroke",stylers:{visibility:"on",color:"#ffffff00",weight:"1"}},{featureType:"district",elementType:"labels",stylers:{visibility:"off"}},{featureType:"town",elementType:"labels",stylers:{visibility:"off"}},{featureType:"village",elementType:"labels",stylers:{visibility:"off"}},{featureType:"city",elementType:"labels.icon",stylers:{visibility:"off"}}]}},series:[{name:"",type:"scatter",coordinateSystem:"bmap",data:function(e){var a=t||[],n=[];for(var i in a)n.push({name:i,value:a[i]});return n}(),symbol:function(e,t){var a=e[13];return"path://"+r[l.rentState[a].icon.slice(4)]},symbolSize:16,tooltip:{position:"top",show:!0,formatter:function(e,t,a){var n=e.data.value;return'\n                <div style="color:#b4e4ff">\n                  <div>'+n[7]+"</div>\n                  <div>"+l.operatingState[n[12]].name+"\n                  ,"+l.rentState[n[13]].name+"</div>\n                  <div>经度："+n[0]+"</div>\n                  <div>纬度："+n[1]+"</div>\n                  <div>"+n[2]+"</div>\n                  <div>所属项目："+n[5]+"</div>\n                </div>\n                "},backgroundColor:"rgba(2,20,4,1)"},encode:{value:2},emphasis:{label:{show:!1}},showEffectOn:"emphasis",rippleEffect:{brushType:"stroke"},label:{formatter:"{b}",position:"right",show:!1},itemStyle:{opacity:1,color:function(e){var t="#f6f6f6";try{var a=e.data.value[12];t=l.operatingState[a].color}catch(e){console.error(e)}return t}},zlevel:1}]};e.myEChart.setOption(s),e.myEChart.on("finished",function(){var t=e.myEChart.getModel().getComponent("bmap").getBMap(),a=t.getZoom(),n=t.getCenter();e.zoom=a,e.center=[n.lng,n.lat],e.bmap=t,t.disableDoubleClickZoom()})}).catch(function(e){})}}},O={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"map-component"},[a("div",{ref:"myEChart",staticClass:"map-container"}),e._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:e.backBtnShow,expression:"backBtnShow"}],staticClass:"map-component-reset el-icon-refresh-left",attrs:{title:"恢复地图原始状态"},on:{click:e.backHandler}}),e._v(" "),a("el-card",{staticClass:"map-component-card box-card"},[a("el-row",{staticClass:"title"},[e._v("机组租赁状态：")]),e._v(" "),a("el-row",e._l(e.legend.rentState,function(t,n){return a("el-col",{key:n,attrs:{span:8}},[a("svg-icon",{attrs:{"icon-class":t.icon}}),e._v(e._s(t.name)+"\n      ")],1)}),1)],1)],1)},staticRenderFns:[]};var P=a("VU/8")(j,O,!1,function(e){a("RlM7"),a("JN3o")},"data-v-0eb912ff",null).exports,M=a("X2Oc"),H={name:"TreeChart",inject:["reload"],props:["json"],data:function(){return{treeData:{},showByCrewStatus:M.g}},watch:{json:{handler:function(e){this.treeData=e},immediate:!0,deep:!0}},created:function(){},methods:{getdata:function(e){this.$emit("func",e)}}},x={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"line-height":"normal"}},[a("table",[a("tr",[a("td",{class:{parentLevel:e.treeData.children,extend:e.treeData.children},attrs:{colspan:e.treeData.children?2*e.treeData.children.length:1}},[a("div",{class:{node:!0}},[a("div",{staticClass:"person"},[a("div",{staticClass:"name",class:0==e.treeData.level?"level":""},[a("p",[e._v(e._s(e.treeData.name))]),e._v(" "),e.treeData.type?a("p",{staticClass:"type"},[e._v(e._s(e.treeData.type))]):e._e()])])])])]),e._v(" "),e.treeData.data?a("tr",[a("td",[a("div",{staticClass:"node crew-detail"},[a("el-row",{staticClass:"crew-num",attrs:{type:"flex"}},[a("el-col",{staticClass:"color_type_4",attrs:{span:4}},[a("span"),a("em",[e._v(e._s(e.treeData.GensetRun))])]),e._v(" "),a("el-col",{staticClass:"color_type_3",attrs:{span:4}},[a("span"),a("em",[e._v(e._s(e.treeData.GensetWarn))])]),e._v(" "),a("el-col",{staticClass:"color_type_2",attrs:{span:4}},[a("span"),a("em",[e._v(e._s(e.treeData.GensetAlarm))])]),e._v(" "),a("el-col",{staticClass:"color_type_5",attrs:{span:4}},[a("span"),a("em",[e._v(e._s(e.treeData.GensetStop))])]),e._v(" "),a("el-col",{staticClass:"color_type_6",attrs:{span:4}},[a("span"),a("em",[e._v(e._s(e.treeData.GensetOffline))])]),e._v(" "),a("el-col",{staticClass:"color_type_0",attrs:{span:4}},[a("span"),a("em",[e._v(e._s(e.treeData.GensetAll))])])],1),e._v(" "),a("div",{staticClass:"crewinfo-items"},e._l(e.treeData.data,function(t,n){return a("div",{key:n,staticClass:"crewinfo-item",attrs:{type:"flex"}},[a("div",[a("span",{style:{background:e.showByCrewStatus(t.Status).color}}),e._v(" "),a("p",{staticClass:"SingleLineHiding",attrs:{title:t.DisplayName}},[e._v(e._s(t.DisplayName))])]),e._v(" "),a("div",[a("em",[e._v(e._s(e.showByCrewStatus(t.Status).text))]),e._v(" "),a("p",{staticClass:"SingleLineHiding",attrs:{title:t.InstallationSite}},[e._v("\n                  "+e._s(t.InstallationSite)+"\n                ")])])])}),0)],1)])]):e._e(),e._v(" "),e.treeData.children&&e.treeData.children.length?a("tr",e._l(e.treeData.children,function(e,t){return a("td",{key:t,staticClass:"childLevel",attrs:{colspan:"2"}},[a("TreeChart",{attrs:{json:e}})],1)}),0):e._e()])])},staticRenderFns:[]};var I=a("VU/8")(H,x,!1,function(e){a("2eMw")},"data-v-6b5fc66d",null).exports,N={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"line-height":"normal"}},[a("table",[a("tr",[a("td",{class:{parentLevel:e.treeData.children,extend:e.treeData.children},attrs:{colspan:e.treeData.children?2*e.treeData.children.length:1}},[a("div",{class:{node:!0}},[a("div",{staticClass:"person"},[a("div",{staticClass:"name",class:0==e.treeData.level?"level":""},[a("p",[e._v(e._s(e.treeData.name))]),e._v(" "),e.treeData.type?a("p",{staticClass:"type"},[e._v(e._s(e.treeData.type))]):e._e()])])])])]),e._v(" "),e.treeData.children&&e.treeData.children.length?a("tr",e._l(e.treeData.children,function(e,t){return a("td",{key:t,staticClass:"childLevel",attrs:{colspan:"2"}},[a("TreeChart",{attrs:{json:e}})],1)}),0):e._e()])])},staticRenderFns:[]};var U={name:"MonitoringScreenOperationTop",components:{FrameWorkTree:a("VU/8")({name:"TreeChart",inject:["reload"],props:["json"],data:function(){return{treeData:{}}},watch:{json:{handler:function(e){this.treeData=e},immediate:!0,deep:!0}},created:function(){},methods:{getdata:function(e){this.$emit("func",e)}}},N,!1,function(e){a("fMxI")},"data-v-bda9a3bc",null).exports,FrameWorkDetailTree:I,EChartsMap:B,ECharts:S,MapBaiduWord:P},data:function(){return{dialogVisible:!1,projectOverviewData:["-","-","-","-"],treeData:[],mchStateData:{total:0,numArr:[],numArrOperation:[]},dropdownData:{rentingStateOpt:[],operationStateOpt:[]},feedback:{total:0,items:[]},year:(new Date).getFullYear().toString(),rentingState:null,operationState:null,timer:null,speed:100,mapData:{},mapDataAll:{},mapType:"word",dialogVisibleFeedback:!1,feedbackDetail:{},reply:"",replyType:"text",replyFiles:[],feedbackId:0,feedbackThisHead:"",dialogImageUrl:"",dialogVisiblePic:!1,disabled:!1,picLimit:3,picSizeLimit:5242880,top:0}},props:{allData:{type:Object,default:function(e){return{}}}},inject:["mes"],provide:{colorOperation:["#20be62","#f59a23","#8ec9f4","#d9001b","#aaaaaa"]},computed:m()({},Object(h.c)(["monitoringScreenOperation"])),watch:{allData:{handler:function(e,t){var a=this;if(e){var n=[e.GensetAll,e.GensetAllSelf,e.GensetAllOM,e.ProjectAll];this.projectOverviewData=n;var i=this.dropdownData,r={total:0,numArr:[],numArrOperation:[],mchStateMapping:["GensetInfoStatus_4Count","GensetInfoStatus_1Count","GensetInfoStatus_3Count","GensetInfoStatus_0Count","GensetInfoStatus_2Count"],operationSMapping:["GensetStatusRun","GensetStatusAlarm","GensetStatusWarn","GensetStatusStop","GensetStatusOffline"]};r.mchStateMapping.forEach(function(t,a){var n={name:i.rentingStateOpt[a],value:e[t]};r.numArr.push(n),r.total+=e[t]}),r.operationSMapping.forEach(function(t,a){var n={name:i.operationStateOpt[a],value:e[t]};r.numArrOperation.push(n)}),this.mchStateData=r;var l=this.mes;this.$api.monitoringScreenOperation.FindGensetProjectIndexMap({},{GeneratorSetName:"",CollectorToken:"",Status:-1,RunStatus:-1}).then(function(e){var t=!!e&&!!e.Data&&e.Data;if(t){var n=new Object;t.length>0&&(t.forEach(function(e){var t=[e.Longitude,e.Latitude,e.InstallationSite,e.GeneratorSetId,"项目类型",e.ProjectName,"是否重点机组标志",e.DisplayName,"项目合同编号","服务企业名称","项目合同编号","服务企业编号",e.RunStatus,e.InfoStatus];n[e.GeneratorSetId]=t}),a.mapData=n)}else l()}).catch(function(e){l(),console.error("ERROR in monitoringScreenOperation get map data =>",e)});var s={id:0,name:"智能装备动力服务租赁平台",level:0,children:[]},o=e.ProjectList;o&&(o.forEach(function(e){var t={id:e.ProjectId,name:e.ProjectName,type:"单机项目",level:2,data:[]};s.children.push(t)}),this.dialogVisible||(this.treeData=s)),this.$api.monitoringScreenOperation.FindGensetProjectIndexFeedback().then(function(e){var t=!!e&&!!e.Data&&e.Data;if(t){var n=new Object,i=new Array;n.total=t.FeedbackCount||0,n.itemType=["项目建议","投诉","投诉类型"],t.FeedbackList&&t.FeedbackList.length>0&&t.FeedbackList.forEach(function(e,t){var n={avatarUrl:a.handlePicUrl(e.CreateUserHeadImgUrl),itemType:e.Sort,title:t+1+". "+e.FeedbackTitle,dateTime:Object(M.c)(e.CreateTime).format("yyyy-MM-DD HH:mm:ss"),content:e.FeedbackDetail,feedbackId:e.FeedbackId};i.push(n)}),n.items=i,a.feedback=n}else a.mes()}).catch(function(e){l(),console.error("ERROR in monitoringScreenOperation get feedback data =>",e)}),this.getMchTree()}},deep:!0},year:function(){this.toggleMSO()},rentingState:function(e){this.toggleMSO()},operationState:function(){this.toggleMSO()},monitoringScreenOperation:{handler:function(e,t){e.year;var a=e.operationState,n=e.rentingState,i={};for(var r in this.mapDataAll){var l=[].concat(d()(this.mapDataAll[r])),s=this.mapDataAll[r];null!==a&&null!==n?a==s[12]&&n==s[13]&&(i[r]=l):null===a&&null!==n?n==s[13]&&(i[r]=l):null!==a&&null===n?a==s[12]&&(i[r]=l):i[r]=l}},deep:!0}},methods:m()({getFormatDateTime:function(e){var t=u()(e),a=t.diff(u()(),"d"),n=t.format("HH:mm"),i=e;switch(a){case 0:i="今天"+n;break;case-1:i="昨天"+n;break;case-2:i="前天"+n;break;default:i=t.format("M月D日HH:mm")}return i},showFrameworkDetail:function(){this.getMchTree(),this.dialogVisible=!0},getMchTree:function(){var e=this;this.dialogVisible||this.$api.monitoringScreenOperation.FindGensetProjectIndexProjectTree().then(function(t){var a=!!t&&!!t.Data&&t.Data;if(a){var n=new o.a,r=a.ProjectList,l=i.a.cloneDeep(e.treeData.children);r.forEach(function(e){n.set(e.ProjectId,e)}),l.forEach(function(e){var t=n.get(e.id),a=t.GensetList,i=[];a.length>0&&(a.forEach(function(e){var t=m()({},e);i.push(t)}),e.data=i,e.GensetOffline=t.GensetOffline,e.GensetRun=t.GensetRun,e.GensetStop=t.GensetStop,e.GensetWarn=t.GensetWarn,e.GensetAlarm=t.GensetAlarm,e.GensetAll=t.GensetAll)}),e.treeData.children=l}else e.mes()}).catch(function(t){e.mes(),console.error("ERROR in monitoringScreenOperation get mch tree data =>",t)})}},Object(h.b)(["toggleMonitoringScreenOperation"]),{getDropdownData:function(){this.dropdownData={rentingStateOpt:["检修","租赁中","施工","待租赁","维修"],operationStateOpt:["运行","故障","风险","停机","离线"]}},initData:function(){this.toggleMSO()},feedbackBeginScroll:function(){var e=this,t={containerEl:this.$refs.feedbackContainer.$el,containerHeight:this.$refs.feedbackContainer.$el.clientHeight,innerEl:this.$refs.feedbackSub,innerContainerH:this.$refs.feedbackSub.clientHeight};if(t.containerHeight<t.innerContainerH){t.innerEl.innerHTML;this.timer=setInterval(function(){e.top>=t.innerContainerH/2?e.top=0:e.top++,t.innerEl.style.top="-"+e.top+"px"},this.speed)}},checkDetail:function(e){var t=this;if(e){this.dialogVisibleFeedback=!0;var a=e.target,n=a.children[0].innerHTML,i=Number(a.lastChild.innerText);this.feedbackId=i,this.feedbackThisHead=n}this.$api.monitoringScreenOperation.GetGensetProjectFeedback({},{id:this.feedbackId}).then(function(e){var a=!!e&&!!e.Data&&e.Data;if(a){var n=m()({},a),i=[];n.ReplyList&&n.ReplyList.forEach(function(e){e.FileUrl&&!e.ReplyDetail&&i.push(t.handlePicUrl(e.FileUrl))}),n.FileUrlArray&&(n.FileUrlArray=n.FileUrlArray.map(function(e){return t.handlePicUrl(e)})),n.replyPicList=i,t.feedbackDetail=n,t.feedbackDetail.CreateTime&&(t.feedbackDetail.CreateTime=Object(M.c)(t.feedbackDetail.CreateTime).format("yyyy-MM-DD HH:mm:ss"))}else t.mes()}).catch(function(e){t.mes(),console.error("ERROR in monitoringScreenOperation get feedback detail data =>",e)})},handleError:function(e){return!0},handlePicUrl:function(e){return"http://www.fortrustyun.com:8022/"+e},handlePicUrlOld:function(e){return"http://www.fortrustyun.com/"+e},handleClose:function(e){this.$confirm("确认关闭？").then(function(t){e()}).catch(function(e){})},sendFeedbackReply:function(){var e=this,t=this.$message,a=(!!this.$refs.refUploadPics&&this.$refs.refUploadPics||{uploadFiles:[]}).uploadFiles;"text"!=this.replyType||this.reply?"text"==this.replyType||0!==a.length?this.$confirm("确认发送？").then(function(){var n=e.$loading({lock:!0,text:"数据提交中，请稍候...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),i=new FormData;i.append("FeedbackId",e.feedbackId),i.append("ReplyDetail",e.reply),i.append("FileUrl",""),i.append("Remark","");var r=[];a.length>0?a.forEach(function(t,a){var n=new FormData;n.append("FeedbackId",e.feedbackId),n.append("ReplyDetail",e.reply),n.append("FileUrl",t.raw),n.append("Remark",""),r.push(e.sendFeedbackReplyFunc(n))}):r.push(e.sendFeedbackReplyFunc(i)),l.a.all(r).then(function(i){t({message:"发送成功！",type:"success"}),n.close(),e.reply="",a.length=0,e.checkDetail()})}).catch(function(e){}):t({message:"至少上传一张图片！",type:"error"}):t({message:"请输入回复信息！",type:"error"})},sendFeedbackReplyFunc:function(e){var t=this;return new l.a(function(a,n){t.$api.monitoringScreenOperation.AddGGensetProjectFeedbackReply(e).then(function(e){1===e.Code?a("success"):n(e)})})},toggleMSO:function(){var e={year:this.year,rentingState:this.rentingState,operationState:this.operationState};this.toggleMonitoringScreenOperation(e)},resetQuery:function(){this.year=(new Date).getFullYear().toString(),this.rentingState=null,this.operationState=null,this.$message({message:"重置成功！",type:"success",duration:1e3,showClose:!0})},formatTime:function(e){return Object(M.c)(e)},handleRemove:function(e){var t=e.uid,a=this.$refs.refUploadPics.uploadFiles;try{a.forEach(function(e,n){e.uid===t&&a.splice(n,1)})}catch(e){this.$message({type:"error",message:"删除失败！"}),console.error(e)}},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisiblePic=!0},handleDownload:function(e){},handleExceed:function(){this.$message("仅限上传"+this.picLimit+"张图片！")},onChangePic:function(e,t){if(!(e.size/1024<=5120))return t.splice(t.indexOf(e),1),this.$message.warning("上传文件大小不能超过 5MB!"),!1}}),created:function(){var e={};for(var t in C.mapData)"A"===C.mapData[t][11]&&(C.mapData[t].push(Number((3*Math.random()).toFixed(0))),C.mapData[t].push(Number((4*Math.random()).toFixed(0))),e[t]=C.mapData[t]);this.mapData=e,this.mapDataAll=e},mounted:function(){this.getDropdownData(),this.initData()},updated:function(){clearInterval(this.timer),this.feedbackBeginScroll()},destroyed:function(){clearInterval(this.timer)}},E={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"monitoring-screen-operation-top"},[a("el-col",{attrs:{span:7}},[a("el-row",[a("el-row",[a("div",{staticClass:"project-title"},[e._v("项目总览")]),e._v(" "),a("el-row",{staticClass:"mb16 project-data-box",attrs:{type:"flex",justify:"space-between"}},[a("el-col",{attrs:{span:6}},[a("div",[e._v(e._s(e.projectOverviewData[0]))]),e._v(" "),a("p",[e._v("机组总数")])]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",[e._v(e._s(e.projectOverviewData[1]))]),e._v(" "),a("p",[e._v("运维机组数")])]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",[e._v(e._s(e.projectOverviewData[2]))]),e._v(" "),a("p",[e._v("代运维机组数")])]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",[e._v(e._s(e.projectOverviewData[3]))]),e._v(" "),a("p",[e._v("项目总数")])])],1)],1),e._v(" "),a("el-row",[a("div",{staticClass:"project-title"},[e._v("机组状态")]),e._v(" "),a("el-row",{staticClass:"echarts"},[a("e-charts",{attrs:{numArr:e.mchStateData.numArr,numArrOperation:e.mchStateData.numArrOperation,total:e.mchStateData.total}})],1)],1)],1)],1),e._v(" "),a("el-col",{staticClass:"map",attrs:{span:10}},[a("el-row",{staticClass:"map-query",attrs:{hidden:""}},[a("el-date-picker",{attrs:{"popper-append-to-body":!1,"value-format":"yyyy",type:"year",placement:"bottom-start"},model:{value:e.year,callback:function(t){e.year=t},expression:"year"}}),e._v(" "),a("el-select",{attrs:{placeholder:"请选择租赁状态"},model:{value:e.rentingState,callback:function(t){e.rentingState=t},expression:"rentingState"}},e._l(e.dropdownData.rentingStateOpt,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1),e._v(" "),a("el-select",{attrs:{placeholder:"请选择机组状态"},model:{value:e.operationState,callback:function(t){e.operationState=t},expression:"operationState"}},e._l(e.dropdownData.operationStateOpt,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}),1),e._v(" "),a("el-button",{attrs:{type:"text"},on:{click:e.resetQuery}},[e._v("重置筛选")])],1),e._v(" "),"china"==e.mapType?a("e-charts-map",{attrs:{mapData:e.mapData}}):e._e(),e._v(" "),"word"==e.mapType?a("map-baidu-word",{attrs:{mapdata:e.mapData}}):e._e()],1),e._v(" "),a("el-col",{attrs:{span:7}},[a("el-row",[a("el-row",{staticClass:"mb16",attrs:{type:"flex",justify:"space-between"}},[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"project-title"},[e._v("项目架构")])]),e._v(" "),a("div",{staticClass:"framework-detail-btn",on:{click:e.showFrameworkDetail}},[e._v("架构详情")])],1),e._v(" "),a("div",{staticClass:"project-framework-box"},[a("frame-work-tree",{attrs:{json:e.treeData}})],1),e._v(" "),a("el-dialog",{staticClass:"framework-detail-dialog",attrs:{title:"架构详情",top:"10vh",center:!0,visible:e.dialogVisible,"modal-append-to-body":!1,"close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.dialogVisible=t},close:function(t){e.dialogVisible=!1}}},[a("div",{staticClass:"framework-detail-box"},[e.dialogVisible?a("FrameWorkDetailTree",{attrs:{json:e.treeData}}):e._e()],1)])],1),e._v(" "),a("el-row",[a("div",{staticClass:"project-title"},[e._v("客户反馈（"+e._s(e.feedback.total)+"）")]),e._v(" "),a("el-row",{ref:"feedbackContainer",staticClass:"feedback-container"},[a("div",{ref:"feedbackSub",attrs:{title:"点击查看详情"}},[e._l(e.feedback.items,function(t,n){return a("el-row",{key:n,staticClass:"feedback-item",attrs:{type:"flex",align:"middle"}},[a("el-col",{attrs:{span:2}},[a("el-avatar",{attrs:{src:t.avatarUrl,icon:"el-icon-user-solid"},on:{error:e.handleError}},[a("img",{attrs:{src:"https://cube.elemecdn.com/e/fd/0fc7d20532fdaf769a25683617711png.png"}})])],1),e._v(" "),a("el-col",{attrs:{span:22}},[a("el-row",{attrs:{justify:"space-around"}},[a("el-col",{staticClass:"feedback-title-container",attrs:{span:17}},[a("div",{staticClass:"feedback-type"},[e._v("\n                    "+e._s(e.feedback.itemType[t.itemType])+"\n                  ")]),e._v(" "),a("div",{staticClass:"feedback-title"},[e._v(e._s(t.title))])]),e._v(" "),a("el-col",{attrs:{span:7}},[a("el-row",{attrs:{type:"flex",justify:"end"}},[e._v("\n                    "+e._s(e.getFormatDateTime(t.dateTime))+"\n                  ")])],1)],1),e._v(" "),a("el-row",{staticClass:"feedback-content",nativeOn:{click:function(t){return e.checkDetail.apply(null,arguments)}}},[e._v("\n                "+e._s(t.content)+"\n                "),a("span",{attrs:{hidden:""}},[e._v(e._s(t.avatarUrl))]),e._v(" "),a("span",{attrs:{hidden:""}},[e._v(e._s(t.feedbackId))])])],1)],1)}),e._v(" "),e.feedback.items&&e.feedback.items.length>3?a("div",e._l(e.feedback.items,function(t,n){return a("el-row",{key:n,staticClass:"feedback-item",attrs:{type:"flex",align:"middle"}},[a("el-col",{attrs:{span:2}},[a("el-avatar",{attrs:{src:t.avatarUrl,icon:"el-icon-user-solid"}})],1),e._v(" "),a("el-col",{attrs:{span:22}},[a("el-row",{attrs:{justify:"space-around"}},[a("el-col",{staticClass:"feedback-title-container",attrs:{span:17}},[a("div",{staticClass:"feedback-type"},[e._v("\n                      "+e._s(e.feedback.itemType[t.itemType])+"\n                    ")]),e._v(" "),a("div",{staticClass:"feedback-title"},[e._v(e._s(t.title))])]),e._v(" "),a("el-col",{attrs:{span:7}},[a("el-row",{attrs:{type:"flex",justify:"end"}},[e._v("\n                      "+e._s(e.getFormatDateTime(t.dateTime))+"\n                    ")])],1)],1),e._v(" "),a("el-row",{staticClass:"feedback-content",nativeOn:{click:function(t){return e.checkDetail.apply(null,arguments)}}},[e._v("\n                  "+e._s(t.content)+"\n                  "),a("span",{attrs:{hidden:""}},[e._v(e._s(t.avatarUrl))]),e._v(" "),a("span",{attrs:{hidden:""}},[e._v(e._s(t.feedbackId))])])],1)],1)}),1):e._e()],2)]),e._v(" "),a("el-dialog",{staticClass:"feedback-detail-dialog",attrs:{title:"客户反馈详情",visible:e.dialogVisibleFeedback,width:"40%","before-close":e.handleClose,"append-to-body":!0},on:{"update:visible":function(t){e.dialogVisibleFeedback=t}}},[a("el-row",{staticClass:"feedback-detail-container"},[a("el-row",{staticClass:"feedback-detail-container-info"},[a("div",{staticClass:"feedback-detail-container-info-title"},[a("div",[e._v(e._s(e.feedbackDetail.Sort))]),e._v(" "),a("div",[e._v("  "+e._s(e.feedbackDetail.FeedbackTitle))])]),e._v(" "),a("div",{staticClass:"feedback-detail-container-info-info"},[a("el-avatar",{attrs:{src:e.feedbackThisHead,size:20}}),e._v("  \n              "+e._s(e.feedbackDetail.CreateUserName)+" "+e._s(e.feedbackDetail.CreateUserCompanyName)+"\n              "+e._s(e.feedbackDetail.CreateUserPhone)+"\n              "+e._s(e.feedbackDetail.CreateTime)+"\n            ")],1),e._v(" "),a("div",{staticClass:"feedback-detail-container-info-content"},[e._v("\n              "+e._s(e.feedbackDetail.FeedbackDetail)+"\n            ")]),e._v(" "),e.feedbackDetail.FileUrlArray&&e.feedbackDetail.FileUrlArray.length>0?a("div",{staticClass:"feedback-detail-container-info-pics"},e._l(e.feedbackDetail.FileUrlArray,function(t,n){return a("el-image",{key:n,attrs:{src:t,fit:"contain","preview-src-list":e.feedbackDetail.FileUrlArray}})}),1):e._e(),e._v(" "),a("el-divider")],1),e._v(" "),a("el-row",{staticClass:"feedback-detail-container-reply"},e._l(e.feedbackDetail.ReplyList,function(t,n){return a("div",{key:n,staticClass:"feedback-detail-container-reply-item"},[a("div",[a("el-avatar",{key:t.FeedbackReplyId,attrs:{src:e.handlePicUrl(t.CreateUserHeadImgUrl),size:30}})],1),e._v(" "),a("div",[a("div",[e._v("\n                  "+e._s(t.CreateUserName)+"\n                  "+e._s(e.formatTime(t.CreateTime).format("yyyy-MM-DD HH:mm:ss"))+"\n                ")]),e._v(" "),a("div",[t.ReplyDetail?a("el-input",{attrs:{resize:"none",readonly:"",width:"100%",type:"textarea",value:t.ReplyDetail}}):a("el-image",{attrs:{src:e.handlePicUrl(t.FileUrl),"preview-src-list":e.feedbackDetail.replyPicList,fit:"contain"}})],1)])])}),0),e._v(" "),a("el-divider"),e._v(" "),a("el-row",{staticClass:"feedback-detail-container-text"},[a("el-col",{attrs:{span:19}},["text"==e.replyType?a("el-input",{attrs:{type:"textarea",placeholder:"字数不超过100个字符",maxlength:100,rows:"4"},model:{value:e.reply,callback:function(t){e.reply=t},expression:"reply"}}):a("el-upload",{ref:"refUploadPics",attrs:{accept:".jpg, .jpeg, .png",action:"#","list-type":"picture-card","auto-upload":!1,limit:e.picLimit,"on-exceed":e.handleExceed,multiple:!0,"on-change":e.onChangePic},scopedSlots:e._u([{key:"file",fn:function(t){var n=t.file;return a("div",{},[a("img",{staticClass:"el-upload-list__item-thumbnail",attrs:{src:n.url,alt:""}}),e._v(" "),a("span",{staticClass:"el-upload-list__item-actions"},[a("span",{staticClass:"el-upload-list__item-preview",on:{click:function(t){return e.handlePictureCardPreview(n)}}},[a("i",{staticClass:"el-icon-zoom-in"})]),e._v(" "),e.disabled?e._e():a("span",{staticClass:"el-upload-list__item-delete",on:{click:function(t){return e.handleRemove(n)}}},[a("i",{staticClass:"el-icon-delete"})])])])}}])},[a("i",{staticClass:"el-icon-plus",attrs:{slot:"default"},slot:"default"})]),e._v(" "),a("el-dialog",{attrs:{"modal-append-to-body":!1,visible:e.dialogVisiblePic},on:{"update:visible":function(t){e.dialogVisiblePic=t}}},[a("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1),e._v(" "),a("el-col",{attrs:{span:4,push:1}},[a("el-radio",{attrs:{label:"text"},model:{value:e.replyType,callback:function(t){e.replyType=t},expression:"replyType"}},[e._v("文本")]),e._v(" "),a("el-radio",{attrs:{label:"pic"},model:{value:e.replyType,callback:function(t){e.replyType=t},expression:"replyType"}},[e._v("图片")])],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisibleFeedback=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.sendFeedbackReply}},[e._v("发 送")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var G=a("VU/8")(U,E,!1,function(e){a("Nnsl")},"data-v-2e659dba",null).exports,R={name:"MonitoringScreenOperationBottom",components:{ScrollTable:a("l2LV").a},data:function(){return{alert:C.alert,tableKeepColumn:C.alert.tableKeep.column,tableKeepData:[],tableAlertData:[],tableWeatherData:[]}},props:{allData:{type:Object,default:function(e){return{}}}},inject:["mes"],watch:{allData:{handler:function(e,t){var a=this,n=this.mes,i=!!e&&e;if(i){var r=new Array;i.RemindList.forEach(function(e,t){var a={content:t+1+". "+e.ProjectName,mchModel:e.GensetName,projectName:e.ItemContent,time:Object(M.c)(e.NextRemindDate).format("HH:mm:ss"),state:"处理状态暂无",id:e.GeneratorSetId,projectId:e.ProjectId};r.push(a)}),this.tableKeepData=r}else n();var l=!!e&&e;if(l){var s=new Array;l.AlarmList.forEach(function(e,t){var a={content:t+1+". "+e.ProjectName,mchModel:e.GensetName,projectName:e.Content,time:Object(M.c)(e.Time).format("HH:mm:ss"),state:"处理状态暂无",id:e.GeneratorSetId,projectId:e.ProjectId};s.push(a)}),this.tableAlertData=s}else n();var o=!!e&&e;if(o){var c=new Array;o.WeatherWarnList.forEach(function(e,t){var n={content:t+1+". "+e.ProjectName,mchModel:e.GensetName,projectName:e.Headline,time:a.$moment(e.SendTime).format("HH:mm:ss"),state:"处理状态暂无",id:e.GeneratorSetId,projectId:e.ProjectId};c.push(n)}),this.tableWeatherData=c}else n()},deep:!0}},methods:m()({},Object(h.b)(["toggleCurrentProject"]),{diagnoseHandler:function(e){var t=this;try{var a=e.parentElement.children[6],n=Number(a.attributes.projectId.value);this.$api.project.GetGensetProject({id:isNaN(n)?10:n}).then(function(e){var a=e.Data;a&&t.toggleCurrentProject(a),t.$router.push("/project/project-monitor")})}catch(e){this.$message.error("跳转失败，请检查网络！"),console.error("%cERROR INFO","background:yellow",e)}}})},L={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"monitoring-screen-operation-bottom"},[a("el-row",[a("el-col",{staticClass:"content-item",attrs:{span:8}},[a("div",[e._v("维保提示与报警实时监控")]),e._v(" "),a("div",[a("scroll-table",{attrs:{canStopFlag:!0,column:e.tableKeepColumn,tableData:e.tableKeepData,plan:1,title:"点击跳转到项目监控页面"},on:{diagnoseHandler:e.diagnoseHandler}})],1),e._v(" "),a("div",{staticClass:"summary"},[e._v("\n        待受理："),a("span",[e._v("30")]),e._v(" 处理中："),a("span",[e._v("25")]),e._v(" 已完成："),a("span",[e._v("65")])])]),e._v(" "),a("el-col",{staticClass:"content-item",attrs:{span:8}},[a("div",[e._v("设备与报警实时监控")]),e._v(" "),a("div",[a("scroll-table",{attrs:{canStopFlag:!0,column:e.tableKeepColumn,tableData:e.tableAlertData,plan:1,title:"点击跳转到项目监控页面"},on:{diagnoseHandler:e.diagnoseHandler}})],1),e._v(" "),a("div",{staticClass:"summary"},[e._v("\n        待受理："),a("span",[e._v("30")]),e._v(" 处理中："),a("span",[e._v("25")]),e._v(" 已完成："),a("span",[e._v("65")])])]),e._v(" "),a("el-col",{staticClass:"content-item",attrs:{span:8}},[a("div",[e._v("环境风险提示与报警实时监控")]),e._v(" "),a("div",[a("scroll-table",{attrs:{canStopFlag:!0,column:e.tableKeepColumn,tableData:e.tableWeatherData,plan:1,title:"点击跳转到项目监控页面"},on:{diagnoseHandler:e.diagnoseHandler}})],1),e._v(" "),a("div",{staticClass:"summary"},[e._v("\n        待受理："),a("span",[e._v("30")]),e._v(" 处理中："),a("span",[e._v("25")]),e._v(" 已完成："),a("span",[e._v("65")])])])],1)],1)},staticRenderFns:[]};var z={name:"MonitoringScreenOperation",components:{LayoutTop:G,LayoutBottom:a("VU/8")(R,L,!1,function(e){a("8Nu6")},"data-v-342f5bae",null).exports},data:function(){return{width:1920,height:1080,scale:1,HeadImgUrl:"",dateStr:"",timeStr:"",allData:{},timer:null,interval:2e4}},methods:{getScale:function(){var e=this.$data,t=e.width,a=void 0===t?1920:t,n=e.height,i=void 0===n?1080:n,r=window.innerWidth/a,l=window.innerHeight/i;return r<l?r:l},setScale:i.a.debounce(function(){this.scale=this.getScale()},300),getAccount:function(){var e=this;this.$api.account.findAccount().then(function(t){if(t.IsSuccess){var a=t.Data;e.HeadImgUrl=a.HeadImgUrl&&(a.HeadImgUrl=Object(M.f)(a.HeadImgUrl))}})},pushManage:function(){this.$router.push("/operation/operationStatistics")},mes:function(){this.$message({message:"从服务器获取数据失败，请检查网络！",type:"warning"})},pushOperation:function(){this.$message({message:"敬请期待！",type:"success",duration:1e3,showClose:!0})},renderTime:function(){var e=this,t=Object(M.e)("YYYY年M月D日 星期 HH:mm");this.dateStr=t.split(" ")[0],this.timeStr=t.split(" ")[1]+" "+t.split(" ")[2],setTimeout(function(){e.renderTime()},6e4)},getData:function(){var e=this;this.$api.monitoringScreenOperation.FindGensetProjectIndex().then(function(t){var a=!!t&&!!t.Data&&t.Data;a?e.allData=a:e.mes()}).catch(function(t){e.mes(),console.error("ERROR in monitoringScreenOperation get all data =>",t)})},mySetInterval:function(e,t){var a=this;e(),clearTimeout(this.timer),this.timer=setTimeout(function(){a.mySetInterval(e,t)},t)}},provide:function(){return{mes:this.mes}},created:function(){this.setScale()},beforeMount:function(){window.addEventListener("resize",this.setScale)},mounted:function(){var e=this;this.getAccount(),this.renderTime(),this.getData(),this.timer=setInterval(function(){console.info("refresh..."),e.getData()},this.interval)},beforeDestroy:function(){window.removeEventListener("resize",this.setScale),clearInterval(this.timer)}},$={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"employee-monitoring-screen monitoring-full-screen"},[a("div",{staticClass:"ee-screen-content",style:{transform:"scale("+e.scale+")",width:e.width+"px",height:e.height+"px"}},[a("el-header",{staticClass:"ee-screen-header"},[a("div",{staticClass:"screen-header-left"},[a("svg-icon",{attrs:{"icon-class":"Icon-ee-header-left1"}}),e._v(" "),a("el-row",{attrs:{type:"flex"}},[a("el-col",[a("div",{staticClass:"city-button"},[a("i",{staticClass:"el-icon-location-information"}),e._v(" "),a("span",{staticClass:"city-span"},[e._v("-")])])]),e._v(" "),a("el-col",[a("div",{staticClass:"nowTime"},[a("p",[a("span",[e._v(e._s(e.dateStr))])]),e._v(" "),a("p",[a("span",[e._v(e._s(e.timeStr))])])])])],1)],1),e._v(" "),a("div",{staticClass:"screen-header-center"},[a("el-row",{attrs:{type:"flex"}},[a("el-col",[a("h2",[e._v("智能装备动力服务租赁平台")])])],1)],1),e._v(" "),a("div",{staticClass:"screen-header-right"},[a("svg-icon",{attrs:{"icon-class":"Icon-ee-header-right1"}}),e._v(" "),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{staticStyle:{"margin-left":"16px"}},[a("el-row",{attrs:{type:"flex",align:"middle"}},[a("el-avatar",{attrs:{src:e.HeadImgUrl}}),e._v("\n                "+e._s(this.$wsCache.get("userInfo").displayName)+"，您好！\n            ")],1)],1),e._v(" "),a("el-col",[a("el-row",{staticClass:"btns"},[a("el-col",[a("el-button",{staticClass:"goto-system-btn enter-operation",style:{display:"none"},on:{click:e.pushOperation}},[e._v("\n                  运维管理\n                ")])],1),e._v(" "),a("el-col",[a("el-button",{staticClass:"goto-system-btn enter-manage",on:{click:e.pushManage}},[e._v("\n                  管理系统\n                ")])],1)],1)],1)],1)],1)]),e._v(" "),a("el-main",{staticClass:"ee-screen-main"},[a("el-row",[a("layout-top",{attrs:{allData:e.allData}})],1),e._v(" "),a("el-row",[a("layout-bottom",{attrs:{allData:e.allData}})],1)],1)],1)])},staticRenderFns:[]};var J=a("VU/8")(z,$,!1,function(e){a("y9cK")},"data-v-2a382bbc",null);t.default=J.exports},"2eMw":function(e,t){},"8Nu6":function(e,t){},JN3o:function(e,t){},Nnsl:function(e,t){},RVDA:function(e,t){},RlM7:function(e,t){},fMxI:function(e,t){},r7wG:function(e,t){},y9cK:function(e,t){}});
//# sourceMappingURL=21.8ce7517786291462db86.js.map