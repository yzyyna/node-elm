webpackJsonp([51],{"1bQW":function(e,l){},eIm9:function(e,l,t){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var a=t("fALy"),o=t("j9eq"),i=t("PJh5"),r=t.n(i),s=[{label:"机组名称",prop:"DisplayName",minWidth:"12%",formatter:function(e,l,t){}},{label:"云猫标识",prop:"CollectorToken",minWidth:"12%"},{label:"控制器品牌",prop:"value3",minWidth:"12%"},{label:"通讯协议",prop:"value4",minWidth:"10%"},{label:"调参协议",prop:"ProtocolId",minWidth:"10%"},{label:"合闸分闸",prop:"value6",minWidth:"8%"},{label:"曲线",prop:"value7",minWidth:"5%"},{label:"有人值守",prop:"value8",minWidth:"8%"},{label:"创建时间",prop:"creatTime",minWidth:"15%"}],n=function(e){return[{label:"编辑",icon:"el-icon-edit-outline",method:function(l){e.handleEdit(l)}},{label:"详情",icon:"el-icon-info",method:function(l){e.handleShow(l)}},{label:"删除",icon:"el-icon-delete",method:function(l){e.handleDelete(l)},setStyle:function(e){return"color: red;"}}]},d=function(e){for(var l=[],t=1;t<=e;t++)l.push(t);return l}(12),c={name:"CrewCloud",mixins:[a.a],components:{PositionCascader:o.a},data:function(){return{input1:"",input2:"",columns:s,operates:n,dataSource:[],options:{index:!0,labelIndex:"序号",props:{width:248}},data:[],addDialogVisible:!1,dialogType:0,crewPositionValue:"",form:{DisplayName:"",CollectorToken:"",value1:"",value2:"",value3:"",value4:"",ProtocolId:"",value5:"",value6:1,value7:2,value8:2,crewPosition:"",InstallationSite:"",Longitude:"",Latitude:"",SimNo:"",MealValues:"",radio1:2,radio5:2,radio6:2,radio7:2,radio8:2,creatTime:""},formLabelWidth:"100px",rules:{DisplayName:[{required:!0,message:"请输入发电机组名称",trigger:"blur"}],CollectorToken:[{required:!0,message:"请输入发电机组云猫标识",trigger:"blur"}],value3:[{required:!0,message:"请选择控制器品牌",trigger:"change"}],value4:[{required:!0,message:"请选择通讯协议",trigger:"change"}],CollectorType:[{required:!0,message:"请选择型号",trigger:"change"}],ProtocolId:[{required:!0,message:"请选择调参协议",trigger:"change"}],Longitude:[{required:!0,message:"请输入经度",trigger:"blur"}],Latitude:[{required:!0,message:"请输入纬度",trigger:"blur"}]},showDialogVisible:!1,url:t("3xIo")}},mounted:function(){this.data=d.map(function(e,l){return{key:l,creatTime:r()(new Date).format("yyyy-MM-DD HH:mm:ss")}}),this.dataTotal=this.data.length,this.queryTableData()},methods:{queryTableData:function(){var e=this.data.slice((this.paginationCfg.currentPage-1)*this.paginationCfg.pageSize,this.paginationCfg.currentPage*this.paginationCfg.pageSize);this.$set(this,"dataSource",e)},handleAddData:function(){this.dialogType=0,this.crewPositionValue="",this.addDialogVisible=!0},handleEdit:function(e){var l=this;console.log("edit",e,this.crewPositionValue),this.dialogType=1,this.$nextTick(function(){l.form=e,l.crewPositionValue="河北省辛集市"}),this.addDialogVisible=!0},handleShow:function(e){console.log(e),this.showDialogVisible=!0},handleDelete:function(e){var l=this;console.log(e),this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){l.$message({type:"success",message:"删除成功!"})}).catch(function(){l.$message({type:"info",message:"已取消删除"})})},positionChange:function(e){console.log(e),this.form.crewPosition=e.crewPosition},submitForm:function(e){var l=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;alert("submit!"),l.addDialogVisible=!1})},closeForm:function(e){this.resetForm(e),this.crewPositionValue=null,this.addDialogVisible=!1},resetForm:function(e){this.$refs[e].resetFields()}}},u={render:function(){var e=this,l=e.$createElement,t=e._self._c||l;return t("div",[t("BMainTopComponent"),e._v(" "),t("div",{staticClass:"crew-cloud-main"},[t("div",{staticClass:"search-box"},[t("div",{staticClass:"search-item"},[t("span",[e._v("筛选:")]),e._v(" "),t("el-input",{attrs:{placeholder:"机组名称"},model:{value:e.input1,callback:function(l){e.input1=l},expression:"input1"}})],1),e._v(" "),t("div",{staticClass:"search-item"},[t("el-input",{attrs:{placeholder:"云猫标识"},model:{value:e.input2,callback:function(l){e.input2=l},expression:"input2"}})],1),e._v(" "),t("el-button",{attrs:{type:"primary",icon:"el-icon-search"}},[e._v("搜索")]),e._v(" "),t("div",{staticClass:"right-box"},[t("el-button",{staticClass:"add-btn",attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.handleAddData}},[e._v("新增")])],1)],1),e._v(" "),t("TableList",{attrs:{options:e.options,columns:e.columns,dataSource:e.dataSource,operates:e.operates(this),dataTotal:e.dataTotal,pagination:e.paginationCfg},on:{handleChangePage:e.handleChangePage,handleChangeSize:e.handleChangeSize}}),e._v(" "),t("el-dialog",{staticClass:"add-edit-form-dialog",attrs:{title:0===e.dialogType?"新增":"编辑",visible:e.addDialogVisible,"close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(l){e.addDialogVisible=l},close:function(l){return e.closeForm("ruleForm")}}},[t("el-form",{ref:"ruleForm",staticClass:"add-edit-form",attrs:{model:e.form,rules:e.rules}},[t("el-form-item",{attrs:{label:"产品类型",prop:"value1","label-width":e.formLabelWidth}},[t("el-select",{attrs:{placeholder:"请选择产品类型"},model:{value:e.form.value1,callback:function(l){e.$set(e.form,"value1",l)},expression:"form.value1"}},[t("el-option",{attrs:{label:"控制器",value:"1"}}),e._v(" "),t("el-option",{attrs:{label:"电子调速器",value:"2"}})],1)],1),e._v(" "),t("div",{staticClass:"form-flex-box"},[t("el-form-item",{attrs:{label:"控制器品牌",prop:"value3","label-width":e.formLabelWidth}},[t("el-select",{attrs:{placeholder:"请选择控制器品牌"},model:{value:e.form.value3,callback:function(l){e.$set(e.form,"value3",l)},expression:"form.value3"}},[t("el-option",{attrs:{label:"孚创",value:"1"}}),e._v(" "),t("el-option",{attrs:{label:"孚创控制器",value:"2"}})],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"通讯协议",prop:"value4","label-width":e.formLabelWidth}},[t("el-select",{attrs:{placeholder:"请选择通讯协议"},model:{value:e.form.value4,callback:function(l){e.$set(e.form,"value4",l)},expression:"form.value4"}},[t("el-option",{attrs:{label:"通讯协议1",value:"1"}}),e._v(" "),t("el-option",{attrs:{label:"通讯协议2",value:"2"}})],1)],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"机组名称",prop:"DisplayName","label-width":e.formLabelWidth}},[t("el-input",{attrs:{placeholder:"请输入发电机组名称",autocomplete:"off"},model:{value:e.form.DisplayName,callback:function(l){e.$set(e.form,"DisplayName",l)},expression:"form.DisplayName"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"云猫标识",prop:"CollectorToken",placeholder:"请输入发电机组云猫标识","label-width":e.formLabelWidth}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.CollectorToken,callback:function(l){e.$set(e.form,"CollectorToken",l)},expression:"form.CollectorToken"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"型号",prop:"CollectorType","label-width":e.formLabelWidth}},[t("el-select",{attrs:{placeholder:"请选择型号"},model:{value:e.form.CollectorType,callback:function(l){e.$set(e.form,"CollectorType",l)},expression:"form.CollectorType"}},[t("el-option",{attrs:{label:"型号1",value:"1"}}),e._v(" "),t("el-option",{attrs:{label:"型号2",value:"2"}})],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"智慧曲线协议",prop:"value2","label-width":e.formLabelWidth}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.value2,callback:function(l){e.$set(e.form,"value2",l)},expression:"form.value2"}},[t("el-option",{attrs:{label:"智慧曲线协议1",value:"1"}}),e._v(" "),t("el-option",{attrs:{label:"智慧曲线协议2",value:"2"}})],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"维保消息",prop:"radio1","label-width":e.formLabelWidth}},[t("el-radio-group",{model:{value:e.form.radio1,callback:function(l){e.$set(e.form,"radio1",l)},expression:"form.radio1"}},[t("el-radio",{attrs:{label:1}},[e._v("是")]),e._v(" "),t("el-radio",{attrs:{label:2}},[e._v("否")])],1),e._v(" "),1===e.form.radio1?t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.value5,callback:function(l){e.$set(e.form,"value5",l)},expression:"form.value5"}},[t("el-option",{attrs:{label:"维保消息协议1",value:"1"}}),e._v(" "),t("el-option",{attrs:{label:"维保消息协议2",value:"2"}})],1):e._e()],1),e._v(" "),t("el-form-item",{attrs:{label:"地区选择",prop:"crewPositionValue","label-width":e.formLabelWidth}},[t("position-cascader",{attrs:{defaultPosition:e.crewPositionValue},on:{positionChange:e.positionChange}})],1),e._v(" "),t("el-form-item",{attrs:{label:"安装地点",prop:"InstallationSite","label-width":e.formLabelWidth}},[t("el-input",{attrs:{placeholder:"请输入发电机组安装地点",autocomplete:"off"},model:{value:e.form.InstallationSite,callback:function(l){e.$set(e.form,"InstallationSite",l)},expression:"form.InstallationSite"}})],1),e._v(" "),t("div",{staticClass:"form-flex-box"},[t("el-form-item",{attrs:{label:"经度",prop:"Longitude","label-width":e.formLabelWidth}},[t("el-input",{attrs:{oninput:"value=value.replace(/[^0-9.]/g,'')",placeholder:"请输入",autocomplete:"off"},model:{value:e.form.Longitude,callback:function(l){e.$set(e.form,"Longitude",l)},expression:"form.Longitude"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"纬度",prop:"Latitude","label-width":e.formLabelWidth}},[t("el-input",{attrs:{oninput:"value=value.replace(/[^0-9.]/g,'')",placeholder:"请输入",autocomplete:"off"},model:{value:e.form.Latitude,callback:function(l){e.$set(e.form,"Latitude",l)},expression:"form.Latitude"}})],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"调参协议",prop:"ProtocolId","label-width":e.formLabelWidth}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.ProtocolId,callback:function(l){e.$set(e.form,"ProtocolId",l)},expression:"form.ProtocolId"}},[t("el-option",{attrs:{label:"调参协议1",value:"1"}}),e._v(" "),t("el-option",{attrs:{label:"调参协议2",value:"2"}})],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"物联网卡号",prop:"SimNo","label-width":e.formLabelWidth}},[t("el-input",{attrs:{placeholder:"请输入物联网卡号",autocomplete:"off"},model:{value:e.form.SimNo,callback:function(l){e.$set(e.form,"SimNo",l)},expression:"form.SimNo"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"流量套餐(MB)",prop:"MealValues",placeholder:"请输入流量套餐","label-width":e.formLabelWidth}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.MealValues,callback:function(l){e.$set(e.form,"MealValues",l)},expression:"form.MealValues"}}),e._v(" "),t("span",{staticClass:"unit"},[e._v("MB")])],1),e._v(" "),t("div",{staticClass:"form-flex-box"},[t("el-form-item",{attrs:{label:"合闸分闸",prop:"value6","label-width":e.formLabelWidth}},[t("el-radio-group",{model:{value:e.form.value6,callback:function(l){e.$set(e.form,"value6",l)},expression:"form.value6"}},[t("el-radio",{attrs:{label:1}},[e._v("单按钮")]),e._v(" "),t("el-radio",{attrs:{label:2}},[e._v("双按钮")])],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"有人值守",prop:"value8","label-width":e.formLabelWidth}},[t("el-radio-group",{model:{value:e.form.value8,callback:function(l){e.$set(e.form,"value8",l)},expression:"form.value8"}},[t("el-radio",{attrs:{label:1}},[e._v("是")]),e._v(" "),t("el-radio",{attrs:{label:2}},[e._v("否")])],1)],1)],1),e._v(" "),t("div",{staticClass:"form-flex-box"},[t("el-form-item",{attrs:{label:"曲线",prop:"value7","label-width":e.formLabelWidth}},[t("el-radio-group",{model:{value:e.form.value7,callback:function(l){e.$set(e.form,"value7",l)},expression:"form.value7"}},[t("el-radio",{attrs:{label:1}},[e._v("是")]),e._v(" "),t("el-radio",{attrs:{label:2}},[e._v("否")])],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"是否可以控制",prop:"radio5","label-width":e.formLabelWidth}},[t("el-radio-group",{model:{value:e.form.radio5,callback:function(l){e.$set(e.form,"radio5",l)},expression:"form.radio5"}},[t("el-radio",{attrs:{label:1}},[e._v("是")]),e._v(" "),t("el-radio",{attrs:{label:2}},[e._v("否")])],1)],1)],1),e._v(" "),t("div",{staticClass:"form-flex-box"},[t("el-form-item",{attrs:{label:"远程调参",prop:"radio6","label-width":e.formLabelWidth}},[t("el-radio-group",{model:{value:e.form.radio6,callback:function(l){e.$set(e.form,"radio6",l)},expression:"form.radio6"}},[t("el-radio",{attrs:{label:1}},[e._v("是")]),e._v(" "),t("el-radio",{attrs:{label:2}},[e._v("否")])],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"云消息",prop:"radio7","label-width":e.formLabelWidth}},[t("el-radio-group",{model:{value:e.form.radio7,callback:function(l){e.$set(e.form,"radio7",l)},expression:"form.radio7"}},[t("el-radio",{attrs:{label:1}},[e._v("是")]),e._v(" "),t("el-radio",{attrs:{label:2}},[e._v("否")])],1)],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"机组解锁机",prop:"radio8","label-width":e.formLabelWidth}},[t("el-radio-group",{model:{value:e.form.radio8,callback:function(l){e.$set(e.form,"radio8",l)},expression:"form.radio8"}},[t("el-radio",{attrs:{label:1}},[e._v("是")]),e._v(" "),t("el-radio",{attrs:{label:2}},[e._v("否")])],1)],1)],1),e._v(" "),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(l){return e.closeForm("ruleForm")}}},[e._v("取 消")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(l){return e.submitForm("ruleForm")}}},[e._v(e._s(0===e.dialogType?"提 交":"保 存"))])],1)],1),e._v(" "),e.showDialogVisible?t("el-dialog",{staticClass:"show-details-dialog",attrs:{title:"详情",visible:e.showDialogVisible,"close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(l){e.showDialogVisible=l},close:function(l){e.showDialogVisible=!1}}},[t("el-descriptions",{attrs:{title:"",column:1,colon:!1}},[t("el-descriptions-item",{attrs:{label:"机组名称"}},[e._v("COMM012201010002")]),e._v(" "),t("el-descriptions-item",{attrs:{label:"云猫标识"}},[e._v("COMM012201010002")]),e._v(" "),t("el-descriptions-item",{attrs:{label:"通讯协议状态"}},[e._v(e._s("已完成"))]),e._v(" "),t("el-descriptions-item",{attrs:{label:"上次信号"}},[t("el-image",{staticStyle:{width:"20px",height:"20px"},attrs:{src:e.url}})],1),e._v(" "),t("el-descriptions-item",{attrs:{label:"固件版本"}},[e._v("V1.0.0")]),e._v(" "),t("el-descriptions-item",{attrs:{label:"通讯说明"}},[e._v("通讯正常")])],1),e._v(" "),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(l){e.showDialogVisible=!1}}},[e._v("取 消")])],1)],1):e._e()],1)],1)},staticRenderFns:[]};var m=t("VU/8")(c,u,!1,function(e){t("1bQW")},"data-v-0983411a",null);l.default=m.exports}});
//# sourceMappingURL=51.5d20e9ac0c5a2a5de8d3.js.map