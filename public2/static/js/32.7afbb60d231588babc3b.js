webpackJsonp([32],{DuKt:function(e,t){},JLXq:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("ifoU"),r=a.n(i),n=a("Gu7T"),o=a.n(n),s=a("Dd8w"),l=a.n(s),c=a("7+uW"),d=a("YT+p"),h=a.n(d),u=a("M4fF"),m=a.n(u),v=a("oqQY"),p=a.n(v),f=a("NYxO"),y={name:"OperationChartDailyChart",data:function(){return{chart:null,option:{},rightYInterval:40,yAxisIndexColor:["auto","#6ebac9","#aad598","#8c77cd","#9695e9","#eb7b80","#ee8d42"]}},props:{seriesData:[],xAxisData:[],type:"",showFlag:!0,defaultChartInterval:[]},watch:{seriesData:function(e,t){this.renderChart()},theme:function(e){this.renderChart()},showFlag:function(){this._resize()}},computed:l()({},Object(f.c)(["theme"])),methods:{renderChart:function(){!this.chart||this.chart.clear(),this.chart||(this.chart=this.$echarts.init(document.querySelector(".operational-chart-daily-chart"))),this.option=this.getOption(),this.chart.showLoading(),this.chart.setOption(this.option),this.chart.hideLoading()},getOption:function(){var e=this,t=[],a={};return this.defaultChartInterval.length>0&&(a={startValue:this.defaultChartInterval[0],endValue:this.defaultChartInterval[1]}),console.log(a),this.seriesData.forEach(function(a){var i={name:a.name,type:"line",smooth:!0,yAxisIndex:a.yAxisIndex,symbol:"circle",showSymbol:!1,symbolSize:8,data:a.data,itemStyle:{color:"发动机转速"===a.name?e.yAxisIndexColor[6]:e.yAxisIndexColor[a.yAxisIndex]},tooltip:{formatter:function(e){return e.name+"<br/>"+e.seriesName+"："+e.value+" "+items[0].Unit}}};t.push(i)}),{grid:{left:"4%",right:5*this.rightYInterval},tooltip:{trigger:"axis",axisPointer:{lineStyle:{width:2,type:"line"}},position:function(e){return[e[0],"5%"]}},title:{left:"center",text:"日运维图",show:!1},toolbox:{show:!1,feature:{dataZoom:{yAxisIndex:"none"},restore:{},saveAsImage:{}}},xAxis:{type:this.type,boundaryGap:!1,data:this.xAxisData,axisLine:{lineStyle:{color:"dark"===this.theme?"white":"gray"}}},yAxis:[{type:"value",axisLine:{show:!0,lineStyle:{color:this.yAxisIndexColor[6]}},splitLine:{lineStyle:{color:"#ced6e088"}},axisTick:{show:!0},interval:250,min:0,max:2e3,name:"转速",nameLocation:"end"},{type:"value",position:"right",axisLine:{show:!0,lineStyle:{color:this.yAxisIndexColor[1]}},splitLine:{show:!1},min:0,max:1,name:"功率因素",nameLocation:"end",axisTick:{show:!0}},{type:"value",position:"right",axisLine:{show:!0,lineStyle:{color:this.yAxisIndexColor[2]}},splitLine:{show:!1},axisTick:{show:!0},min:0,max:30,name:"电池电压",nameLocation:"start",offset:this.rightYInterval},{type:"value",position:"right",axisLine:{show:!0,lineStyle:{color:this.yAxisIndexColor[3]}},splitLine:{show:!1},min:0,max:100,axisTick:{show:!0},name:"水温、液位",nameLocation:"end",offset:2*this.rightYInterval},{type:"value",position:"right",axisLine:{show:!0,lineStyle:{color:this.yAxisIndexColor[4]}},splitLine:{show:!1},min:0,max:400,name:"三相电流",nameLocation:"start",axisTick:{show:!0},offset:3*this.rightYInterval},{type:"value",position:"right",axisLine:{show:!0,lineStyle:{color:this.yAxisIndexColor[5]}},splitLine:{show:!1},min:0,max:600,name:"三相电压",nameLocation:"end",axisTick:{show:!0},offset:4*this.rightYInterval}],dataZoom:[l()({type:"inside"},a,{minValueSpan:18e5}),{start:0,end:100,minValueSpan:18e5}],series:t}},_resize:m.a.debounce(function(){this.chart.resize()},300)},mounted:function(){this.renderChart(),window.addEventListener("resize",this._resize)},beforeDestroy:function(){window.removeEventListener("resize",this._resize)}},g={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"operational-chart-daily-chart"})},staticRenderFns:[]};var _=a("VU/8")(y,g,!1,function(e){a("QJP/")},"data-v-06ff1c72",null).exports,b=a("X2Oc"),x=a("qoLa");c.default.component("MyCell",{props:["value","title","isHead","col","isTitle"],data:function(){return{borderColor:"#7fb1df"}},template:"<div\n  :style=\"{\n      height:'35px',\n      flex:col||1,\n      }\">\n        <div v-if=\"!isHead\"\n        :style=\"{\n            display:'flex',\n            justifyContent:!title?'left':'center',\n            alignItems:'center',\n            height:'100%',\n            borderBottom:'1px solid '+borderColor,\n            borderRight:'1px solid '+borderColor,\n        }\"\n        ><div v-if=\"!title\">&nbsp;</div>{{title}}{{value}}</div>\n        <div v-if=\"!!isHead\"\n        :style=\"{\n            display:'flex',\n            justifyContent:'center',\n            alignItems:'center',\n            height:'100%',\n            fontSize:isTitle?'2rem' : '1.2rem',\n            fontWeight:'bold',\n            borderBottom:'1px solid '+borderColor,\n            borderRight:'1px solid '+borderColor,\n        }\"\n        >{{title}}</div>\n      </div>"});var w={name:"OperationalChartDaily",components:{MyChart:_},data:function(){return{form:{name:"",no:"",username:"",phone:"",address:"",desc:""},defaultChartInterval:[],picLimit:3,showFlag:!0,rules:{name:[{required:!0,message:"请输入产品名称",trigger:"blur"}],no:[{required:!0,message:"请输入产品编号",trigger:"blur"}],username:[{required:!0,message:"请输入联系人",trigger:"blur"}],phone:[{required:!0,message:"请输入联系电话",trigger:"blur"}],address:[{required:!0,message:"请输入服务地址",trigger:"blur"}]},dialogImageUrl:"",dialogVisiblePic:!1,baseInfo:x.a,projectTypeMapping:["","运维","代运维"],opt:{project:[],mchList:[]},query:{project:"",mch:"",date:p()().format("YYYY-MM-DD")},VideoH5Url:null,alert:{operating:[],maintenance:[],weather:[]},maintenanceDuration:[{name:"1-1-17",startTime:"2022-3-18 09:00:00",endTime:"2022-3-18 17:00:00"}],checkAll:!1,checkedOpts:[],defaultChecked:["r_047"],curveOpt:[],isIndeterminate:!0,visible:!1,hls:null,seriesData:[],xAxisData:[],type:"time",loading:!1,yIndexMapping:["r_047","r_044","r_048","r_050,r_052","r_025,r_026,r_027","r_051,r_010,r_011,r_012,r_013,r_014,r_015"],onceFlag:!0,dialogVisibleRepair:!1}},computed:l()({},Object(f.c)(["selectCrew","currentProject"])),watch:{"query.mch":{handler:function(e,t){var a=this;this.$api.screenData.getsingleMchInfo({id:e}).then(function(e){var t=e.Data;t&&a.toggleSelectCrew(t)}),this.getData()}},"query.date":{handler:function(e,t){this.getData()}},"query.project":{handler:function(e,t){var a=this;this.$api.project.GetGensetProject({id:e}).then(function(e){var t=e.Data;t&&a.toggleCurrentProject(t)}),this.getMchList()}}},methods:l()({},Object(f.b)(["toggleSelectCrew","toggleCurrentProject"]),{getVideoUrl:function(){var e=this;this.$api.screenData.FindGeneratorSetByMonitor({id:this.query.mch}).then(function(t){var a=t.Data;if(e.VideoH5Url=a&&a.VideoH5Url?a.VideoH5Url:"",e.VideoH5Url){var i=new h.a;i.attachMedia(e.$refs.myVideo),i.on(h.a.Events.MEDIA_ATTACHED,function(t){i.loadSource(e.VideoH5Url),i.on(h.a.Events.MANIFEST_PARSED,function(){this.$refs.myVideo.play()})}),i.on(h.a.Events.ERROR,function(e,t){if(t.fatal)switch(t.type){case h.a.ErrorTypes.NETWORK_ERROR:console.error("fatal network error encountered, try to recover"),i.startLoad();break;case h.a.ErrorTypes.MEDIA_ERROR:console.error("fatal media error encountered, try to recover"),i.recoverMediaError();break;default:i.destroy()}}),e.hls=i}else e.hls&&e.hls.destroy()})},getBaseInfo:function(){var e=this,t={GeneratorSetId:this.query.mch};this.$api.operation.getGensetProjectGensetDetail({},t).then(function(t){var a=!!t.Data&&t.Data;if(a){e.baseInfo=l()({},a);try{e.baseInfo.GensetProject.StartDate=Object(b.c)(e.baseInfo.GensetProject.StartDate).format("YYYY-MM-DD"),e.baseInfo.GensetProject.EndDate=Object(b.c)(e.baseInfo.GensetProject.EndDate).format("YYYY-MM-DD"),e.baseInfo.GensetProject.ProjectType=e.projectTypeMapping[e.baseInfo.GensetProject.ProjectType]}catch(e){}}});var a={TimeStart:p()(this.query.date).format("YYYY-MM-DD 00:00:00"),TimeEnd:p()(this.query.date).add(1,"d").format("YYYY-MM-DD 00:00:00"),Mode:"-1"},i={id:this.query.mch};this.$api.operation.findGeneratorSetHistoryAlarm(a,i).then(function(t){var a=!!t.Data&&!!t.Data.Alarms&&t.Data.Alarms;if(a){var i=new Array;a.forEach(function(e){var t={time:Object(b.c)(e.StartTime).format("YYYY-MM-DD HH:00:00"),timeTrue:Object(b.c)(e.StartTime).format("HH:mm"),title:e.TypeName,content:e.Describe};i.push(t)});var r=new Object;i.forEach(function(e){var t=p()(e.time).get("hour");r[t]?r[t].items.push({time:e.timeTrue,content:e.content}):r[t]={items:[{time:e.timeTrue,content:e.content}],title:e.title,time:e.time}}),e.alert.operating=r,e.handleTime()}});var r={TimeStart:p()(this.query.date).format("YYYY-MM-DD 00:00:00"),TimeEnd:p()(this.query.date).add(1,"d").format("YYYY-MM-DD 00:00:00")},n={GeneratorSetId:this.query.mch};this.$api.operation.getGensetProjectGensetMaintenanceRemind(r,n).then(function(t){var a=!!t.Data&&t.Data;if(a.map(function(e){e.NextRemindDate=e.StartTime,e.ItemContent=e.Describe}),a){var i=new Array;a.forEach(function(e){var t={time:Object(b.c)(e.NextRemindDate).format("YYYY-MM-DD HH:00:00"),timeTrue:Object(b.c)(e.NextRemindDate).format("HH:mm"),title:"维保提醒",content:e.ItemContent};i.push(t)});var r=new Object;i.forEach(function(e){var t=p()(e.time).get("hour");r[t]?r[t].items.push({time:e.timeTrue,content:e.content}):r[t]={items:[{time:e.timeTrue,content:e.content}],title:e.title,time:e.time}}),e.alert.maintenance=r,e.handleTime()}});var o={TimeStart:p()(this.query.date).format("YYYY-MM-DD 00:00:00"),TimeEnd:p()(this.query.date).add(1,"d").format("YYYY-MM-DD 00:00:00")},s={GeneratorSetId:this.query.mch};this.$api.operation.getGensetWeather(o,s).then(function(t){var a=!!t.Data&&t.Data;if(a.map(function(e){e.NextRemindDate=e.StartTime,e.ItemContent=e.Describe}),a){var i=new Array;a.forEach(function(e){var t={time:e.SendTime,timeTrue:e.SendTime,title:"天气预警",content:e.Headline};i.push(t)});var r=new Object;i.forEach(function(e){var t=p()(e.time).get("hour");r[t]?r[t].items.push({time:e.timeTrue,content:e.content}):r[t]={items:[{time:e.timeTrue,content:e.content}],title:e.title,time:e.time}}),e.alert.weather=r,e.handleTime()}}),this.getVideoUrl()},getProjectList:function(){var e=this;this.$api.operation.findGensetProjectIndexProject().then(function(t){var a=!!t.Data&&t.Data;if(a&&a.length&&a.length>0){var i=new Array;a.forEach(function(e){var t={value:e.ProjectId,label:e.ProjectName};i.push(t)}),e.opt.project=i,e.$nextTick(function(){this.getMchListFirst()})}})},getMchList:function(){var e=this,t={ProjectId:this.query.project};this.$api.operation.findGensetProjectIndexGenset(t).then(function(t){var a=!!t.Data&&t.Data;if(a&&a.length&&a.length>0){var i=new Array;a.forEach(function(e){var t={value:e.GeneratorSetId,label:e.DisplayName};i.push(t)}),e.opt.mchList=i,e.$nextTick(function(){if(this.onceFlag){this.onceFlag=!1;var e=this.$route.query,t=void 0;e&&(t=e.crewId),this.query.mch=t?Number(t):this.selectCrew.ID}else this.query.mch=i[0].value})}else e.$message("该项目未绑定机组！"),e.opt.mchList=[],e.query.mch=""})},getMchListFirst:function(){var e=this,t=this.selectCrew&&!!this.selectCrew.ID&&this.selectCrew.ID,a=this.$route.query;if(a){var i=a.type,r=a.crewId;"newPage"===i&&(t=r)}t&&this.$api.operation.getGensetProjectGensetDetail({},{GeneratorSetId:t}).then(function(t){var a=t.Data;if(a){var i=a.GensetProject&&a.GensetProject.ProjectId;i?e.opt.project.forEach(function(t){t.value.toString()===i.toString()&&(e.query.project=t.value)}):e.query.project=e.opt.project[0].value}})},getCurveOpt:function(){this.curveOpt=[{value:"r_047",label:"转速"},{value:"r_051",label:"油压"},{value:"r_044",label:"功率因素"},{value:"r_050",label:"水温"},{value:"r_052",label:"燃油液位"},{value:"r_048",label:"电瓶电压"},{value:"r_010,r_011,r_012,r_013,r_014,r_015",label:"三相电压"},{value:"r_025,r_026,r_027",label:"三相电流"}]},getChartData:function(){var e=this,t=[];this.checkedOpts.forEach(function(e){t=[].concat(o()(t),o()(e.split(",")))});var a={TimeStart:p()(this.query.date).format("YYYY-MM-DD 00:00:00"),TimeEnd:p()().format("YYYY-MM-DD HH:mm:ss"),Items:t.join(",")};if(p()().format("YYYY-MM-DD")!=p()(this.query.date).format("YYYY-MM-DD")){var i=this.query.date;a.TimeStart=p()(i).hour(0).minute(0).second(0),a.TimeEnd=p()(i).hour(24).minute(0).second(0)}var n={GeneratorSetId:this.query.mch},s=+new Date;this.loading=!0,this.$api.operation.findGeneratorSetHistoryDataV4(a,n).then(function(t){var i=(+new Date-s)/1e3+"s";console.info("%c"+i,"color:red;background:yellow;font-weight:bold","(request)");var n=+new Date,o=0,l={};(!!t.Data&&t.Data).Datas.forEach(function(e){l[e.No]={describe:e.Describe,data:e.Data};var t=e.Data;l[e.No].dataMap=new r.a,t.forEach(function(t){l[e.No].dataMap.set(t.Time.split("/Date(")[1].split(")/")[0],t.Value)})});var c={begin:+p()(a.TimeStart),end:+p()(a.TimeEnd),interval:1};var d=[],h=[],u=0;for(var v in l){for(var f=l[v].describe,y=l[v].dataMap,g={name:f,yAxisIndex:e.getYAxisIndex(v),data:[]},_=0,b="-",x=c.begin;x<c.end;x+=1e3*c.interval){o++;var w=x,C=y.get(w.toString()),D="";void 0===C?_<300?(D=b,_+=c.interval):D="-":void 0!==C&&(D=C,b=C,_=0),"time"===e.type?g.data.push([x,D]):(g.data.push([w,D]),0!==u||h.push(w))}d.push(g),u++}e.seriesData=d,e.xAxisData=h;var k=[c.begin,c.end],I=m.a.cloneDeep(d);I.length>0&&(I[0].data.forEach(function(e,t){0===t&&"-"!==e[1]?k[1]=e[0]:"-"!==e[1]&&(k[1]=I[0].data[t-1][0])}),k[0]=+p()(k[1]).add(-2,"h"),k.push(p()(k[0]).format("yyyy-MM-DD HH:mm:ss")),k.push(p()(k[1]).format("yyyy-MM-DD HH:mm:ss"))),e.loading=!1,e.defaultChartInterval=k;var T=(+new Date-n)/1e3+"s";console.info("%c"+T,"color:red;background:yellow;font-weight:bold","(handle data)"),console.info("circulation %c"+o,"color:red;background:yellow;font-weight:bold","times")})},getData:function(){this.query.mch?(this.getBaseInfo(),this.getChartData()):this.$message("请选择机组！")},getYAxisIndex:function(e){var t=0;return this.yIndexMapping.forEach(function(a,i){a.includes(e)&&(t=i)}),t},handleShowBtn:function(){var e=this.showFlag,t=e?"收起":"展开";this.$message.success("项目信息已"+t+"!"),this.showFlag=!e},handleLinkTo:function(e){var t="/equipment/data-record/alarm-curve-record";switch(e){case 2:t="/equipment/data-record/oneclick-repairrecord";break;case 3:t="/equipment/data-record/starting-curve-record"}this.$router.push(t)},handleLinkToRA:function(e){var t=this,a=this.selectCrew,i={GeneratorSetId:a.ID,GeneratorName:a.DisplayName,GeneratorCollectorToken:a.CollectorToken,GeneratorSerial:a.Serial,ClientCompany:"",ClientName:"",ClientPhone:"",AuthCode:""};e?this.$router.push(e):this.$api.operation.addGenSetServiceSheet(i).then(function(e){t.$message("调参申请成功！"),t.$router.push("/operation/remoteTuning")})},handleLinkToRR:function(){this.$router.push("/equipment/data-record/alarm-curve-record")},handleCheckAllChange:function(e){var t=[];this.curveOpt.forEach(function(e){t.push(e.value)}),this.checkedOpts=e?t:[],this.isIndeterminate=!1},handleCheckedCitiesChange:function(e){var t=e.length;this.checkAll=t===this.curveOpt.length,this.isIndeterminate=t>0&&t<this.curveOpt.length},handleCurveParamChange:function(){this.query.mch?(this.visible=!1,this.getChartData()):this.$message("请选择机组！")},handleTime:function(){for(var e in this.alert){var t=this.alert[e];for(var a in t){var i=t[a],r=p()(i.time),n=60*r.hour()*60+60*r.minute()+r.second(),o=(100*n/86400).toFixed(2)+"%",s=r.format("HH:mm");i.minute=n,i.per=o,i.timeStr=s}}this.maintenanceDuration.forEach(function(e){var t=e.startTime,a=p()(t),i=(60*a.hour()*60+60*a.minute()+a.second())/86400;e.per=i})},handleCloseRepair:function(){this.handleRepairReset(),this.dialogVisibleRepair=!1},handleCommitRepair:function(){this.dialogVisibleRepair=!1},handleRepairReset:function(){this.$message("重置成功！"),this.$refs.form.resetFields(),this.$refs.refUploadPics.clearFiles()},handleSubmitForm:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return!1;e.$message("提交成功，请查看控制台信息"),console.info(e.form,e.$refs.refUploadPics)})},handleRemove:function(e){var t=e.uid,a=this.$refs.refUploadPics.uploadFiles;try{a.forEach(function(e,i){e.uid===t&&a.splice(i,1)})}catch(e){this.$message({type:"error",message:"删除失败！"}),console.error(e)}},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisiblePic=!0},handleExceed:function(){this.$message("仅限上传"+this.picLimit+"张图片！")},onChangePic:function(e,t){if(!(e.size/1024<=5120))return t.splice(t.indexOf(e),1),this.$message.warning("上传文件大小不能超过 5MB!"),!1}}),mounted:function(){this.checkedOpts=this.defaultChecked,this.getCurveOpt(),this.getProjectList(),this.handleTime()},destroyed:function(){this.hls&&this.hls.destroy()}},C={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("BMainTopComponent"),e._v(" "),a("div",{staticClass:"operational-chart-daily"},[a("div",{staticClass:"info-container"},[a("div",[a("div",{staticClass:"info-container-row"},[a("my-cell",{attrs:{title:"单日运维图报告",isHead:1,isTitle:1}}),e._v(" "),a("div",{staticClass:"press",on:{click:e.handleShowBtn}},[e._v(e._s(e.showFlag?"收起":"展开"))])],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showFlag,expression:"showFlag"}],staticClass:"info-container-row"},[a("my-cell",{attrs:{title:"项目信息",isHead:1}}),e._v(" "),a("my-cell",{attrs:{title:"机组信息",isHead:1}}),e._v(" "),a("my-cell",{attrs:{title:"配置信息",isHead:1}})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showFlag,expression:"showFlag"}],staticClass:"info-container-row"},[a("my-cell",{attrs:{title:"项目编号"}}),e._v(" "),a("my-cell",{attrs:{title:"",value:e.baseInfo.GensetProject.ProjectId}}),e._v(" "),a("my-cell",{attrs:{title:"项目名称"}}),e._v(" "),a("my-cell",{attrs:{title:"",value:e.baseInfo.GensetProject.ProjectName}}),e._v(" "),a("my-cell",{attrs:{title:"发动机型号"}}),e._v(" "),a("my-cell",{attrs:{title:"",value:e.baseInfo.EngineModel}}),e._v(" "),a("my-cell",{attrs:{title:"发电机型号"}}),e._v(" "),a("my-cell",{attrs:{title:"",value:e.baseInfo.GeneratorModel}}),e._v(" "),a("my-cell",{attrs:{title:"限制功率"}}),e._v(" "),a("my-cell",{attrs:{title:"",value:"●暂无"}}),e._v(" "),a("my-cell",{attrs:{title:"额定功率"}}),e._v(" "),a("my-cell",{attrs:{title:"",value:e.baseInfo.RatedPower}})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showFlag,expression:"showFlag"}],staticClass:"info-container-row"},[a("my-cell",{attrs:{title:"项目类型"}}),e._v(" "),a("my-cell",{attrs:{title:"",value:e.baseInfo.GensetProject.ProjectType}}),e._v(" "),a("my-cell",{attrs:{title:"项目时间"}}),e._v(" "),a("my-cell",{attrs:{title:"",value:e.baseInfo.GensetProject.StartDate}}),e._v(" "),a("my-cell",{attrs:{title:"控制器型号"}}),e._v(" "),a("my-cell",{attrs:{title:"",value:e.baseInfo.CollectorModel}}),e._v(" "),a("my-cell",{attrs:{col:2}}),e._v(" "),a("my-cell",{attrs:{title:"额定转速"}}),e._v(" "),a("my-cell",{attrs:{title:"",value:e.baseInfo.RatedSpeed}}),e._v(" "),a("my-cell",{attrs:{title:"额定电流"}}),e._v(" "),a("my-cell",{attrs:{title:"",value:e.baseInfo.RatedCurrent}})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showFlag,expression:"showFlag"}],staticClass:"info-container-row"},[a("my-cell",{attrs:{title:"项目地址"}}),e._v(" "),a("my-cell",{attrs:{title:"",value:e.baseInfo.GensetProject.ProjectAddress,col:3}}),e._v(" "),a("my-cell",{attrs:{col:4}}),e._v(" "),a("my-cell",{attrs:{title:"额定频率"}}),e._v(" "),a("my-cell",{attrs:{title:"",value:e.baseInfo.RatedFrequency}}),e._v(" "),a("my-cell",{attrs:{title:"额定电压"}}),e._v(" "),a("my-cell",{attrs:{title:"",value:e.baseInfo.RatedVoltage}})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showFlag,expression:"showFlag"}],staticClass:"info-container-row"},[a("my-cell",{attrs:{title:"启动次数"}}),e._v(" "),a("my-cell",{attrs:{title:"",value:e.baseInfo.BootTimes}}),e._v(" "),a("my-cell",{attrs:{title:"海拔"}}),e._v(" "),a("my-cell",{attrs:{title:"",value:e.baseInfo.Altitude}}),e._v(" "),a("my-cell",{attrs:{title:"环境温度"}}),e._v(" "),a("my-cell",{attrs:{title:"",value:e.baseInfo.Temperature}}),e._v(" "),a("my-cell",{attrs:{col:6}})],1)]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showFlag,expression:"showFlag"}],staticClass:"video-container"},[a("video",{ref:"myVideo",attrs:{width:"100%",height:"100%",controls:"controls",autoplay:"autoplay",muted:"muted"},domProps:{muted:!0}})])]),e._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:e.showFlag,expression:"showFlag"}],staticClass:"alert-container"},[a("div",{staticClass:"alert"},[a("div",[e._v("运行报警")]),e._v(" "),a("div",e._l(this.alert.operating,function(t,i){return a("el-popover",{key:i,attrs:{title:t.title,placement:"top-start",width:"200",trigger:"hover"}},[e._l(t.items,function(t,i){return a("p",{key:i,style:{color:"red"}},[e._v("\n              "+e._s(t.time)+" "+e._s(t.content)+"\n            ")])}),e._v(" "),a("div",[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:e.handleLinkToRR}},[e._v("点击跳转预警页面")])],1),e._v(" "),a("div",{staticClass:"a-alert",style:{left:t.per,zIndex:100-i},attrs:{slot:"reference"},slot:"reference"})],2)}),1)]),e._v(" "),a("div",{staticClass:"alert"},[a("div",[e._v("维保报警")]),e._v(" "),a("div",e._l(this.alert.maintenance,function(t,i){return a("el-popover",{key:i,attrs:{title:t.title,placement:"top-start",width:"200",trigger:"hover"}},[e._l(t.items,function(t,i){return a("p",{key:i,style:{color:"red"}},[e._v("\n              "+e._s(t.time)+" "+e._s(t.content)+"\n            ")])}),e._v(" "),a("div",[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:e.handleLinkToRR}},[e._v("点击跳转预警页面")])],1),e._v(" "),a("div",{staticClass:"a-alert",style:{left:t.per},attrs:{slot:"reference"},slot:"reference"})],2)}),1)]),e._v(" "),a("div",{staticClass:"alert"},[a("div",[e._v("天气")]),e._v(" "),a("div",e._l(this.alert.weather,function(t,i){return a("el-popover",{key:i,attrs:{title:t.title,placement:"top-start",width:"200",trigger:"hover"}},[e._l(t.items,function(t,i){return a("p",{key:i,style:{color:"red"}},[e._v("\n              "+e._s(t.time)+" "+e._s(t.content)+"\n            ")])}),e._v(" "),a("div",[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:e.handleLinkToRR}},[e._v("点击跳转预警页面")])],1),e._v(" "),a("div",{staticClass:"a-alert",style:{left:t.per},attrs:{slot:"reference"},slot:"reference"})],2)}),1)]),e._v(" "),a("div",{staticClass:"alert"},[a("div",[e._v("维保周期")]),e._v(" "),a("div",{staticClass:"duration"},[a("div",e._l(e.maintenanceDuration,function(t,i){return a("div",{key:i,style:{left:100*t.per+"%",borderLeft:0==Number(t.per)?"":"1px solid #7fb1df"},attrs:{duration:""}},[e._v("\n              "+e._s(t.name)+"\n            ")])}),0),e._v(" "),a("div",e._l(23,function(e,t){return a("div",{key:t,attrs:{tick:""}})}),0),e._v(" "),a("div",e._l(23,function(t,i){return a("div",{key:i,attrs:{text:""}},[e._v("\n              "+e._s((t>9?t:"0"+t)+":00")+"\n            ")])}),0)])])]),e._v(" "),a("el-row",{staticClass:"toolbox-container",attrs:{gutter:10}},[a("el-col",{attrs:{span:4}},[e._v("项目：\n        "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.query.project,callback:function(t){e.$set(e.query,"project",t)},expression:"query.project"}},e._l(e.opt.project,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("el-col",{attrs:{span:4}},[e._v("机组：\n        "),a("el-select",{attrs:{"no-data-text":"该项目未绑定机组"},model:{value:e.query.mch,callback:function(t){e.$set(e.query,"mch",t)},expression:"query.mch"}},e._l(e.opt.mchList,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("el-col",{attrs:{span:4}},[e._v("日期："),a("el-date-picker",{attrs:{clearable:!1,type:"date",placeholder:"选择日期",placement:"bottom-start"},model:{value:e.query.date,callback:function(t){e.$set(e.query,"date",t)},expression:"query.date"}})],1),e._v(" "),a("el-col",{attrs:{span:12}},[e._v("  \n        "),a("el-popover",{attrs:{placement:"top",width:"350",trigger:"manual"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("div",[a("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v("全选\n            ")]),e._v(" "),a("el-button",{staticStyle:{position:"absolute",right:"45px",top:"1px"},attrs:{type:"text"},on:{click:function(t){e.visible=!1}}},[e._v("关闭\n            ")]),e._v(" "),a("el-button",{staticStyle:{position:"absolute",right:"5px",top:"1px"},attrs:{type:"text"},on:{click:e.handleCurveParamChange}},[e._v("确定\n            ")]),e._v(" "),a("div",{staticStyle:{margin:"15px 0"}}),e._v(" "),a("el-row",[a("el-checkbox-group",{on:{change:e.handleCheckedCitiesChange},model:{value:e.checkedOpts,callback:function(t){e.checkedOpts=t},expression:"checkedOpts"}},e._l(e.curveOpt,function(t,i){return a("el-col",{key:i,attrs:{span:6}},[a("el-checkbox",{attrs:{label:t.value}},[e._v("\n                    "+e._s(t.label)+"\n                  ")])],1)}),1)],1)],1),e._v(" "),a("el-button",{attrs:{slot:"reference",type:"primary",size:"mini"},on:{click:function(t){e.visible=!0}},slot:"reference"},[e._v("曲线参数选择")])],1),e._v("\n          \n        "),a("el-popover",{attrs:{placement:"top",width:"380",trigger:"click"}},[a("el-row",{attrs:{type:"flex"}},[a("el-col",{style:{display:"flex",justifyContent:"center"},attrs:{span:8}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.handleLinkTo(1)}}},[e._v("报警曲线记录")])],1),e._v(" \n            "),a("el-col",{style:{display:"flex",justifyContent:"center"},attrs:{span:8}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.handleLinkTo(2)}}},[e._v("一键报修记录")])],1),e._v(" \n            "),a("el-col",{style:{display:"flex",justifyContent:"center"},attrs:{span:8}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.handleLinkTo(3)}}},[e._v("启动曲线记录")])],1)],1),e._v(" "),a("el-button",{attrs:{slot:"reference",type:"primary",size:"mini",title:""},slot:"reference"},[e._v("瞬时曲线")])],1),e._v("\n          \n        "),a("el-button",{attrs:{type:"primary",size:"mini",title:"点击跳转云消息推送"},on:{click:function(t){return e.handleLinkToRA("/operation/genset-cloud-message")}}},[e._v("云消息推送")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini",title:"点击一键报修"},on:{click:function(t){e.dialogVisibleRepair=!0}}},[e._v("一键报修")]),e._v("\n           \n        "),a("el-popconfirm",{attrs:{"confirm-button-text":"好的","cancel-button-text":"不用了","confirm-button-type":"primary",title:"是否确定发起调参申请？"},on:{confirm:function(t){return e.handleLinkToRA("")}}},[a("el-button",{attrs:{slot:"reference",type:"primary",size:"mini",title:"点击发起调参申请"},slot:"reference"},[e._v("调参申请")])],1)],1),e._v(" "),a("el-dialog",{attrs:{width:"30%",title:"服务申请",center:!0,visible:e.dialogVisibleRepair,"show-close":!1,"close-on-click-modal":!1,"close-on-press-escape":!0},on:{"update:visible":function(t){e.dialogVisibleRepair=t}}},[a("el-form",{ref:"form",attrs:{"label-position":"left",rules:e.rules,model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{prop:"name",label:"报修产品"}},[a("el-input",{attrs:{placeholder:"请输入产品"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"no",label:"出厂编号"}},[a("el-input",{attrs:{placeholder:"请输入出厂编号"},model:{value:e.form.no,callback:function(t){e.$set(e.form,"no",t)},expression:"form.no"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"username",label:"联系人"}},[a("el-input",{attrs:{placeholder:"请输入联系人"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"phone",label:"联系电话"}},[a("el-input",{attrs:{placeholder:"请输入联系电话"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"address",label:"服务地址"}},[a("el-input",{attrs:{placeholder:"请输入服务地址"},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"故障图片"}},[a("el-upload",{ref:"refUploadPics",attrs:{accept:".jpg, .jpeg, .png",action:"#","list-type":"picture-card","auto-upload":!1,limit:e.picLimit,"on-exceed":e.handleExceed,multiple:!0,"on-change":e.onChangePic},scopedSlots:e._u([{key:"file",fn:function(t){var i=t.file;return a("div",{},[a("img",{staticClass:"el-upload-list__item-thumbnail",attrs:{src:i.url,alt:""}}),e._v(" "),a("span",{staticClass:"el-upload-list__item-actions"},[a("span",{staticClass:"el-upload-list__item-preview",on:{click:function(t){return e.handlePictureCardPreview(i)}}},[a("i",{staticClass:"el-icon-zoom-in"})]),e._v(" "),a("span",{staticClass:"el-upload-list__item-delete",on:{click:function(t){return e.handleRemove(i)}}},[a("i",{staticClass:"el-icon-delete"})])])])}}])},[a("i",{staticClass:"el-icon-plus",attrs:{slot:"default"},slot:"default"})])],1),e._v(" "),a("el-form-item",{attrs:{prop:"desc",label:"故障描述"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.desc,callback:function(t){e.$set(e.form,"desc",t)},expression:"form.desc"}})],1),e._v(" "),a("el-form-item",[a("el-button",{on:{click:e.handleCloseRepair}},[e._v("取消")]),e._v(" "),a("el-button",{on:{click:e.handleRepairReset}},[e._v("重置")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.handleSubmitForm}},[e._v("提交")])],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{"modal-append-to-body":!0,visible:e.dialogVisiblePic},on:{"update:visible":function(t){e.dialogVisiblePic=t}}},[a("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1),e._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"chart-container",attrs:{"element-loading-text":"数据加载中..."}},[a("my-chart",{attrs:{showFlag:e.showFlag,type:e.type,defaultChartInterval:e.defaultChartInterval,seriesData:e.seriesData,xAxisData:e.xAxisData}})],1)],1)],1)},staticRenderFns:[]};var D=a("VU/8")(w,C,!1,function(e){a("DuKt")},"data-v-d5e1a046",null);t.default=D.exports},"QJP/":function(e,t){},qoLa:function(e,t,a){"use strict";a.d(t,"a",function(){return i});var i={GeneratorSetId:"",DisplayName:"",CollectorToken:"",CollectorBrand:"",CollectorModel:"",GeneratorBrand:"",GeneratorModel:"",EngineBrand:"",EngineModel:"",RatedSpeed:"",RatedFrequency:"",RatedVoltage:"",RatedCurrent:"",RatedPower:"",Altitude:"",Temperature:"",InstallationSite:"",RunHourTotal:"",BootTimes:"",TotalElectricalEnergy:"",GensetProject:{ProjectId:"",ProjectNumber:"",ProjectName:"",ProjectType:"",ProjectArea:"",ProjectAddress:"",StartDate:"",EndDate:""}}}});
//# sourceMappingURL=32.7afbb60d231588babc3b.js.map