{"version":3,"sources":["webpack:///src/views/settingManagement/agreementManage/maintenanceStrategy/index.vue","webpack:///./src/views/settingManagement/agreementManage/maintenanceStrategy/index.vue?3b2d","webpack:///./src/views/settingManagement/agreementManage/maintenanceStrategy/index.vue","webpack:///./src/views/settingManagement/agreementManage/maintenanceStrategy/data.js"],"names":["maintenanceStrategy","name","mixins","paginationConfigMixin","data","searchForm","StrategyName","EngineBrandId","Type","Status","dropdown","options","index","labelIndex","props","width","loading","columns","dataSource","dataSourceAll","statusList","mounted","this","init","queryTableData","methods","Object","table","getEngineBrandList","jump","$router","push","path","_this","$api","operation","GetMaintenanceGensetEngineBrand","then","res","Code","brandList","Data","map","item","value","label","BrandName","$set","operates","that","method","row","checkHandler","raw","_this2","query","rawData","$confirm","message","IsUsing","dangerouslyUseHTMLString","e","StrategyId","EnableDisableMaintenanceGensetStrategy","$message","type","Message","catch","err","_this3","Page","paginationCfg","currentPage","PageSize","pageSize","params","extends_default","GetMaintenanceGensetStrategyManage","dataTotal","TotalItemCount","agreementManage_maintenanceStrategy","render","_vm","_h","$createElement","_c","_self","_v","staticClass","attrs","placeholder","model","callback","$$v","expression","popper-append-to-body","_l","key","size","plain","on","click","$event","resetCurrentParams","shadow","pagination","handleChangePage","handleChangeSize","_b","slot","align","scopedSlots","_u","fn","scope","_s","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","d","seriesList","strategyType","strategyState","prop","minWidth","formatter","column","find","UpDateTime","$moment","format","brand","state","lastEditor","lastEditorTime","ID","series","beatDuration","beatTotal","periodDuration","periodTotal","duration","items","operatingTime","absoluteTime","lastEditTime","username","editTable","table_columns","dataArray"],"mappings":"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","file":"static/js/38.16188beee2626fe5a1ac.js","sourcesContent":["<!--\r\n * @Autor: Demon3443002624@qq.com\r\n * @Date: 20220311 周五\r\n * @LastEditors: linxu\r\n * @LastEditTime: 2022-06-10 15:09:00\r\n * @Description: 维保策略（新）页面\r\n-->\r\n<template>\r\n  <div>\r\n    <BMainTopComponent />\r\n    <div class=\"maintenance-strategy\">\r\n      <div class=\"search-box\">\r\n        <div class=\"search-item\">\r\n          <span>维保策略名称:</span>\r\n          <el-input v-model=\"searchForm.StrategyName\" placeholder=\"请输入\"> </el-input>\r\n        </div>\r\n        <div class=\"search-item\">\r\n          <span>发动机品牌:</span>\r\n          <el-select\r\n            v-model=\"searchForm.EngineBrandId\"\r\n            placeholder=\"请选择\"\r\n            :popper-append-to-body=\"false\"\r\n          >\r\n            <el-option label=\"全部\" :value=\"-1\"></el-option>\r\n            <el-option\r\n              v-for=\"item in dropdown.model\"\r\n              :key=\"item.value\"\r\n              :label=\"item.label\"\r\n              :value=\"item.value\"\r\n            >\r\n            </el-option>\r\n          </el-select>\r\n        </div>\r\n        <div class=\"search-item\">\r\n          <span>策略主备分类:</span>\r\n          <el-select v-model=\"searchForm.Type\" placeholder=\"请选择\" :popper-append-to-body=\"false\">\r\n            <el-option label=\"全部\" :value=\"0\"></el-option>\r\n            <el-option\r\n              v-for=\"item in dropdown.strategyType\"\r\n              :key=\"item.value\"\r\n              :label=\"item.label\"\r\n              :value=\"item.value\"\r\n            >\r\n            </el-option>\r\n          </el-select>\r\n        </div>\r\n        <div class=\"search-item\">\r\n          <span>维保策略状态:</span>\r\n          <el-select\r\n            v-model=\"searchForm.Status\"\r\n            placeholder=\"请选择维保策略状态\"\r\n            :popper-append-to-body=\"false\"\r\n          >\r\n            <el-option\r\n              v-for=\"item in dropdown.strategyState\"\r\n              :key=\"item.value\"\r\n              :label=\"item.label\"\r\n              :value=\"item.value\"\r\n            >\r\n            </el-option>\r\n          </el-select>\r\n        </div>\r\n        <div class=\"search-item\">\r\n          <el-button size=\"mini\" plain @click=\"resetCurrentParams()\">查询</el-button>\r\n          <el-button size=\"mini\" type=\"primary\" @click=\"jump\">新建</el-button>\r\n        </div>\r\n      </div>\r\n      <!-- <div style=\"margin-bottom: 16px\">\r\n        <el-button @click=\"jump\">新建维保策略</el-button>\r\n      </div> -->\r\n      <el-card shadow=\"never\">\r\n        <table-list\r\n          :options=\"options\"\r\n          :columns=\"columns\"\r\n          :dataSource=\"dataSource\"\r\n          :dataTotal=\"dataTotal\"\r\n          :pagination=\"paginationCfg\"\r\n          :loading=\"loading\"\r\n          @handleChangePage=\"handleChangePage\"\r\n          @handleChangeSize=\"handleChangeSize\"\r\n        >\r\n          <!-- :operates=\"operates(this)\" -->\r\n          <el-table-column\r\n            slot=\"operation\"\r\n            label=\"操作\"\r\n            align=\"center\"\r\n            v-bind=\"options && options.props\"\r\n          >\r\n            <template slot-scope=\"scope\">\r\n              <div class=\"operate-group\">\r\n                <el-button type=\"text\" @click=\"checkHandler(scope.row, 1)\"> 查看 </el-button>\r\n                <el-button type=\"text\" @click=\"checkHandler(scope.row, 2)\">\r\n                  {{ scope.row.IsUsing ? '禁用' : '启用' }}\r\n                </el-button>\r\n              </div>\r\n            </template>\r\n          </el-table-column>\r\n        </table-list>\r\n      </el-card>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { paginationConfigMixin } from '@/mixins/paginationConfigMixin'\r\nimport { data as _data } from './data'\r\n\r\nexport default {\r\n  name: 'MaintenanceStrategy',\r\n  mixins: [paginationConfigMixin],\r\n  data() {\r\n    return {\r\n      // 筛选条件\r\n      searchForm: {\r\n        StrategyName: '',\r\n        EngineBrandId: -1,\r\n        Type: 0,\r\n        Status: 2\r\n      },\r\n      // 下拉选择选项\r\n      dropdown: {},\r\n      // *** 自定义表格相关\r\n      options: {\r\n        index: true,\r\n        labelIndex: '序号',\r\n        props: {\r\n          width: 126 // 操作列宽度\r\n        }\r\n      },\r\n      loading: false,\r\n      columns: [],\r\n      dataSource: [],\r\n      dataSourceAll: [],\r\n      // *** 自定义表格相关 end\r\n      statusList: []\r\n    }\r\n  },\r\n  mounted() {\r\n    this.init()\r\n    this.queryTableData()\r\n  },\r\n  methods: {\r\n    // *** functional\r\n    // 初始化数据\r\n    init() {\r\n      this.columns = _data(this).table.columns\r\n      this.dropdown = _data(this).dropdown\r\n      this.getEngineBrandList()\r\n    },\r\n    // 跳转新建维保策略\r\n    jump() {\r\n      this.$router.push({\r\n        path: '/setting/agreement-management/maintenance-strategy-new-add'\r\n      })\r\n    },\r\n    // 查询发动机品牌\r\n    getEngineBrandList() {\r\n      this.$api.operation.GetMaintenanceGensetEngineBrand().then((res) => {\r\n        if (res.Code === 1) {\r\n          const brandList = res.Data.map((item) => {\r\n            return {\r\n              value: item.EngineBrandId,\r\n              label: item.BrandName\r\n            }\r\n          })\r\n          this.$set(this.dropdown, 'model', brandList)\r\n        }\r\n      })\r\n    },\r\n\r\n    // *** 自定义表格相关\r\n    // 操作列\r\n    operates(that) {\r\n      return [\r\n        {\r\n          label: '查看',\r\n          method: (row) => {\r\n            that.checkHandler(row, 1)\r\n          }\r\n        },\r\n        {\r\n          label: '禁用',\r\n          method: (row) => {\r\n            that.checkHandler(row, 2)\r\n          }\r\n        },\r\n        {\r\n          label: '删除',\r\n          method: (row) => {\r\n            that.checkHandler(row, 3)\r\n          }\r\n        }\r\n      ]\r\n    },\r\n    // 操作列处理方法\r\n    checkHandler(raw, index) {\r\n      switch (index) {\r\n        // 查看\r\n        case 1:\r\n          this.$router.push({\r\n            path: '/setting/agreement-management/maintenance-strategy-new-check',\r\n            query: {\r\n              rawData: raw\r\n            }\r\n          })\r\n          break\r\n        // 禁用\r\n        case 2:\r\n          this.$confirm('', '', {\r\n            message: `确认<span style=\"color:red;font-weight:bold\">${\r\n              raw.IsUsing ? '禁用' : '启用'\r\n            }</span>该策略？`,\r\n            dangerouslyUseHTMLString: true\r\n          })\r\n            .then((e) => {\r\n              const query = { StrategyId: raw.StrategyId }\r\n              this.$api.operation.EnableDisableMaintenanceGensetStrategy({}, query).then((res) => {\r\n                if (res.Code === 1) {\r\n                  this.$message({\r\n                    type: 'success',\r\n                    message: res.Message\r\n                  })\r\n                  this.queryTableData()\r\n                }\r\n              })\r\n            })\r\n            .catch((err) => {})\r\n          break\r\n        // 删除\r\n        case 3:\r\n          this.$confirm('', '', {\r\n            message: '确认<span style=\"color:red;font-weight:bold\">删除</span>该策略？',\r\n            dangerouslyUseHTMLString: true\r\n          })\r\n            .then((e) => {})\r\n            .catch((err) => {})\r\n          break\r\n        // 维保事项\r\n        default:\r\n          // this.$router.push({\r\n          //   path: '/setting/agreement-management/maintenance-strategy-new-edit',\r\n          //   query: {\r\n          //     rawData: raw.rawData\r\n          //   }\r\n          // })\r\n          break\r\n      }\r\n    },\r\n\r\n    // 查询数据（数据筛选）\r\n    queryTableData() {\r\n      this.loading = true\r\n      const query = {\r\n        Page: this.paginationCfg.currentPage,\r\n        PageSize: this.paginationCfg.pageSize\r\n      }\r\n      const params = {\r\n        ...this.searchForm\r\n      }\r\n      this.$api.operation\r\n        .GetMaintenanceGensetStrategyManage(params, query)\r\n        .then((res) => {\r\n          if (res.Code === 1) {\r\n            this.dataTotal = res.Data.TotalItemCount\r\n            this.$set(this, 'dataSource', res.Data.Data)\r\n          }\r\n          this.loading = false\r\n        })\r\n        .catch(() => {\r\n          this.loading = false\r\n        })\r\n    }\r\n\r\n    // *** 自定义表格相关 end\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.maintenance-strategy {\r\n  .search-box {\r\n    .search-item {\r\n      // 19*3=57 25 13 5\r\n      width: 19%;\r\n      &:first-child {\r\n        width: 25%;\r\n      }\r\n      &:last-child {\r\n        width: 13%;\r\n        margin: 0 0 0 5%;\r\n      }\r\n    }\r\n    // .el-button {\r\n    //   position: absolute;\r\n    //   right: 6%;\r\n    //   width: 6%;\r\n    //   padding: 0;\r\n    //   box-sizing: border-box;\r\n    // }\r\n  }\r\n  .el-table__cell:first-child .cell {\r\n    white-space: nowrap;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/settingManagement/agreementManage/maintenanceStrategy/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('BMainTopComponent'),_vm._v(\" \"),_c('div',{staticClass:\"maintenance-strategy\"},[_c('div',{staticClass:\"search-box\"},[_c('div',{staticClass:\"search-item\"},[_c('span',[_vm._v(\"维保策略名称:\")]),_vm._v(\" \"),_c('el-input',{attrs:{\"placeholder\":\"请输入\"},model:{value:(_vm.searchForm.StrategyName),callback:function ($$v) {_vm.$set(_vm.searchForm, \"StrategyName\", $$v)},expression:\"searchForm.StrategyName\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"search-item\"},[_c('span',[_vm._v(\"发动机品牌:\")]),_vm._v(\" \"),_c('el-select',{attrs:{\"placeholder\":\"请选择\",\"popper-append-to-body\":false},model:{value:(_vm.searchForm.EngineBrandId),callback:function ($$v) {_vm.$set(_vm.searchForm, \"EngineBrandId\", $$v)},expression:\"searchForm.EngineBrandId\"}},[_c('el-option',{attrs:{\"label\":\"全部\",\"value\":-1}}),_vm._v(\" \"),_vm._l((_vm.dropdown.model),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})})],2)],1),_vm._v(\" \"),_c('div',{staticClass:\"search-item\"},[_c('span',[_vm._v(\"策略主备分类:\")]),_vm._v(\" \"),_c('el-select',{attrs:{\"placeholder\":\"请选择\",\"popper-append-to-body\":false},model:{value:(_vm.searchForm.Type),callback:function ($$v) {_vm.$set(_vm.searchForm, \"Type\", $$v)},expression:\"searchForm.Type\"}},[_c('el-option',{attrs:{\"label\":\"全部\",\"value\":0}}),_vm._v(\" \"),_vm._l((_vm.dropdown.strategyType),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})})],2)],1),_vm._v(\" \"),_c('div',{staticClass:\"search-item\"},[_c('span',[_vm._v(\"维保策略状态:\")]),_vm._v(\" \"),_c('el-select',{attrs:{\"placeholder\":\"请选择维保策略状态\",\"popper-append-to-body\":false},model:{value:(_vm.searchForm.Status),callback:function ($$v) {_vm.$set(_vm.searchForm, \"Status\", $$v)},expression:\"searchForm.Status\"}},_vm._l((_vm.dropdown.strategyState),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_vm._v(\" \"),_c('div',{staticClass:\"search-item\"},[_c('el-button',{attrs:{\"size\":\"mini\",\"plain\":\"\"},on:{\"click\":function($event){return _vm.resetCurrentParams()}}},[_vm._v(\"查询\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":_vm.jump}},[_vm._v(\"新建\")])],1)]),_vm._v(\" \"),_c('el-card',{attrs:{\"shadow\":\"never\"}},[_c('table-list',{attrs:{\"options\":_vm.options,\"columns\":_vm.columns,\"dataSource\":_vm.dataSource,\"dataTotal\":_vm.dataTotal,\"pagination\":_vm.paginationCfg,\"loading\":_vm.loading},on:{\"handleChangePage\":_vm.handleChangePage,\"handleChangeSize\":_vm.handleChangeSize}},[_c('el-table-column',_vm._b({attrs:{\"slot\":\"operation\",\"label\":\"操作\",\"align\":\"center\"},slot:\"operation\",scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"operate-group\"},[_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.checkHandler(scope.row, 1)}}},[_vm._v(\" 查看 \")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.checkHandler(scope.row, 2)}}},[_vm._v(\"\\n                \"+_vm._s(scope.row.IsUsing ? '禁用' : '启用')+\"\\n              \")])],1)]}}])},'el-table-column',_vm.options && _vm.options.props,false))],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-773c0b0e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/settingManagement/agreementManage/maintenanceStrategy/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-773c0b0e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-773c0b0e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-773c0b0e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/settingManagement/agreementManage/maintenanceStrategy/index.vue\n// module id = null\n// module chunks = ","export const data = (that) => {\r\n  return {\r\n    // 下拉选择选项配置\r\n    dropdown: {\r\n      // 品牌\r\n      model: [\r\n        {\r\n          value: 0,\r\n          label: '全部'\r\n        },\r\n        {\r\n          value: 1,\r\n          label: '上柴'\r\n        },\r\n        {\r\n          value: 2,\r\n          label: '潍柴'\r\n        },\r\n        {\r\n          value: 3,\r\n          label: '玉柴'\r\n        },\r\n        {\r\n          value: 4,\r\n          label: '孚创柴'\r\n        }\r\n      ],\r\n      // 系列\r\n      seriesList: [],\r\n      // 策略主备分类枚举\r\n      strategyType: [\r\n        {\r\n          value: 1,\r\n          label: '备用机'\r\n        },\r\n        {\r\n          value: 2,\r\n          label: '主用机'\r\n        }\r\n      ],\r\n      strategyState: [\r\n        {\r\n          value: 0,\r\n          label: '全部'\r\n        },\r\n        {\r\n          value: 2,\r\n          label: '启用'\r\n        },\r\n        {\r\n          value: 1,\r\n          label: '禁用'\r\n        }\r\n      ]\r\n    },\r\n    // 自定义表格相关\r\n    table: {\r\n      columns: [\r\n        {\r\n          label: '维保策略名称',\r\n          prop: 'StrategyName',\r\n          minWidth: '15%'\r\n        },\r\n        {\r\n          label: '发动机品牌',\r\n          prop: 'EngineBrandName',\r\n          minWidth: '15%'\r\n        },\r\n        {\r\n          label: '发动机系列',\r\n          prop: 'EngineSeriesName',\r\n          minWidth: '15%'\r\n        },\r\n        {\r\n          label: '策略主备分类',\r\n          prop: 'Type',\r\n          minWidth: '15%',\r\n          formatter: (row, column, index) => {\r\n            return row.Type\r\n              ? that.dropdown.strategyType.find((item) => item.value == row.Type).label\r\n              : ''\r\n          }\r\n        },\r\n        {\r\n          label: '策略主备状态',\r\n          prop: 'IsUsing',\r\n          minWidth: '15%',\r\n          formatter: (row, column, index) => {\r\n            return row.IsUsing ? '启用' : '禁用'\r\n          }\r\n        },\r\n        {\r\n          label: '最后编辑人',\r\n          prop: 'UpDateUserName',\r\n          minWidth: '15%'\r\n        },\r\n        {\r\n          label: '最后编辑时间',\r\n          prop: 'UpDateTime',\r\n          minWidth: '20%',\r\n          formatter: (row, column, index) => {\r\n            return row.UpDateTime ? that.$moment(row.UpDateTime).format('yyyy-MM-DD HH:mm:ss') : ''\r\n          }\r\n        }\r\n      ],\r\n      dataSource: [\r\n        {\r\n          name: '上柴E系列维保方案',\r\n          brand: '上柴',\r\n          model: 'E',\r\n          type: '备用机',\r\n          state: '启用',\r\n          lastEditor: '李娜',\r\n          lastEditorTime: '2022-3-11',\r\n          rawData: {\r\n            ID: 1,\r\n            name: '上柴策略A',\r\n            model: '上柴',\r\n            series: 'E',\r\n            state: '启用',\r\n            beatDuration: 8,\r\n            beatTotal: 60,\r\n            periodDuration: '8*60',\r\n            periodTotal: 4,\r\n            duration: '8*60*4',\r\n            type: '备用机',\r\n            items: [\r\n              {\r\n                name: '维保事项名字',\r\n                operatingTime: '120小时',\r\n                absoluteTime: '5天',\r\n                lastEditTime: '2022-3-15 11:12:18',\r\n                username: '张三'\r\n              }\r\n            ]\r\n          }\r\n        }\r\n      ]\r\n    },\r\n    // 可编辑表格数据\r\n    editTable: {\r\n      table_columns: [\r\n        {\r\n          prop: 'ItemContent',\r\n          label: '维保事项',\r\n          width: '100'\r\n        },\r\n        {\r\n          prop: 'DefaultHourSetting',\r\n          label: '运行时间',\r\n          width: '100'\r\n        },\r\n        {\r\n          prop: 'DefaultDaySetting',\r\n          label: '绝对时间',\r\n          width: '100'\r\n        }\r\n      ],\r\n      dataArray: []\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/settingManagement/agreementManage/maintenanceStrategy/data.js"],"sourceRoot":""}