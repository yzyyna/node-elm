webpackJsonp([48],{EThk:function(e,t){},YTY5:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=o("oCG/"),n=o("Ayik"),r={name:"GensetProgress",components:{GensetProgressRecordsDialog:s.a},props:["configData"],data:function(){return{loading:!1,loading_1:!1,ProjectId:null,GensetId:null,crewColumns:n.a.crewInfoColumns(this),crewDataSource:[],searchForm:{type:"",type1:""},columns:n.a.gensetProgressColumns(this),dataSource:[],options:{index:!0,labelIndex:"序号",props:{width:126}},selectItem:null,RecordsDialogVisible:!1}},watch:{configData:{handler:function(e,t){console.log("configData",e),this.ProjectId=e.projectId,this.GensetId=e.gensetId},deep:!0,immediate:!0}},mounted:function(){console.log(this.ProjectId,this.GensetId),this.queryTableData()},methods:{getGensetDetail:function(){var e=this,t={GeneratorSetId:this.GensetId};this.$api.project.GetGensetProjectJoinGensetDetail({},t).then(function(t){1===t.Code&&e.$set(e,"crewDataSource",[t.Data])})},queryTableData:function(){var e=this;this.loading=!0;var t={ProjectId:this.ProjectId,ProgressType:1,GeneratorSetId:this.GensetId};this.$api.project.GetGensetProjectProgressSetting(t).then(function(t){1===t.Code&&e.$set(e,"dataSource",t.Data),e.loading=!1}).catch(function(){e.loading=!1})},reset:function(){this.$set(this,"searchForm",{type:"",type1:""})},handleProjectProgressClick:function(e){this.selectItem=e,this.RecordsDialogVisible=!0},closeDialog:function(e,t){this[e]=!1,t&&t.refresh&&this.queryTableData()},handleBackClick:function(){this.$router.push({path:"/project/project-detail",query:{active:2}})}}},a={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{staticClass:"genset-progress-manage"},[o("p",{staticClass:"content-title"},[e._v("工程进度")]),e._v(" "),o("TableList",{directives:[{name:"loading",rawName:"v-loading",value:e.loading_1,expression:"loading_1"}],attrs:{options:e.options,columns:e.columns,dataSource:e.dataSource,border:""}},[o("el-table-column",e._b({attrs:{slot:"operation",label:"操作",align:"center"},slot:"operation",scopedSlots:e._u([{key:"default",fn:function(t){return[o("div",{staticClass:"operate-group",staticStyle:{"text-align":"right"}},[o("el-button",{attrs:{type:"text",disabled:0==t.row.RecordCount},on:{click:function(o){return e.handleProjectProgressClick(t.row)}}},[e._v("\n              工程进度管理\n            ")])],1)]}}])},"el-table-column",e.options&&e.options.props,!1))],1),e._v(" "),e.RecordsDialogVisible?o("GensetProgressRecordsDialog",{attrs:{ProjectProgressId:e.selectItem.ProgressId,ProjectId:e.ProjectId,GensetId:e.GensetId},on:{closeDialog:function(t){return e.closeDialog("RecordsDialogVisible",t)}}}):e._e()],1)])},staticRenderFns:[]};var i=o("VU/8")(r,a,!1,function(e){o("EThk")},"data-v-59098d48",null);t.default=i.exports}});
//# sourceMappingURL=48.98de04afdad18d617a73.js.map