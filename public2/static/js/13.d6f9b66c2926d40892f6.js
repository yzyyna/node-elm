webpackJsonp([13],{"1tyj":function(e,a){},IJNH:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=t("Dd8w"),l=t.n(n),r=t("oqQY"),i=t.n(r),o=t("NYxO"),p=t("X2Oc"),u=[{label:"机组名称",prop:"mch_name",props:{}},{label:"类型",prop:"type"},{label:"时间",prop:"time"}],s={name:"crewRecordOperating",components:{ToggleCrew:t("5w7s").a},data:function(){return{columns:u,dataSource:[],dataTotal:0,options:{index:!0,labelIndex:"序号"},paginationCfg:{currentPage:1,pageSize:10,layout:"total, sizes, prev, pager, next, jumper",pageSizes:[10,20,30,40]},data:[],value_date:[new Date((new Date).setDate((new Date).getDate()-7)),new Date],value_type:"-1",queryOpt:{},typeOpt:[{value:"-1",label:"全部"},{value:9,label:"离线"},{value:10,label:"上线"}],typeMapping:{9:"离线",10:"上线"}}},computed:l()({},Object(o.c)(["selectCrew"])),watch:{selectCrew:{handler:function(e){this._query()}}},created:function(){this.queryOpt={value_date:this.value_date,value_type:this.value_type}},mounted:function(){this._query()},methods:{queryTableData:function(){var e=this,a={pageSize:this.paginationCfg.pageSize,page:this.paginationCfg.currentPage},t={DateStart:i()(this.queryOpt.value_date[0]).format("YYYY-MM-DD"),DateEnd:i()(this.queryOpt.value_date[1]).format("YYYY-MM-DD"),Type:this.queryOpt.value_type,GeneratorSetId:this.selectCrew.ID};this.$api.equipment.getOnOfflineRecords(t,a).then(function(a){var t=!!a&&!!a.Data&&a.Data;if(t){var n=[],l=t.Data;!l||0===l.length||l.forEach(function(a,t){var l={key:t,mch_name:a.DisplayName,type:e.typeMapping[a.Type],time:Object(p.c)(a.Time).format("YYYY-MM-DD HH:mm:ss")};n.push(l)}),e.dataTotal=t.TotalItemCount,e.$set(e,"dataSource",n)}}).catch(function(){})},handleNewJump:function(e){},handleChangePage:function(e){this.paginationCfg.currentPage=e,this.queryTableData()},handleChangeSize:function(e){this.paginationCfg.currentPage=1,this.paginationCfg.pageSize=e,this.queryTableData()},_query:function(){this.paginationCfg.currentPage=1,this.queryOpt={value_date:this.value_date,value_type:this.value_type},this.queryTableData()}}},c={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("BMainTopComponent"),e._v(" "),t("el-container",[t("el-main",[t("div",{attrs:{id:"crew-record-operating"}},[t("el-card",{attrs:{shadow:"never"}},[t("div",{staticClass:"block"},[t("span",[e._v("筛选：")]),e._v(" "),t("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间",format:"yyyy-MM-dd","popper-append-to-body":!1,placement:"bottom-start"},model:{value:e.value_date,callback:function(a){e.value_date=a},expression:"value_date"}})],1),e._v(" "),t("el-row",{attrs:{type:"flex",align:"middle"}},[e._v("\n                类型：\n            "),t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.value_type,callback:function(a){e.value_type=a},expression:"value_type"}},e._l(e.typeOpt,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:e._query}},[e._v("搜索")])],1),e._v(" "),t("el-card",{attrs:{shadow:"never"}},[t("table-list",{attrs:{options:e.options,columns:e.columns,dataSource:e.dataSource,dataTotal:e.dataTotal,pagination:e.paginationCfg},on:{handleChangePage:e.handleChangePage,handleChangeSize:e.handleChangeSize}})],1)],1)]),e._v(" "),t("toggle-crew")],1)],1)},staticRenderFns:[]};var d=t("VU/8")(s,c,!1,function(e){t("1tyj")},"data-v-0b777bc9",null);a.default=d.exports}});
//# sourceMappingURL=13.d6f9b66c2926d40892f6.js.map