{"version":3,"sources":["webpack:///src/views/projectManage/projectProgressManage/components/GensetRelatedDialog.vue","webpack:///./src/views/projectManage/projectProgressManage/components/GensetRelatedDialog.vue?375e","webpack:///./src/views/projectManage/projectProgressManage/components/GensetRelatedDialog.vue","webpack:///src/views/projectManage/projectProgressManage/ProjectProgressRecords.vue","webpack:///./src/views/projectManage/projectProgressManage/ProjectProgressRecords.vue?dc74","webpack:///./src/views/projectManage/projectProgressManage/ProjectProgressRecords.vue"],"names":["GensetRelatedDialog","name","props","recordParmas","type","Object","default","RecordId","Number","OperateType","components","RecordFormDialog","watch","handler","newVal","oldVal","console","log","this","projectStatus","ProjectId","ProjectProgressId","IsGensetMult","deep","immediate","data","loading","dialigVisible","title","columns","components_data","GensetRalatedColumns","options","index","labelIndex","selection","width","gensetTableData","selectList","RecordFormDialogVisible","computed","selectText","map","item","CollectorToken","join","GensetList","GeneratorSetId","mounted","queryTableData","methods","querySelectList","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","query","list","wrap","_context","prev","next","$api","project","GetGensetProjectProgressRecordDetail","then","res","Code","Data","extends_default","GeneratorSet","sent","$set","stop","_this2","params","GetGensetProjectJoinGensetByAll","ID","ProjectJoinGensetId","IsParallel","catch","handleBatchRelated","row","_this3","id","EditGensetProjectProgressRecordGenset","$message","success","Message","$emit","refresh","handleSelectionChange","val","nextStep","length","warning","close","closeDialog","key","components_GensetRelatedDialog","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","visible","close-on-click-modal","close-on-press-escape","append-to-body","on","update:visible","$event","directives","rawName","value","expression","dataSource","defaultSelectData","border","_v","slot","_s","click","_e","disabled","staticRenderFns","projectProgressManage_components_GensetRelatedDialog","__webpack_require__","normalizeComponent","ssrContext","ProjectProgressRecords","GensetProgressRecordsDialog","loading_1","IsGenset","GensetId","projectProgressRecordsColumns","gensetRecord","progressRecordsColumns","GensetRelatedDialogVisible","RecordsDialogVisible","ProgressId","GetGensetProjectProgressRecord","queryGensetTableData","GetGensetProjectProgressGensetByAll","ProgressName","RecordCount","Type","addProgressRecord","showProgressRecord","deleteProgressRecord","h","$confirm","message","confirmButtonText","cancelButtonText","DeleteGensetProjectProgressRecord","handleDownloadClick","relatedGenset","showGensetProgressRecord","handleBackClick","$router","push","path","active","projectProgressManage_ProjectProgressRecords","_b","label","align","scopedSlots","_u","fn","scope","ProjectProgressRecords_Component","ProjectProgressRecords_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/36.8fe1c21c8f8fe9be052e.js","sourcesContent":["<!--\r\n * @Autor: linxu\r\n * @Date: 2022-03-19 14:22:48\r\n * @LastEditors: linxu\r\n * @LastEditTime: 2022-09-20 13:49:59\r\n * @Description: 机组关联弹窗\r\n-->\r\n<template>\r\n  <div>\r\n    <el-dialog\r\n      :title=\"title\"\r\n      class=\"progress-records-dialog\"\r\n      width=\"60%\"\r\n      :visible.sync=\"dialigVisible\"\r\n      :close-on-click-modal=\"false\"\r\n      :close-on-press-escape=\"false\"\r\n      :append-to-body=\"true\"\r\n      @close=\"close()\"\r\n    >\r\n      <div class=\"dialog-content\">\r\n        <TableList\r\n          class=\"genset-list-table\"\r\n          :options=\"options\"\r\n          :columns=\"columns\"\r\n          :dataSource=\"gensetTableData\"\r\n          :defaultSelectData=\"selectList\"\r\n          @handleSelectionChange=\"handleSelectionChange\"\r\n          border\r\n          v-loading=\"loading\"\r\n        >\r\n          <!-- <el-table-column\r\n            slot=\"operation\"\r\n            label=\"操作\"\r\n            align=\"center\"\r\n            v-bind=\"options && options.props\"\r\n            v-if=\"OperateType == 2\"\r\n          >\r\n            <template slot-scope=\"scope\">\r\n              <div class=\"operate-group\">\r\n                <el-button\r\n                  v-if=\"!scope.row.flag\"\r\n                  type=\"text\"\r\n                  :disabled=\"projectStatus === 3\"\r\n                  @click=\"handleRelated(scope.row)\"\r\n                >\r\n                  关联\r\n                </el-button>\r\n                <el-button\r\n                  v-else\r\n                  type=\"text\"\r\n                  :disabled=\"projectStatus === 3\"\r\n                  @click=\"handleCancelRelated(scope.row)\"\r\n                >\r\n                  取消关联\r\n                </el-button>\r\n              </div>\r\n            </template>\r\n          </el-table-column> -->\r\n        </TableList>\r\n\r\n        <!-- 操作按钮 -->\r\n        <!-- <div class=\"operation-box\" v-if=\"OperateType == 2\">\r\n          <el-button type=\"primary\" :disabled=\"projectStatus === 3\" @click=\"handleBatchRelated()\"\r\n            >批量关联</el-button\r\n          >\r\n          <el-button\r\n            type=\"primary\"\r\n            :disabled=\"projectStatus === 3\"\r\n            @click=\"handleBatchCancelRelated()\"\r\n            >批量取消关联</el-button\r\n          >\r\n        </div> -->\r\n      </div>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <p class=\"select-text SingleLineHiding\">\r\n          <em>当前已选择：</em> <span :title=\"selectText\">{{ selectText }}</span>\r\n        </p>\r\n        <el-button @click=\"close()\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"nextStep()\" v-if=\"OperateType == 1\">下一步</el-button>\r\n        <el-button\r\n          type=\"primary\"\r\n          v-if=\"OperateType == 2 && projectStatus !== 3\"\r\n          :disabled=\"!(this.selectList && this.selectList.length > 0)\"\r\n          @click=\"handleBatchRelated()\"\r\n          >保存</el-button\r\n        >\r\n      </div>\r\n    </el-dialog>\r\n\r\n    <!-- 记录表单弹窗 -->\r\n    <RecordFormDialog\r\n      v-if=\"RecordFormDialogVisible\"\r\n      :recordParmas=\"recordParmas\"\r\n      :RecordId=\"RecordId\"\r\n      :OperateType=\"OperateType\"\r\n      :GensetList=\"selectList\"\r\n      @closeDialog=\"(val) => closeDialog('RecordFormDialogVisible', val)\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport RecordFormDialog from './RecordFormDialog.vue'\r\nimport _data from './data.js'\r\n\r\nexport default {\r\n  name: 'GensetProgressRecordsDialog',\r\n  props: {\r\n    recordParmas: {\r\n      type: Object,\r\n      default: null\r\n    },\r\n    RecordId: {\r\n      type: Number,\r\n      default: null\r\n    },\r\n    OperateType: {\r\n      type: Number,\r\n      default: null\r\n    } // 操作类型 1--添加选择机组 2--编辑关联\r\n  },\r\n  components: {\r\n    RecordFormDialog\r\n  },\r\n  watch: {\r\n    recordParmas: {\r\n      handler: function (newVal, oldVal) {\r\n        console.log('recordParmas', newVal)\r\n        this.projectStatus = newVal.projectStatus // 项目状态\r\n        this.ProjectId = newVal.ProjectId\r\n        this.ProjectProgressId = newVal.ProjectProgressId\r\n        this.IsGensetMult = newVal.IsGensetMult\r\n      },\r\n      deep: true,\r\n      immediate: true\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      dialigVisible: true,\r\n      title: '第一步：关联机组',\r\n\r\n      projectStatus: null,\r\n      ProjectId: null,\r\n      ProjectProgressId: null,\r\n      IsGensetMult: null, // 是否多选\r\n\r\n      columns: _data.GensetRalatedColumns(this),\r\n      // 表格\r\n      options: {\r\n        index: true, //序号列\r\n        labelIndex: '序号',\r\n        selection: true,\r\n        props: {\r\n          width: 80 // 操作列宽度\r\n        }\r\n      },\r\n      gensetTableData: [],\r\n      selectList: [], // 已选择机组\r\n      RecordFormDialogVisible: false // 记录表单弹窗\r\n    }\r\n  },\r\n  computed: {\r\n    selectText() {\r\n      return this.selectList.map((item) => item.CollectorToken).join(' 、 ')\r\n    },\r\n    GensetList() {\r\n      return this.selectList.map((item) => {\r\n        return { GeneratorSetId: item.GeneratorSetId }\r\n      })\r\n    }\r\n  },\r\n  mounted() {\r\n    console.log(this.recordParmas)\r\n    if (this.OperateType == 1) {\r\n      this.title = '第一步：关联机组'\r\n    } else {\r\n      this.title = '关联机组'\r\n    }\r\n    this.queryTableData()\r\n  },\r\n  methods: {\r\n    // 编辑--查询已关联机组\r\n    async querySelectList() {\r\n      const query = {\r\n        RecordId: this.RecordId\r\n      }\r\n      const list = await this.$api.project\r\n        .GetGensetProjectProgressRecordDetail({}, query)\r\n        .then((res) => {\r\n          if (res.Code === 1) {\r\n            const data = res.Data\r\n            return data.GensetList\r\n              ? data.GensetList.map((item) => {\r\n                  return {\r\n                    ...item.GeneratorSet\r\n                  }\r\n                })\r\n              : []\r\n          }\r\n        })\r\n      this.$set(this, 'selectList', list)\r\n    },\r\n    queryTableData() {\r\n      this.loading = true\r\n      const params = {\r\n        ProjectId: this.ProjectId\r\n      }\r\n      this.$api.project\r\n        .GetGensetProjectJoinGensetByAll(params)\r\n        .then((res) => {\r\n          if (res.Code === 1) {\r\n            this.gensetTableData = res.Data.map((item) => {\r\n              return {\r\n                ID: item.ProjectJoinGensetId,\r\n                IsParallel: item.IsParallel,\r\n                ...item.GeneratorSet\r\n              }\r\n            })\r\n            if (this.OperateType == 2) {\r\n              this.querySelectList()\r\n            }\r\n          }\r\n          this.loading = false\r\n        })\r\n        .catch(() => {\r\n          this.loading = false\r\n        })\r\n    },\r\n\r\n    // 批量关联\r\n    handleBatchRelated(row) {\r\n      const query = {\r\n        id: this.RecordId\r\n      }\r\n      const params = {\r\n        GensetList: this.GensetList\r\n      }\r\n      this.$api.project.EditGensetProjectProgressRecordGenset(params, query).then((res) => {\r\n        if (res.Code === 1) {\r\n          this.$message.success(res.Message)\r\n          this.$emit('closeDialog', { refresh: true })\r\n        }\r\n      })\r\n    },\r\n\r\n    // 获取选中行\r\n    handleSelectionChange(val) {\r\n      this.selectList = val\r\n    },\r\n    // 下一步\r\n    nextStep() {\r\n      if (this.selectList.length == 0) {\r\n        this.$message.warning('请选择机组！')\r\n        return\r\n      }\r\n      if (this.selectList.length > 1 && this.IsGensetMult == 'false') {\r\n        this.$message.warning('请选择一台机组！')\r\n        return\r\n      }\r\n      this.RecordFormDialogVisible = true\r\n    },\r\n    close() {\r\n      this.$emit('closeDialog')\r\n    },\r\n\r\n    // 弹框组件关闭\r\n    closeDialog(key, val) {\r\n      this[key] = false\r\n      if (val && val.refresh) {\r\n        this.$emit('closeDialog', { refresh: true })\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.progress-records-dialog {\r\n  /deep/.el-dialog {\r\n    // min-height: 400px;\r\n    .el-dialog__body {\r\n      padding: 25px;\r\n    }\r\n  }\r\n  .operation-box {\r\n    margin-top: 16px;\r\n  }\r\n  .select-text {\r\n    float: left;\r\n    line-height: 32px;\r\n    width: 75%;\r\n    text-align: left;\r\n    span {\r\n      color: #409eff;\r\n      margin-left: 8px;\r\n    }\r\n  }\r\n}\r\n.theme-dark .progress-records-dialog {\r\n  .select-text em {\r\n    color: #fff;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/projectManage/projectProgressManage/components/GensetRelatedDialog.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-dialog',{staticClass:\"progress-records-dialog\",attrs:{\"title\":_vm.title,\"width\":\"60%\",\"visible\":_vm.dialigVisible,\"close-on-click-modal\":false,\"close-on-press-escape\":false,\"append-to-body\":true},on:{\"update:visible\":function($event){_vm.dialigVisible=$event},\"close\":function($event){return _vm.close()}}},[_c('div',{staticClass:\"dialog-content\"},[_c('TableList',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"genset-list-table\",attrs:{\"options\":_vm.options,\"columns\":_vm.columns,\"dataSource\":_vm.gensetTableData,\"defaultSelectData\":_vm.selectList,\"border\":\"\"},on:{\"handleSelectionChange\":_vm.handleSelectionChange}})],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('p',{staticClass:\"select-text SingleLineHiding\"},[_c('em',[_vm._v(\"当前已选择：\")]),_vm._v(\" \"),_c('span',{attrs:{\"title\":_vm.selectText}},[_vm._v(_vm._s(_vm.selectText))])]),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){return _vm.close()}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),(_vm.OperateType == 1)?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.nextStep()}}},[_vm._v(\"下一步\")]):_vm._e(),_vm._v(\" \"),(_vm.OperateType == 2 && _vm.projectStatus !== 3)?_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":!(this.selectList && this.selectList.length > 0)},on:{\"click\":function($event){return _vm.handleBatchRelated()}}},[_vm._v(\"保存\")]):_vm._e()],1)]),_vm._v(\" \"),(_vm.RecordFormDialogVisible)?_c('RecordFormDialog',{attrs:{\"recordParmas\":_vm.recordParmas,\"RecordId\":_vm.RecordId,\"OperateType\":_vm.OperateType,\"GensetList\":_vm.selectList},on:{\"closeDialog\":function (val) { return _vm.closeDialog('RecordFormDialogVisible', val); }}}):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3983b970\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/projectManage/projectProgressManage/components/GensetRelatedDialog.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3983b970\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./GensetRelatedDialog.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./GensetRelatedDialog.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./GensetRelatedDialog.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3983b970\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./GensetRelatedDialog.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3983b970\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/projectManage/projectProgressManage/components/GensetRelatedDialog.vue\n// module id = null\n// module chunks = ","<!--\r\n * @Autor: linxu\r\n * @Date: 2022-03-19 13:46:34\r\n * @LastEditors: linxu\r\n * @LastEditTime: 2022-09-20 13:41:08\r\n * @Description: 项目工程进度记录\r\n-->\r\n<template>\r\n  <div>\r\n    <!-- <BMainTopComponent\r\n      :isShowBackBtn=\"true\"\r\n      :isHandleBackClick=\"true\"\r\n      @handleBackClick=\"handleBackClick\"\r\n    /> -->\r\n    <div class=\"project-progress-records\">\r\n      <!-- 操作按钮 -->\r\n      <!-- <div class=\"operation-box\">\r\n        <el-button type=\"primary\" @click=\"addProgressRecord()\">添 加</el-button>\r\n      </div> -->\r\n      <p class=\"content-title\">\r\n        项目工程进度记录\r\n        <el-button\r\n          type=\"primary\"\r\n          class=\"comColor\"\r\n          :disabled=\"projectStatus === 3\"\r\n          @click=\"addProgressRecord()\"\r\n          >添 加</el-button\r\n        >\r\n      </p>\r\n      <TableList\r\n        class=\"record-list-table\"\r\n        :options=\"options\"\r\n        :columns=\"columns\"\r\n        :dataSource=\"dataSource\"\r\n        border\r\n        v-loading=\"loading\"\r\n      >\r\n        <el-table-column\r\n          slot=\"operation\"\r\n          label=\"操作\"\r\n          align=\"center\"\r\n          v-bind=\"options && options.props\"\r\n        >\r\n          <template slot-scope=\"scope\">\r\n            <div class=\"operate-group\">\r\n              <el-button type=\"text\" @click=\"showProgressRecord(scope.row)\"> 查看 </el-button>\r\n              <!-- <el-button type=\"text\" @click=\"handleDownloadClick(scope.row)\"> 下载 </el-button> -->\r\n              <el-button\r\n                type=\"text\"\r\n                :disabled=\"projectStatus === 3\"\r\n                @click=\"deleteProgressRecord(scope.row)\"\r\n              >\r\n                删除\r\n              </el-button>\r\n              <el-button type=\"text\" v-if=\"IsGenset == true\" @click=\"relatedGenset(scope.row)\">\r\n                关联机组\r\n              </el-button>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n      </TableList>\r\n\r\n      <!-- <p class=\"content-title\">单机工程进度记录</p>\r\n      <TableList\r\n        class=\"file-list-table\"\r\n        :options=\"options\"\r\n        :columns=\"gensetRecord\"\r\n        :dataSource=\"data\"\r\n        border\r\n        v-loading=\"loading_1\"\r\n      >\r\n        <el-table-column slot=\"operation\" label=\"操作\" align=\"center\" width=\"120\">\r\n          <template slot-scope=\"scope\">\r\n            <div class=\"operate-group\">\r\n              <el-button\r\n                :disabled=\"scope.row.RecordCount == 0\"\r\n                type=\"text\"\r\n                @click=\"showGensetProgressRecord(scope.row)\"\r\n              >\r\n                查看\r\n              </el-button>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n      </TableList> -->\r\n    </div>\r\n    <!-- 关联机组弹窗 -->\r\n    <GensetRelatedDialog\r\n      v-if=\"GensetRelatedDialogVisible\"\r\n      :recordParmas=\"recordParmas\"\r\n      :ProjectProgressId=\"ProjectProgressId\"\r\n      :RecordId=\"RecordId\"\r\n      :OperateType=\"OperateType\"\r\n      @closeDialog=\"(val) => closeDialog('GensetRelatedDialogVisible', val)\"\r\n    />\r\n    <!-- 记录表单弹窗 -->\r\n    <RecordFormDialog\r\n      v-if=\"RecordFormDialogVisible\"\r\n      :recordParmas=\"recordParmas\"\r\n      :RecordId=\"RecordId\"\r\n      :OperateType=\"OperateType\"\r\n      @closeDialog=\"(val) => closeDialog('RecordFormDialogVisible', val)\"\r\n    />\r\n\r\n    <!-- 单机 工程进度记录表 -->\r\n    <GensetProgressRecordsDialog\r\n      v-if=\"RecordsDialogVisible\"\r\n      :ProjectProgressId=\"ProjectProgressId\"\r\n      :GensetId=\"GensetId\"\r\n      @closeDialog=\"(val) => closeDialog('RecordsDialogVisible', val)\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport GensetRelatedDialog from './components/GensetRelatedDialog.vue'\r\nimport RecordFormDialog from './components/RecordFormDialog.vue'\r\nimport GensetProgressRecordsDialog from './components/GensetProgressRecordsDialog.vue'\r\nimport _data from './components/data.js'\r\n\r\nexport default {\r\n  name: 'ProjectProgressRecords',\r\n  props: {\r\n    recordParmas: {\r\n      type: Object,\r\n      default: null\r\n    }\r\n  },\r\n  components: {\r\n    GensetRelatedDialog,\r\n    RecordFormDialog,\r\n    GensetProgressRecordsDialog\r\n  },\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      loading_1: false,\r\n      dialigVisible: true,\r\n\r\n      projectStatus: null, // 项目状态\r\n      ProjectId: null,\r\n      ProjectProgressId: null,\r\n      IsGenset: null,\r\n      IsGensetMult: null,\r\n      GensetId: null,\r\n\r\n      columns: _data.projectProgressRecordsColumns(this), //项目工程进度记录\r\n      gensetRecord: _data.progressRecordsColumns(this), // 单机工程进度记录\r\n      // 表格\r\n      options: {\r\n        index: true, //序号列\r\n        labelIndex: '序号',\r\n        props: {\r\n          width: 240 // 操作列宽度\r\n        }\r\n      },\r\n      dataSource: [],\r\n      data: [],\r\n\r\n      GensetRelatedDialogVisible: false, // 关联机组弹窗\r\n\r\n      RecordFormDialogVisible: false, // 记录表单弹窗\r\n      OperateType: null, // 操作类型 1--项目添加 2--项目查看 3--单机查看\r\n      RecordId: null, // 记录ID\r\n\r\n      RecordsDialogVisible: false // 单机 工程进度记录弹窗\r\n    }\r\n  },\r\n  watch: {\r\n    recordParmas: {\r\n      handler: function (newVal, oldVal) {\r\n        console.log('recordParmas', newVal)\r\n        this.projectStatus = newVal.projectStatus // 项目状态\r\n        this.ProjectId = newVal.ProjectId\r\n        this.ProjectProgressId = newVal.ProjectProgressId\r\n        this.IsGenset = newVal.IsGenset\r\n        this.IsGensetMult = newVal.IsGensetMult\r\n      },\r\n      deep: true,\r\n      immediate: true\r\n    }\r\n  },\r\n  mounted() {\r\n    this.queryTableData()\r\n    // this.queryGensetTableData()\r\n  },\r\n  methods: {\r\n    // 查询项目进度记录\r\n    queryTableData() {\r\n      this.loading = true\r\n      const params = {\r\n        // ...this.searchForm,\r\n        ProjectId: this.ProjectId,\r\n        ProgressId: this.ProjectProgressId\r\n      }\r\n      this.$api.project\r\n        .GetGensetProjectProgressRecord(params)\r\n        .then((res) => {\r\n          if (res.Code === 1) {\r\n            console.log(res)\r\n            this.$set(this, 'dataSource', res.Data)\r\n          }\r\n          this.loading = false\r\n        })\r\n        .catch(() => {\r\n          this.loading = false\r\n        })\r\n    },\r\n    // 查询单机记录\r\n    queryGensetTableData() {\r\n      this.loading_1 = true\r\n      const params = {\r\n        ProjectId: this.ProjectId,\r\n        ProgressId: this.ProjectProgressId\r\n      }\r\n      this.$api.project.GetGensetProjectProgressGensetByAll(params).then((res) => {\r\n        if (res.Code === 1) {\r\n          console.log(res)\r\n          const data = res.Data.map((item) => {\r\n            return {\r\n              IsParallel: item.IsParallel,\r\n              ProgressName: item.ProgressName,\r\n              ProjectJoinGensetId: item.ProjectJoinGensetId,\r\n              RecordCount: item.RecordCount,\r\n              Type: item.Type,\r\n              ...item.GeneratorSet\r\n            }\r\n          })\r\n          this.$set(this, 'data', data)\r\n        }\r\n        this.loading_1 = false\r\n      })\r\n    },\r\n    close() {\r\n      this.$emit('closeDialog')\r\n    },\r\n\r\n    // 添加记录\r\n    addProgressRecord() {\r\n      this.RecordId = null\r\n      this.OperateType = 1\r\n      if (this.IsGenset == true) {\r\n        // 绑定机组\r\n        this.GensetRelatedDialogVisible = true\r\n      } else {\r\n        // 不绑定机组\r\n        this.RecordFormDialogVisible = true\r\n      }\r\n    },\r\n\r\n    // 查看记录\r\n    showProgressRecord(row) {\r\n      this.RecordId = row.RecordId\r\n      this.OperateType = 2\r\n      this.RecordFormDialogVisible = true\r\n    },\r\n\r\n    // 删除\r\n    deleteProgressRecord(row) {\r\n      const h = this.$createElement\r\n      this.$confirm('操作提示', {\r\n        title: '删除记录',\r\n        message: h('div', [h('p', [h('span', '确定删除当前记录吗？')])]),\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      })\r\n        .then(() => {\r\n          const query = { id: row.RecordId }\r\n          this.$api.project.DeleteGensetProjectProgressRecord(query).then((res) => {\r\n            if (res.Code === 1) {\r\n              this.$message({\r\n                type: 'success',\r\n                message: '删除记录成功!'\r\n              })\r\n              this.queryTableData()\r\n            } else {\r\n              this.$message({\r\n                type: 'error',\r\n                message: '删除记录失败，请重新尝试!'\r\n              })\r\n            }\r\n          })\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            type: 'info',\r\n            message: '已取消'\r\n          })\r\n        })\r\n    },\r\n\r\n    // 下载\r\n    handleDownloadClick(row) {\r\n      console.log(row)\r\n    },\r\n\r\n    // 关联机组\r\n    relatedGenset(row) {\r\n      this.RecordId = row.RecordId\r\n      this.OperateType = 2\r\n      // this.RecordFormDialogVisible = true\r\n      this.GensetRelatedDialogVisible = true\r\n    },\r\n\r\n    // 单机 查看\r\n    showGensetProgressRecord(row) {\r\n      console.log(row)\r\n      this.GensetId = row.GeneratorSetId\r\n      this.RecordsDialogVisible = true\r\n    },\r\n    // 弹框组件关闭\r\n    closeDialog(key, val) {\r\n      this[key] = false\r\n      if (val && val.refresh) {\r\n        this.queryTableData()\r\n      }\r\n    },\r\n\r\n    handleBackClick() {\r\n      this.$router.push({ path: '/project/project-detail', query: { active: 4 } })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.project-progress-records {\r\n  display: initial !important;\r\n  .content-title {\r\n    height: 48px;\r\n    line-height: 48px;\r\n    .comColor {\r\n      float: right;\r\n      margin: 8px 16px;\r\n    }\r\n  }\r\n  .record-list-table {\r\n    margin-bottom: 32px;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/projectManage/projectProgressManage/ProjectProgressRecords.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"project-progress-records\"},[_c('p',{staticClass:\"content-title\"},[_vm._v(\"\\n      项目工程进度记录\\n      \"),_c('el-button',{staticClass:\"comColor\",attrs:{\"type\":\"primary\",\"disabled\":_vm.projectStatus === 3},on:{\"click\":function($event){return _vm.addProgressRecord()}}},[_vm._v(\"添 加\")])],1),_vm._v(\" \"),_c('TableList',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"record-list-table\",attrs:{\"options\":_vm.options,\"columns\":_vm.columns,\"dataSource\":_vm.dataSource,\"border\":\"\"}},[_c('el-table-column',_vm._b({attrs:{\"slot\":\"operation\",\"label\":\"操作\",\"align\":\"center\"},slot:\"operation\",scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"operate-group\"},[_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.showProgressRecord(scope.row)}}},[_vm._v(\" 查看 \")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\",\"disabled\":_vm.projectStatus === 3},on:{\"click\":function($event){return _vm.deleteProgressRecord(scope.row)}}},[_vm._v(\"\\n              删除\\n            \")]),_vm._v(\" \"),(_vm.IsGenset == true)?_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.relatedGenset(scope.row)}}},[_vm._v(\"\\n              关联机组\\n            \")]):_vm._e()],1)]}}])},'el-table-column',_vm.options && _vm.options.props,false))],1)],1),_vm._v(\" \"),(_vm.GensetRelatedDialogVisible)?_c('GensetRelatedDialog',{attrs:{\"recordParmas\":_vm.recordParmas,\"ProjectProgressId\":_vm.ProjectProgressId,\"RecordId\":_vm.RecordId,\"OperateType\":_vm.OperateType},on:{\"closeDialog\":function (val) { return _vm.closeDialog('GensetRelatedDialogVisible', val); }}}):_vm._e(),_vm._v(\" \"),(_vm.RecordFormDialogVisible)?_c('RecordFormDialog',{attrs:{\"recordParmas\":_vm.recordParmas,\"RecordId\":_vm.RecordId,\"OperateType\":_vm.OperateType},on:{\"closeDialog\":function (val) { return _vm.closeDialog('RecordFormDialogVisible', val); }}}):_vm._e(),_vm._v(\" \"),(_vm.RecordsDialogVisible)?_c('GensetProgressRecordsDialog',{attrs:{\"ProjectProgressId\":_vm.ProjectProgressId,\"GensetId\":_vm.GensetId},on:{\"closeDialog\":function (val) { return _vm.closeDialog('RecordsDialogVisible', val); }}}):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-792d8dea\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/projectManage/projectProgressManage/ProjectProgressRecords.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-792d8dea\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ProjectProgressRecords.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ProjectProgressRecords.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ProjectProgressRecords.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-792d8dea\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ProjectProgressRecords.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-792d8dea\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/projectManage/projectProgressManage/ProjectProgressRecords.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}