webpackJsonp([28],{"8nAW":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("XNlL"),n={name:"contract-file",mixins:[r.a],data:function(){return{loading:!1,tableData:[]}},methods:{handleUploadFile:function(){},handleDownloadFile:function(e){}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"contract-file"},[a("div",{staticClass:"search-box"},[a("span",{staticClass:"title"},[e._v("合同文件")]),e._v(" "),a("el-button",{on:{click:function(t){return e.handleUploadFile()}}},[e._v("上传文件")])],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"mainTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,height:"100%",border:"","tooltip-effect":"light"}},[a("el-table-column",{attrs:{type:"index",index:e.indexMethod,label:"序号",align:"center",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{prop:"DisplayName",label:"关联合同","min-width":"12%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(t.row.DisplayName))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"Status",label:"文件类型","min-width":"6%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(t.row.Status))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"InstallationSite",label:"文件名称","min-width":"12%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(t.row.InstallationSite))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"DisplayName",label:"上传时间","min-width":"8%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(t.row.LongitudeAndLatitude))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"DisplayName",label:"上传人","min-width":"8%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(t.row.LongitudeAndLatitude))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"DisplayName",label:"备注","min-width":"8%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(t.row.LongitudeAndLatitude))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"table-hover-show-btn"},[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.handleDownloadFile(t.row)}}},[e._v("下载文件")])],1)]}}])})],1),e._v(" "),a("div",{staticClass:"pagination-box mt15"},[a("el-pagination",{attrs:{align:"center","current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageSize,layout:e.layout,total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var o=a("VU/8")(n,l,!1,function(e){a("viwu")},"data-v-4f4bbe46",null).exports,i={name:"renewal-manage",mixins:[r.a],data:function(){return{loading:!1}},methods:{handleAddRenewal:function(){},handleDelete:function(e){}}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"renewal-manage"},[a("div",{staticClass:"search-box"},[a("span",{staticClass:"title"},[e._v("续约管理")]),e._v(" "),a("el-button",{on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("新增续约")])],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"mainTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,height:"100%",border:"","tooltip-effect":"light"}},[a("template",{slot:"empty"},[a("el-empty",{attrs:{image:"/static/img/nodata.png","image-size":80}})],1),e._v(" "),a("el-table-column",{attrs:{prop:"DisplayName",label:"续约次序","min-width":"8%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(t.row.DisplayName))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"Status",label:"合同开始时间","min-width":"10%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(t.row.Status))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"InstallationSite",label:"合同结束时间（原始）","min-width":"16%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(t.row.InstallationSite))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"DisplayName",label:"合同结束时间（续约后）","min-width":"18%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(t.row.LongitudeAndLatitude))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"DisplayName",label:"最后修改时间","min-width":"12%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(t.row.LongitudeAndLatitude))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"DisplayName",label:"最后修改人","min-width":"9%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(t.row.updator))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"DisplayName",label:"备注","min-width":"8%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(t.row.LongitudeAndLatitude))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"table-hover-show-btn"},[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])],1)]}}])})],2),e._v(" "),a("div",{staticClass:"pagination-box mt15"},[a("el-pagination",{attrs:{align:"center","current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageSize,layout:e.layout,total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var u={name:"contract-detail",components:{ContractFileTable:o,RenewalManageTable:a("VU/8")(i,s,!1,function(e){a("dWRu")},"data-v-12b02cc2",null).exports},data:function(){return{ruleForm:{signatory:"",companyName:"",contactNumber:"",businessCounterpart:"",crewName:"",rentalPrice:"",contractTime:"",renewalNum:"",contractNo:"",contractStatus:"1"},rules:{signatory:[{required:!0,message:"请输入签约人名称",trigger:"blur"}],companyName:[{required:!0,message:"请输入公司名称",trigger:"blur"}],contactNumber:[{required:!0,message:"请输入联系电话",trigger:"blur"}],businessCounterpart:[{required:!0,message:"请选择商务对接人",trigger:"change"}],crewName:[{required:!0,message:"请选择机组",trigger:"change"}],rentalPrice:[{required:!0,message:"请输入租赁价格",trigger:"blur"}],contractTime:[{required:!0,message:"请选择合同起止时间",trigger:"change"}],contractNo:[{required:!0,message:"请输入合同编号",trigger:"change"}],contractStatus:[{required:!0,message:"请选择合同状态",trigger:"blur"}]}}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),t.$message.warning("请先填写表单必填项"),!1;console.log(t.ruleForm)})}}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("BMainTopComponent",{attrs:{isShowBackBtn:!0}}),e._v(" "),a("div",{staticClass:"contract-detail"},[a("div",{staticClass:"search-box"},[a("span",{staticClass:"title"},[e._v("合同信息")]),e._v(" "),a("el-button",{on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("编辑")])],1),e._v(" "),a("el-form",{ref:"ruleForm",staticClass:"contract-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"120px"}},[a("div",{staticClass:"form-items"},[a("el-form-item",{attrs:{label:"签约人:",prop:"signatory"}},[a("el-input",{model:{value:e.ruleForm.signatory,callback:function(t){e.$set(e.ruleForm,"signatory",t)},expression:"ruleForm.signatory"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"公司名称:",prop:"companyName"}},[a("el-input",{model:{value:e.ruleForm.companyName,callback:function(t){e.$set(e.ruleForm,"companyName",t)},expression:"ruleForm.companyName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"联系电话:",prop:"contactNumber"}},[a("el-input",{model:{value:e.ruleForm.contactNumber,callback:function(t){e.$set(e.ruleForm,"contactNumber",e._n(t))},expression:"ruleForm.contactNumber"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商务对接:",prop:"businessCounterpart"}},[a("el-input",{model:{value:e.ruleForm.businessCounterpart,callback:function(t){e.$set(e.ruleForm,"businessCounterpart",t)},expression:"ruleForm.businessCounterpart"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"机组名称:",prop:"crewName"}},[a("el-input",{model:{value:e.ruleForm.crewName,callback:function(t){e.$set(e.ruleForm,"crewName",t)},expression:"ruleForm.crewName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"租赁价格:",prop:"rentalPrice"}},[a("el-input",{model:{value:e.ruleForm.rentalPrice,callback:function(t){e.$set(e.ruleForm,"rentalPrice",t)},expression:"ruleForm.rentalPrice"}}),e._v(" "),a("em",[e._v("元")])],1),e._v(" "),a("el-form-item",{attrs:{label:"合同时间:",prop:"contractTime"}},[a("el-date-picker",{attrs:{type:"daterange","value-format":"yyyy-MM-dd","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期",placement:"bottom-start"},model:{value:e.ruleForm.contractTime,callback:function(t){e.$set(e.ruleForm,"contractTime",t)},expression:"ruleForm.contractTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"续约次数:",prop:"renewalNum"}},[a("span",[e._v(e._s(e.ruleForm.renewalNum||0))])]),e._v(" "),a("el-form-item",{attrs:{label:"合同编号:",prop:"contractNo"}},[a("el-input",{model:{value:e.ruleForm.contractNo,callback:function(t){e.$set(e.ruleForm,"contractNo",t)},expression:"ruleForm.contractNo"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"合同状态:",prop:"contractStatus"}},[a("el-select",{attrs:{placeholder:"请选择合同状态","popper-append-to-body":!1},model:{value:e.ruleForm.contractStatus,callback:function(t){e.$set(e.ruleForm,"contractStatus",t)},expression:"ruleForm.contractStatus"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),a("el-option",{attrs:{label:"生效中",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"即将到期",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"已终止",value:"3"}})],1)],1)],1)]),e._v(" "),a("contract-file-table"),e._v(" "),a("renewal-manage-table")],1)],1)},staticRenderFns:[]};var m=a("VU/8")(u,c,!1,function(e){a("I2Dy")},"data-v-31ac4bd3",null);t.default=m.exports},I2Dy:function(e,t){},XNlL:function(e,t,a){"use strict";a.d(t,"a",function(){return r});var r={data:function(){return{tableData:[],total:0,currentPage:1,pageSize:10,loading:!1,layout:"total, sizes, prev, pager, next, jumper",pageSizes:[10,20,30,40]}},created:function(){},mounted:function(){},methods:{indexMethod:function(e){return(this.currentPage-1)*this.pageSize+e+1},handleSizeChange:function(e){console.log("每页 "+e+" 条"),this.currentPage=1,this.pageSize=e,this.queryTableData()},handleCurrentChange:function(e){console.log("当前页: "+e),this.currentPage=e,this.queryTableData()},resetCurrentParams:function(){this.currentPage=1,this.pageSize=10}},watch:{}}},dWRu:function(e,t){},viwu:function(e,t){}});
//# sourceMappingURL=28.cea27a89ec082d3589ca.js.map